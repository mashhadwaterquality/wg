import{r as W,b as zg,c as f_,P as d_,d as g_,e as m_,f as y_,L as p_,T as Bg,B as v_,C as __,X as b_,Y as E_,g as S_,R as w_}from"./vendor-charts-D380i9bj.js";import{r as T_,a as A_,g as O_}from"./vendor-react-B--z-fyW.js";import{L as Ym,M as x_,T as N_,P as R_,a as Hg,C as C_}from"./vendor-maps-DWQrXaQg.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=s(u);fetch(u.href,h)}})();var Vu={exports:{}},gs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function D_(){if(Gg)return gs;Gg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(l,u,h){var f=null;if(h!==void 0&&(f=""+h),u.key!==void 0&&(f=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:a,type:l,key:f,ref:u!==void 0?u:null,props:h}}return gs.Fragment=n,gs.jsx=s,gs.jsxs=s,gs}var qg;function U_(){return qg||(qg=1,Vu.exports=D_()),Vu.exports}var v=U_(),Yu={exports:{}},ms={},Ku={exports:{}},Pu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g;function j_(){return $g||($g=1,(function(a){function n(M,V){var Z=M.length;M.push(V);e:for(;0<Z;){var Se=Z-1>>>1,we=M[Se];if(0<u(we,V))M[Se]=V,M[Z]=we,Z=Se;else break e}}function s(M){return M.length===0?null:M[0]}function l(M){if(M.length===0)return null;var V=M[0],Z=M.pop();if(Z!==V){M[0]=Z;e:for(var Se=0,we=M.length,nt=we>>>1;Se<nt;){var xe=2*(Se+1)-1,de=M[xe],Ve=xe+1,Kt=M[Ve];if(0>u(de,Z))Ve<we&&0>u(Kt,de)?(M[Se]=Kt,M[Ve]=Z,Se=Ve):(M[Se]=de,M[xe]=Z,Se=xe);else if(Ve<we&&0>u(Kt,Z))M[Se]=Kt,M[Ve]=Z,Se=Ve;else break e}}return V}function u(M,V){var Z=M.sortIndex-V.sortIndex;return Z!==0?Z:M.id-V.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();a.unstable_now=function(){return f.now()-g}}var m=[],p=[],b=1,E=null,w=3,A=!1,x=!1,U=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function G(M){for(var V=s(p);V!==null;){if(V.callback===null)l(p);else if(V.startTime<=M)l(p),V.sortIndex=V.expirationTime,n(m,V);else break;V=s(p)}}function q(M){if(U=!1,G(M),!x)if(s(m)!==null)x=!0,H||(H=!0,_e());else{var V=s(p);V!==null&&Ge(q,V.startTime-M)}}var H=!1,$=-1,le=5,he=-1;function Jn(){return S?!0:!(a.unstable_now()-he<le)}function Ce(){if(S=!1,H){var M=a.unstable_now();he=M;var V=!0;try{e:{x=!1,U&&(U=!1,B($),$=-1),A=!0;var Z=w;try{t:{for(G(M),E=s(m);E!==null&&!(E.expirationTime>M&&Jn());){var Se=E.callback;if(typeof Se=="function"){E.callback=null,w=E.priorityLevel;var we=Se(E.expirationTime<=M);if(M=a.unstable_now(),typeof we=="function"){E.callback=we,G(M),V=!0;break t}E===s(m)&&l(m),G(M)}else l(m);E=s(m)}if(E!==null)V=!0;else{var nt=s(p);nt!==null&&Ge(q,nt.startTime-M),V=!1}}break e}finally{E=null,w=Z,A=!1}V=void 0}}finally{V?_e():H=!1}}}var _e;if(typeof I=="function")_e=function(){I(Ce)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,Bt=tt.port2;tt.port1.onmessage=Ce,_e=function(){Bt.postMessage(null)}}else _e=function(){k(Ce,0)};function Ge(M,V){$=k(function(){M(a.unstable_now())},V)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(M){M.callback=null},a.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<M?Math.floor(1e3/M):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(M){switch(w){case 1:case 2:case 3:var V=3;break;default:V=w}var Z=w;w=V;try{return M()}finally{w=Z}},a.unstable_requestPaint=function(){S=!0},a.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Z=w;w=M;try{return V()}finally{w=Z}},a.unstable_scheduleCallback=function(M,V,Z){var Se=a.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Se+Z:Se):Z=Se,M){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=Z+we,M={id:b++,callback:V,priorityLevel:M,startTime:Z,expirationTime:we,sortIndex:-1},Z>Se?(M.sortIndex=Z,n(p,M),s(m)===null&&M===s(p)&&(U?(B($),$=-1):U=!0,Ge(q,Z-Se))):(M.sortIndex=we,n(m,M),x||A||(x=!0,H||(H=!0,_e()))),M},a.unstable_shouldYield=Jn,a.unstable_wrapCallback=function(M){var V=w;return function(){var Z=w;w=V;try{return M.apply(this,arguments)}finally{w=Z}}}})(Pu)),Pu}var Vg;function I_(){return Vg||(Vg=1,Ku.exports=j_()),Ku.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function M_(){if(Yg)return ms;Yg=1;var a=I_(),n=T_(),s=A_();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(h(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(l(188));return t!==e?null:e}for(var i=e,r=t;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return m(o),e;if(c===r)return m(o),t;c=c.sibling}throw Error(l(188))}if(i.return!==r.return)i=o,r=c;else{for(var d=!1,y=o.child;y;){if(y===i){d=!0,i=o,r=c;break}if(y===r){d=!0,r=o,i=c;break}y=y.sibling}if(!d){for(y=c.child;y;){if(y===i){d=!0,i=c,r=o;break}if(y===r){d=!0,r=c,i=o;break}y=y.sibling}if(!d)throw Error(l(189))}}if(i.alternate!==r)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),I=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),he=Symbol.for("react.activity"),Jn=Symbol.for("react.memo_cache_sentinel"),Ce=Symbol.iterator;function _e(e){return e===null||typeof e!="object"?null:(e=Ce&&e[Ce]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Symbol.for("react.client.reference");function Bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case q:return"Suspense";case H:return"SuspenseList";case he:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case I:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return t=e.displayName||null,t!==null?t:Bt(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return Bt(e(t))}catch{}}return null}var Ge=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},Se=[],we=-1;function nt(e){return{current:e}}function xe(e){0>we||(e.current=Se[we],Se[we]=null,we--)}function de(e,t){we++,Se[we]=e.current,e.current=t}var Ve=nt(null),Kt=nt(null),_n=nt(null),Cs=nt(null);function Ds(e,t){switch(de(_n,t),de(Kt,e),de(Ve,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?lg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=lg(t),e=og(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}xe(Ve),de(Ve,e)}function Ea(){xe(Ve),xe(Kt),xe(_n)}function Tl(e){e.memoizedState!==null&&de(Cs,e);var t=Ve.current,i=og(t,e.type);t!==i&&(de(Kt,e),de(Ve,i))}function Us(e){Kt.current===e&&(xe(Ve),xe(Kt)),Cs.current===e&&(xe(Cs),cs._currentValue=Z)}var Al,Lc;function Xn(e){if(Al===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Al=t&&t[1]||"",Lc=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Al+e+Lc}var Ol=!1;function xl(e,t){if(!e||Ol)return"";Ol=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(D){var C=D}Reflect.construct(e,[],z)}else{try{z.call()}catch(D){C=D}e.call(z.prototype)}}else{try{throw Error()}catch(D){C=D}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(D){if(D&&C&&typeof D.stack=="string")return[D.stack,C.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=r.DetermineComponentFrameRoot(),d=c[0],y=c[1];if(d&&y){var _=d.split(`
`),R=y.split(`
`);for(o=r=0;r<_.length&&!_[r].includes("DetermineComponentFrameRoot");)r++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(r===_.length||o===R.length)for(r=_.length-1,o=R.length-1;1<=r&&0<=o&&_[r]!==R[o];)o--;for(;1<=r&&0<=o;r--,o--)if(_[r]!==R[o]){if(r!==1||o!==1)do if(r--,o--,0>o||_[r]!==R[o]){var j=`
`+_[r].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=r&&0<=o);break}}}finally{Ol=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Xn(i):""}function $y(e,t){switch(e.tag){case 26:case 27:case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return e.child!==t&&t!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return xl(e.type,!1);case 11:return xl(e.type.render,!1);case 1:return xl(e.type,!0);case 31:return Xn("Activity");default:return""}}function kc(e){try{var t="",i=null;do t+=$y(e,i),i=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Nl=Object.prototype.hasOwnProperty,Rl=a.unstable_scheduleCallback,Cl=a.unstable_cancelCallback,Vy=a.unstable_shouldYield,Yy=a.unstable_requestPaint,gt=a.unstable_now,Ky=a.unstable_getCurrentPriorityLevel,zc=a.unstable_ImmediatePriority,Bc=a.unstable_UserBlockingPriority,js=a.unstable_NormalPriority,Py=a.unstable_LowPriority,Hc=a.unstable_IdlePriority,Jy=a.log,Xy=a.unstable_setDisableYieldValue,Si=null,mt=null;function bn(e){if(typeof Jy=="function"&&Xy(e),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(Si,e)}catch{}}var yt=Math.clz32?Math.clz32:Zy,Qy=Math.log,Fy=Math.LN2;function Zy(e){return e>>>=0,e===0?32:31-(Qy(e)/Fy|0)|0}var Is=256,Ms=262144,Ls=4194304;function Qn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ks(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var o=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var y=r&134217727;return y!==0?(r=y&~c,r!==0?o=Qn(r):(d&=y,d!==0?o=Qn(d):i||(i=y&~e,i!==0&&(o=Qn(i))))):(y=r&~c,y!==0?o=Qn(y):d!==0?o=Qn(d):i||(i=r&~e,i!==0&&(o=Qn(i)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:o}function wi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Wy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gc(){var e=Ls;return Ls<<=1,(Ls&62914560)===0&&(Ls=4194304),e}function Dl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ti(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ep(e,t,i,r,o,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var y=e.entanglements,_=e.expirationTimes,R=e.hiddenUpdates;for(i=d&~i;0<i;){var j=31-yt(i),z=1<<j;y[j]=0,_[j]=-1;var C=R[j];if(C!==null)for(R[j]=null,j=0;j<C.length;j++){var D=C[j];D!==null&&(D.lane&=-536870913)}i&=~z}r!==0&&qc(e,r,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function qc(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-yt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&261930}function $c(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-yt(i),o=1<<r;o&t|e[r]&t&&(e[r]|=t),i&=~o}}function Vc(e,t){var i=t&-t;return i=(i&42)!==0?1:Ul(i),(i&(e.suspendedLanes|t))!==0?0:i}function Ul(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function jl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yc(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:Dg(e.type))}function Kc(e,t){var i=V.p;try{return V.p=e,t()}finally{V.p=i}}var En=Math.random().toString(36).slice(2),Pe="__reactFiber$"+En,rt="__reactProps$"+En,Sa="__reactContainer$"+En,Il="__reactEvents$"+En,tp="__reactListeners$"+En,np="__reactHandles$"+En,Pc="__reactResources$"+En,Ai="__reactMarker$"+En;function Ml(e){delete e[Pe],delete e[rt],delete e[Il],delete e[tp],delete e[np]}function wa(e){var t=e[Pe];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Sa]||i[Pe]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=mg(e);e!==null;){if(i=e[Pe])return i;e=mg(e)}return t}e=i,i=e.parentNode}return null}function Ta(e){if(e=e[Pe]||e[Sa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Oi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Aa(e){var t=e[Pc];return t||(t=e[Pc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ye(e){e[Ai]=!0}var Jc=new Set,Xc={};function Fn(e,t){Oa(e,t),Oa(e+"Capture",t)}function Oa(e,t){for(Xc[e]=t,e=0;e<t.length;e++)Jc.add(t[e])}var ap=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qc={},Fc={};function ip(e){return Nl.call(Fc,e)?!0:Nl.call(Qc,e)?!1:ap.test(e)?Fc[e]=!0:(Qc[e]=!0,!1)}function zs(e,t,i){if(ip(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Bs(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Ft(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sp(e,t,i){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,c=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){i=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ll(e){if(!e._valueTracker){var t=Zc(e)?"checked":"value";e._valueTracker=sp(e,t,""+e[t])}}function Wc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=Zc(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function Hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rp=/[\n"\\]/g;function Rt(e){return e.replace(rp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function kl(e,t,i,r,o,c,d,y){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Nt(t)):e.value!==""+Nt(t)&&(e.value=""+Nt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?zl(e,d,Nt(t)):i!=null?zl(e,d,Nt(i)):r!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Nt(y):e.removeAttribute("name")}function eh(e,t,i,r,o,c,d,y){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Ll(e);return}i=i!=null?""+Nt(i):"",t=t!=null?""+Nt(t):i,y||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=y?e.checked:!!r,e.defaultChecked=!!r,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Ll(e)}function zl(e,t,i){t==="number"&&Hs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function xa(e,t,i,r){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&r&&(e[i].defaultSelected=!0)}else{for(i=""+Nt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function th(e,t,i){if(t!=null&&(t=""+Nt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Nt(i):""}function nh(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(l(92));if(Ge(r)){if(1<r.length)throw Error(l(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=Nt(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r),Ll(e)}function Na(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var lp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ah(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||lp.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function ih(e,t,i){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&i[o]!==r&&ah(e,o,r)}else for(var c in t)t.hasOwnProperty(c)&&ah(e,c,t[c])}function Bl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var op=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),up=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gs(e){return up.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zt(){}var Hl=null;function Gl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ra=null,Ca=null;function sh(e){var t=Ta(e);if(t&&(e=t.stateNode)){var i=e[rt]||null;e:switch(e=t.stateNode,t.type){case"input":if(kl(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Rt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var o=r[rt]||null;if(!o)throw Error(l(90));kl(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&Wc(r)}break e;case"textarea":th(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&xa(e,!!i.multiple,t,!1)}}}var ql=!1;function rh(e,t,i){if(ql)return e(t,i);ql=!0;try{var r=e(t);return r}finally{if(ql=!1,(Ra!==null||Ca!==null)&&(Nr(),Ra&&(t=Ra,e=Ca,Ca=Ra=null,sh(t),e)))for(t=0;t<e.length;t++)sh(e[t])}}function xi(e,t){var i=e.stateNode;if(i===null)return null;var r=i[rt]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(l(231,t,typeof i));return i}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$l=!1;if(Wt)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){$l=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{$l=!1}var Sn=null,Vl=null,qs=null;function lh(){if(qs)return qs;var e,t=Vl,i=t.length,r,o="value"in Sn?Sn.value:Sn.textContent,c=o.length;for(e=0;e<i&&t[e]===o[e];e++);var d=i-e;for(r=1;r<=d&&t[i-r]===o[c-r];r++);return qs=o.slice(e,1<r?1-r:void 0)}function $s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vs(){return!0}function oh(){return!1}function lt(e){function t(i,r,o,c,d){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Vs:oh,this.isPropagationStopped=oh,this}return E(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=lt(Zn),Ri=E({},Zn,{view:0,detail:0}),cp=lt(Ri),Yl,Kl,Ci,Ks=E({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(Yl=e.screenX-Ci.screenX,Kl=e.screenY-Ci.screenY):Kl=Yl=0,Ci=e),Yl)},movementY:function(e){return"movementY"in e?e.movementY:Kl}}),uh=lt(Ks),hp=E({},Ks,{dataTransfer:0}),fp=lt(hp),dp=E({},Ri,{relatedTarget:0}),Pl=lt(dp),gp=E({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),mp=lt(gp),yp=E({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pp=lt(yp),vp=E({},Zn,{data:0}),ch=lt(vp),_p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ep[e])?!!t[e]:!1}function Jl(){return Sp}var wp=E({},Ri,{key:function(e){if(e.key){var t=_p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jl,charCode:function(e){return e.type==="keypress"?$s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tp=lt(wp),Ap=E({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hh=lt(Ap),Op=E({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jl}),xp=lt(Op),Np=E({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rp=lt(Np),Cp=E({},Ks,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dp=lt(Cp),Up=E({},Zn,{newState:0,oldState:0}),jp=lt(Up),Ip=[9,13,27,32],Xl=Wt&&"CompositionEvent"in window,Di=null;Wt&&"documentMode"in document&&(Di=document.documentMode);var Mp=Wt&&"TextEvent"in window&&!Di,fh=Wt&&(!Xl||Di&&8<Di&&11>=Di),dh=" ",gh=!1;function mh(e,t){switch(e){case"keyup":return Ip.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function Lp(e,t){switch(e){case"compositionend":return yh(t);case"keypress":return t.which!==32?null:(gh=!0,dh);case"textInput":return e=t.data,e===dh&&gh?null:e;default:return null}}function kp(e,t){if(Da)return e==="compositionend"||!Xl&&mh(e,t)?(e=lh(),qs=Vl=Sn=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fh&&t.locale!=="ko"?null:t.data;default:return null}}var zp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ph(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zp[e.type]:t==="textarea"}function vh(e,t,i,r){Ra?Ca?Ca.push(r):Ca=[r]:Ra=r,t=Mr(t,"onChange"),0<t.length&&(i=new Ys("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var Ui=null,ji=null;function Bp(e){tg(e,0)}function Ps(e){var t=Oi(e);if(Wc(t))return e}function _h(e,t){if(e==="change")return t}var bh=!1;if(Wt){var Ql;if(Wt){var Fl="oninput"in document;if(!Fl){var Eh=document.createElement("div");Eh.setAttribute("oninput","return;"),Fl=typeof Eh.oninput=="function"}Ql=Fl}else Ql=!1;bh=Ql&&(!document.documentMode||9<document.documentMode)}function Sh(){Ui&&(Ui.detachEvent("onpropertychange",wh),ji=Ui=null)}function wh(e){if(e.propertyName==="value"&&Ps(ji)){var t=[];vh(t,ji,e,Gl(e)),rh(Bp,t)}}function Hp(e,t,i){e==="focusin"?(Sh(),Ui=t,ji=i,Ui.attachEvent("onpropertychange",wh)):e==="focusout"&&Sh()}function Gp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ps(ji)}function qp(e,t){if(e==="click")return Ps(t)}function $p(e,t){if(e==="input"||e==="change")return Ps(t)}function Vp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:Vp;function Ii(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!Nl.call(t,o)||!pt(e[o],t[o]))return!1}return!0}function Th(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ah(e,t){var i=Th(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Th(i)}}function Oh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Oh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Hs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Hs(e.document)}return t}function Zl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Yp=Wt&&"documentMode"in document&&11>=document.documentMode,Ua=null,Wl=null,Mi=null,eo=!1;function Nh(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;eo||Ua==null||Ua!==Hs(r)||(r=Ua,"selectionStart"in r&&Zl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mi&&Ii(Mi,r)||(Mi=r,r=Mr(Wl,"onSelect"),0<r.length&&(t=new Ys("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=Ua)))}function Wn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ja={animationend:Wn("Animation","AnimationEnd"),animationiteration:Wn("Animation","AnimationIteration"),animationstart:Wn("Animation","AnimationStart"),transitionrun:Wn("Transition","TransitionRun"),transitionstart:Wn("Transition","TransitionStart"),transitioncancel:Wn("Transition","TransitionCancel"),transitionend:Wn("Transition","TransitionEnd")},to={},Rh={};Wt&&(Rh=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function ea(e){if(to[e])return to[e];if(!ja[e])return e;var t=ja[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Rh)return to[e]=t[i];return e}var Ch=ea("animationend"),Dh=ea("animationiteration"),Uh=ea("animationstart"),Kp=ea("transitionrun"),Pp=ea("transitionstart"),Jp=ea("transitioncancel"),jh=ea("transitionend"),Ih=new Map,no="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");no.push("scrollEnd");function Ht(e,t){Ih.set(e,t),Fn(t,[e])}var Js=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ct=[],Ia=0,ao=0;function Xs(){for(var e=Ia,t=ao=Ia=0;t<e;){var i=Ct[t];Ct[t++]=null;var r=Ct[t];Ct[t++]=null;var o=Ct[t];Ct[t++]=null;var c=Ct[t];if(Ct[t++]=null,r!==null&&o!==null){var d=r.pending;d===null?o.next=o:(o.next=d.next,d.next=o),r.pending=o}c!==0&&Mh(i,o,c)}}function Qs(e,t,i,r){Ct[Ia++]=e,Ct[Ia++]=t,Ct[Ia++]=i,Ct[Ia++]=r,ao|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function io(e,t,i,r){return Qs(e,t,i,r),Fs(e)}function ta(e,t){return Qs(e,null,null,t),Fs(e)}function Mh(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var o=!1,c=e.return;c!==null;)c.childLanes|=i,r=c.alternate,r!==null&&(r.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-yt(i),e=c.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=i|536870912),c):null}function Fs(e){if(50<as)throw as=0,gu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ma={};function Xp(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,i,r){return new Xp(e,t,i,r)}function so(e){return e=e.prototype,!(!e||!e.isReactComponent)}function en(e,t){var i=e.alternate;return i===null?(i=vt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Lh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Zs(e,t,i,r,o,c){var d=0;if(r=e,typeof e=="function")so(e)&&(d=1);else if(typeof e=="string")d=e_(e,i,Ve.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case he:return e=vt(31,i,t,o),e.elementType=he,e.lanes=c,e;case U:return na(i.children,o,c,t);case S:d=8,o|=24;break;case k:return e=vt(12,i,t,o|2),e.elementType=k,e.lanes=c,e;case q:return e=vt(13,i,t,o),e.elementType=q,e.lanes=c,e;case H:return e=vt(19,i,t,o),e.elementType=H,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:d=10;break e;case B:d=9;break e;case G:d=11;break e;case $:d=14;break e;case le:d=16,r=null;break e}d=29,i=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=vt(d,i,t,o),t.elementType=e,t.type=r,t.lanes=c,t}function na(e,t,i,r){return e=vt(7,e,r,t),e.lanes=i,e}function ro(e,t,i){return e=vt(6,e,null,t),e.lanes=i,e}function kh(e){var t=vt(18,null,null,0);return t.stateNode=e,t}function lo(e,t,i){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zh=new WeakMap;function Dt(e,t){if(typeof e=="object"&&e!==null){var i=zh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:kc(t)},zh.set(e,t),t)}return{value:e,source:t,stack:kc(t)}}var La=[],ka=0,Ws=null,Li=0,Ut=[],jt=0,wn=null,Pt=1,Jt="";function tn(e,t){La[ka++]=Li,La[ka++]=Ws,Ws=e,Li=t}function Bh(e,t,i){Ut[jt++]=Pt,Ut[jt++]=Jt,Ut[jt++]=wn,wn=e;var r=Pt;e=Jt;var o=32-yt(r)-1;r&=~(1<<o),i+=1;var c=32-yt(t)+o;if(30<c){var d=o-o%5;c=(r&(1<<d)-1).toString(32),r>>=d,o-=d,Pt=1<<32-yt(t)+o|i<<o|r,Jt=c+e}else Pt=1<<c|i<<o|r,Jt=e}function oo(e){e.return!==null&&(tn(e,1),Bh(e,1,0))}function uo(e){for(;e===Ws;)Ws=La[--ka],La[ka]=null,Li=La[--ka],La[ka]=null;for(;e===wn;)wn=Ut[--jt],Ut[jt]=null,Jt=Ut[--jt],Ut[jt]=null,Pt=Ut[--jt],Ut[jt]=null}function Hh(e,t){Ut[jt++]=Pt,Ut[jt++]=Jt,Ut[jt++]=wn,Pt=t.id,Jt=t.overflow,wn=e}var Je=null,Te=null,re=!1,Tn=null,It=!1,co=Error(l(519));function An(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ki(Dt(t,e)),co}function Gh(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[rt]=r,i){case"dialog":ae("cancel",t),ae("close",t);break;case"iframe":case"object":case"embed":ae("load",t);break;case"video":case"audio":for(i=0;i<ss.length;i++)ae(ss[i],t);break;case"source":ae("error",t);break;case"img":case"image":case"link":ae("error",t),ae("load",t);break;case"details":ae("toggle",t);break;case"input":ae("invalid",t),eh(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ae("invalid",t);break;case"textarea":ae("invalid",t),nh(t,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||sg(t.textContent,i)?(r.popover!=null&&(ae("beforetoggle",t),ae("toggle",t)),r.onScroll!=null&&ae("scroll",t),r.onScrollEnd!=null&&ae("scrollend",t),r.onClick!=null&&(t.onclick=Zt),t=!0):t=!1,t||An(e,!0)}function qh(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 31:case 13:It=!1;return;case 27:case 3:It=!0;return;default:Je=Je.return}}function za(e){if(e!==Je)return!1;if(!re)return qh(e),re=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Ru(e.type,e.memoizedProps)),i=!i),i&&Te&&An(e),qh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Te=gg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Te=gg(e)}else t===27?(t=Te,Bn(e.type)?(e=Iu,Iu=null,Te=e):Te=t):Te=Je?Lt(e.stateNode.nextSibling):null;return!0}function aa(){Te=Je=null,re=!1}function ho(){var e=Tn;return e!==null&&(ht===null?ht=e:ht.push.apply(ht,e),Tn=null),e}function ki(e){Tn===null?Tn=[e]:Tn.push(e)}var fo=nt(null),ia=null,nn=null;function On(e,t,i){de(fo,t._currentValue),t._currentValue=i}function an(e){e._currentValue=fo.current,xe(fo)}function go(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function mo(e,t,i,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var d=o.child;c=c.firstContext;e:for(;c!==null;){var y=c;c=o;for(var _=0;_<t.length;_++)if(y.context===t[_]){c.lanes|=i,y=c.alternate,y!==null&&(y.lanes|=i),go(c.return,i,e),r||(d=null);break e}c=y.next}}else if(o.tag===18){if(d=o.return,d===null)throw Error(l(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),go(d,i,e),d=null}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===e){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}}function Ba(e,t,i,r){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var d=o.alternate;if(d===null)throw Error(l(387));if(d=d.memoizedProps,d!==null){var y=o.type;pt(o.pendingProps.value,d.value)||(e!==null?e.push(y):e=[y])}}else if(o===Cs.current){if(d=o.alternate,d===null)throw Error(l(387));d.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(cs):e=[cs])}o=o.return}e!==null&&mo(t,e,i,r),t.flags|=262144}function er(e){for(e=e.firstContext;e!==null;){if(!pt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sa(e){ia=e,nn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return $h(ia,e)}function tr(e,t){return ia===null&&sa(e),$h(e,t)}function $h(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},nn===null){if(e===null)throw Error(l(308));nn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else nn=nn.next=t;return i}var Qp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Fp=a.unstable_scheduleCallback,Zp=a.unstable_NormalPriority,Le={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yo(){return{controller:new Qp,data:new Map,refCount:0}}function zi(e){e.refCount--,e.refCount===0&&Fp(Zp,function(){e.controller.abort()})}var Bi=null,po=0,Ha=0,Ga=null;function Wp(e,t){if(Bi===null){var i=Bi=[];po=0,Ha=bu(),Ga={status:"pending",value:void 0,then:function(r){i.push(r)}}}return po++,t.then(Vh,Vh),t}function Vh(){if(--po===0&&Bi!==null){Ga!==null&&(Ga.status="fulfilled");var e=Bi;Bi=null,Ha=0,Ga=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ev(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),r}var Yh=M.S;M.S=function(e,t){Rd=gt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Wp(e,t),Yh!==null&&Yh(e,t)};var ra=nt(null);function vo(){var e=ra.current;return e!==null?e:be.pooledCache}function nr(e,t){t===null?de(ra,ra.current):de(ra,t.pool)}function Kh(){var e=vo();return e===null?null:{parent:Le._currentValue,pool:e}}var qa=Error(l(460)),_o=Error(l(474)),ar=Error(l(542)),ir={then:function(){}};function Ph(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jh(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Zt,Zt),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qh(e),e;default:if(typeof t.status=="string")t.then(Zt,Zt);else{if(e=be,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qh(e),e}throw oa=t,qa}}function la(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(oa=i,qa):i}}var oa=null;function Xh(){if(oa===null)throw Error(l(459));var e=oa;return oa=null,e}function Qh(e){if(e===qa||e===ar)throw Error(l(483))}var $a=null,Hi=0;function sr(e){var t=Hi;return Hi+=1,$a===null&&($a=[]),Jh($a,e,t)}function Gi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function rr(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Fh(e){function t(O,T){if(e){var N=O.deletions;N===null?(O.deletions=[T],O.flags|=16):N.push(T)}}function i(O,T){if(!e)return null;for(;T!==null;)t(O,T),T=T.sibling;return null}function r(O){for(var T=new Map;O!==null;)O.key!==null?T.set(O.key,O):T.set(O.index,O),O=O.sibling;return T}function o(O,T){return O=en(O,T),O.index=0,O.sibling=null,O}function c(O,T,N){return O.index=N,e?(N=O.alternate,N!==null?(N=N.index,N<T?(O.flags|=67108866,T):N):(O.flags|=67108866,T)):(O.flags|=1048576,T)}function d(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function y(O,T,N,L){return T===null||T.tag!==6?(T=ro(N,O.mode,L),T.return=O,T):(T=o(T,N),T.return=O,T)}function _(O,T,N,L){var J=N.type;return J===U?j(O,T,N.props.children,L,N.key):T!==null&&(T.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===le&&la(J)===T.type)?(T=o(T,N.props),Gi(T,N),T.return=O,T):(T=Zs(N.type,N.key,N.props,null,O.mode,L),Gi(T,N),T.return=O,T)}function R(O,T,N,L){return T===null||T.tag!==4||T.stateNode.containerInfo!==N.containerInfo||T.stateNode.implementation!==N.implementation?(T=lo(N,O.mode,L),T.return=O,T):(T=o(T,N.children||[]),T.return=O,T)}function j(O,T,N,L,J){return T===null||T.tag!==7?(T=na(N,O.mode,L,J),T.return=O,T):(T=o(T,N),T.return=O,T)}function z(O,T,N){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=ro(""+T,O.mode,N),T.return=O,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case A:return N=Zs(T.type,T.key,T.props,null,O.mode,N),Gi(N,T),N.return=O,N;case x:return T=lo(T,O.mode,N),T.return=O,T;case le:return T=la(T),z(O,T,N)}if(Ge(T)||_e(T))return T=na(T,O.mode,N,null),T.return=O,T;if(typeof T.then=="function")return z(O,sr(T),N);if(T.$$typeof===I)return z(O,tr(O,T),N);rr(O,T)}return null}function C(O,T,N,L){var J=T!==null?T.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return J!==null?null:y(O,T,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return N.key===J?_(O,T,N,L):null;case x:return N.key===J?R(O,T,N,L):null;case le:return N=la(N),C(O,T,N,L)}if(Ge(N)||_e(N))return J!==null?null:j(O,T,N,L,null);if(typeof N.then=="function")return C(O,T,sr(N),L);if(N.$$typeof===I)return C(O,T,tr(O,N),L);rr(O,N)}return null}function D(O,T,N,L,J){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return O=O.get(N)||null,y(T,O,""+L,J);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return O=O.get(L.key===null?N:L.key)||null,_(T,O,L,J);case x:return O=O.get(L.key===null?N:L.key)||null,R(T,O,L,J);case le:return L=la(L),D(O,T,N,L,J)}if(Ge(L)||_e(L))return O=O.get(N)||null,j(T,O,L,J,null);if(typeof L.then=="function")return D(O,T,N,sr(L),J);if(L.$$typeof===I)return D(O,T,N,tr(T,L),J);rr(T,L)}return null}function Y(O,T,N,L){for(var J=null,ue=null,K=T,te=T=0,se=null;K!==null&&te<N.length;te++){K.index>te?(se=K,K=null):se=K.sibling;var ce=C(O,K,N[te],L);if(ce===null){K===null&&(K=se);break}e&&K&&ce.alternate===null&&t(O,K),T=c(ce,T,te),ue===null?J=ce:ue.sibling=ce,ue=ce,K=se}if(te===N.length)return i(O,K),re&&tn(O,te),J;if(K===null){for(;te<N.length;te++)K=z(O,N[te],L),K!==null&&(T=c(K,T,te),ue===null?J=K:ue.sibling=K,ue=K);return re&&tn(O,te),J}for(K=r(K);te<N.length;te++)se=D(K,O,te,N[te],L),se!==null&&(e&&se.alternate!==null&&K.delete(se.key===null?te:se.key),T=c(se,T,te),ue===null?J=se:ue.sibling=se,ue=se);return e&&K.forEach(function(Vn){return t(O,Vn)}),re&&tn(O,te),J}function X(O,T,N,L){if(N==null)throw Error(l(151));for(var J=null,ue=null,K=T,te=T=0,se=null,ce=N.next();K!==null&&!ce.done;te++,ce=N.next()){K.index>te?(se=K,K=null):se=K.sibling;var Vn=C(O,K,ce.value,L);if(Vn===null){K===null&&(K=se);break}e&&K&&Vn.alternate===null&&t(O,K),T=c(Vn,T,te),ue===null?J=Vn:ue.sibling=Vn,ue=Vn,K=se}if(ce.done)return i(O,K),re&&tn(O,te),J;if(K===null){for(;!ce.done;te++,ce=N.next())ce=z(O,ce.value,L),ce!==null&&(T=c(ce,T,te),ue===null?J=ce:ue.sibling=ce,ue=ce);return re&&tn(O,te),J}for(K=r(K);!ce.done;te++,ce=N.next())ce=D(K,O,te,ce.value,L),ce!==null&&(e&&ce.alternate!==null&&K.delete(ce.key===null?te:ce.key),T=c(ce,T,te),ue===null?J=ce:ue.sibling=ce,ue=ce);return e&&K.forEach(function(h_){return t(O,h_)}),re&&tn(O,te),J}function ve(O,T,N,L){if(typeof N=="object"&&N!==null&&N.type===U&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case A:e:{for(var J=N.key;T!==null;){if(T.key===J){if(J=N.type,J===U){if(T.tag===7){i(O,T.sibling),L=o(T,N.props.children),L.return=O,O=L;break e}}else if(T.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===le&&la(J)===T.type){i(O,T.sibling),L=o(T,N.props),Gi(L,N),L.return=O,O=L;break e}i(O,T);break}else t(O,T);T=T.sibling}N.type===U?(L=na(N.props.children,O.mode,L,N.key),L.return=O,O=L):(L=Zs(N.type,N.key,N.props,null,O.mode,L),Gi(L,N),L.return=O,O=L)}return d(O);case x:e:{for(J=N.key;T!==null;){if(T.key===J)if(T.tag===4&&T.stateNode.containerInfo===N.containerInfo&&T.stateNode.implementation===N.implementation){i(O,T.sibling),L=o(T,N.children||[]),L.return=O,O=L;break e}else{i(O,T);break}else t(O,T);T=T.sibling}L=lo(N,O.mode,L),L.return=O,O=L}return d(O);case le:return N=la(N),ve(O,T,N,L)}if(Ge(N))return Y(O,T,N,L);if(_e(N)){if(J=_e(N),typeof J!="function")throw Error(l(150));return N=J.call(N),X(O,T,N,L)}if(typeof N.then=="function")return ve(O,T,sr(N),L);if(N.$$typeof===I)return ve(O,T,tr(O,N),L);rr(O,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,T!==null&&T.tag===6?(i(O,T.sibling),L=o(T,N),L.return=O,O=L):(i(O,T),L=ro(N,O.mode,L),L.return=O,O=L),d(O)):i(O,T)}return function(O,T,N,L){try{Hi=0;var J=ve(O,T,N,L);return $a=null,J}catch(K){if(K===qa||K===ar)throw K;var ue=vt(29,K,null,O.mode);return ue.lanes=L,ue.return=O,ue}finally{}}}var ua=Fh(!0),Zh=Fh(!1),xn=!1;function bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(fe&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Fs(e),Mh(e,null,i),t}return Qs(e,r,t,i),Fs(e)}function qi(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,$c(e,i)}}function So(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?o=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?o=c=t:c=c.next=t}else o=c=t;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var wo=!1;function $i(){if(wo){var e=Ga;if(e!==null)throw e}}function Vi(e,t,i,r){wo=!1;var o=e.updateQueue;xn=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var _=y,R=_.next;_.next=null,d===null?c=R:d.next=R,d=_;var j=e.alternate;j!==null&&(j=j.updateQueue,y=j.lastBaseUpdate,y!==d&&(y===null?j.firstBaseUpdate=R:y.next=R,j.lastBaseUpdate=_))}if(c!==null){var z=o.baseState;d=0,j=R=_=null,y=c;do{var C=y.lane&-536870913,D=C!==y.lane;if(D?(ie&C)===C:(r&C)===C){C!==0&&C===Ha&&(wo=!0),j!==null&&(j=j.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var Y=e,X=y;C=t;var ve=i;switch(X.tag){case 1:if(Y=X.payload,typeof Y=="function"){z=Y.call(ve,z,C);break e}z=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=X.payload,C=typeof Y=="function"?Y.call(ve,z,C):Y,C==null)break e;z=E({},z,C);break e;case 2:xn=!0}}C=y.callback,C!==null&&(e.flags|=64,D&&(e.flags|=8192),D=o.callbacks,D===null?o.callbacks=[C]:D.push(C))}else D={lane:C,tag:y.tag,payload:y.payload,callback:y.callback,next:null},j===null?(R=j=D,_=z):j=j.next=D,d|=C;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;D=y,y=D.next,D.next=null,o.lastBaseUpdate=D,o.shared.pending=null}}while(!0);j===null&&(_=z),o.baseState=_,o.firstBaseUpdate=R,o.lastBaseUpdate=j,c===null&&(o.shared.lanes=0),In|=d,e.lanes=d,e.memoizedState=z}}function Wh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function ef(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Wh(i[e],t)}var Va=nt(null),lr=nt(0);function tf(e,t){e=dn,de(lr,e),de(Va,t),dn=e|t.baseLanes}function To(){de(lr,dn),de(Va,Va.current)}function Ao(){dn=lr.current,xe(Va),xe(lr)}var _t=nt(null),Mt=null;function Cn(e){var t=e.alternate;de(Ie,Ie.current&1),de(_t,e),Mt===null&&(t===null||Va.current!==null||t.memoizedState!==null)&&(Mt=e)}function Oo(e){de(Ie,Ie.current),de(_t,e),Mt===null&&(Mt=e)}function nf(e){e.tag===22?(de(Ie,Ie.current),de(_t,e),Mt===null&&(Mt=e)):Dn()}function Dn(){de(Ie,Ie.current),de(_t,_t.current)}function bt(e){xe(_t),Mt===e&&(Mt=null),xe(Ie)}var Ie=nt(0);function or(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Uu(i)||ju(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sn=0,ee=null,ye=null,ke=null,ur=!1,Ya=!1,ca=!1,cr=0,Yi=0,Ka=null,tv=0;function De(){throw Error(l(321))}function xo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!pt(e[i],t[i]))return!1;return!0}function No(e,t,i,r,o,c){return sn=c,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Hf:$o,ca=!1,c=i(r,o),ca=!1,Ya&&(c=sf(t,i,r,o)),af(e),c}function af(e){M.H=Ji;var t=ye!==null&&ye.next!==null;if(sn=0,ke=ye=ee=null,ur=!1,Yi=0,Ka=null,t)throw Error(l(300));e===null||ze||(e=e.dependencies,e!==null&&er(e)&&(ze=!0))}function sf(e,t,i,r){ee=e;var o=0;do{if(Ya&&(Ka=null),Yi=0,Ya=!1,25<=o)throw Error(l(301));if(o+=1,ke=ye=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}M.H=Gf,c=t(i,r)}while(Ya);return c}function nv(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Ki(t):t,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(ee.flags|=1024),t}function Ro(){var e=cr!==0;return cr=0,e}function Co(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Do(e){if(ur){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ur=!1}sn=0,ke=ye=ee=null,Ya=!1,Yi=cr=0,Ka=null}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?ee.memoizedState=ke=e:ke=ke.next=e,ke}function Me(){if(ye===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=ke===null?ee.memoizedState:ke.next;if(t!==null)ke=t,ye=e;else{if(e===null)throw ee.alternate===null?Error(l(467)):Error(l(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},ke===null?ee.memoizedState=ke=e:ke=ke.next=e}return ke}function hr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ki(e){var t=Yi;return Yi+=1,Ka===null&&(Ka=[]),e=Jh(Ka,e,t),t=ee,(ke===null?t.memoizedState:ke.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Hf:$o),e}function fr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ki(e);if(e.$$typeof===I)return Xe(e)}throw Error(l(438,String(e)))}function Uo(e){var t=null,i=ee.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=ee.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=hr(),ee.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=Jn;return t.index++,i}function rn(e,t){return typeof t=="function"?t(e):t}function dr(e){var t=Me();return jo(t,ye,e)}function jo(e,t,i){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=i;var o=e.baseQueue,c=r.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}t.baseQueue=o=c,r.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var y=d=null,_=null,R=t,j=!1;do{var z=R.lane&-536870913;if(z!==R.lane?(ie&z)===z:(sn&z)===z){var C=R.revertLane;if(C===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),z===Ha&&(j=!0);else if((sn&C)===C){R=R.next,C===Ha&&(j=!0);continue}else z={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},_===null?(y=_=z,d=c):_=_.next=z,ee.lanes|=C,In|=C;z=R.action,ca&&i(c,z),c=R.hasEagerState?R.eagerState:i(c,z)}else C={lane:z,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},_===null?(y=_=C,d=c):_=_.next=C,ee.lanes|=z,In|=z;R=R.next}while(R!==null&&R!==t);if(_===null?d=c:_.next=y,!pt(c,e.memoizedState)&&(ze=!0,j&&(i=Ga,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=_,r.lastRenderedState=c}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Io(e){var t=Me(),i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=e;var r=i.dispatch,o=i.pending,c=t.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do c=e(c,d.action),d=d.next;while(d!==o);pt(c,t.memoizedState)||(ze=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,r]}function rf(e,t,i){var r=ee,o=Me(),c=re;if(c){if(i===void 0)throw Error(l(407));i=i()}else i=t();var d=!pt((ye||o).memoizedState,i);if(d&&(o.memoizedState=i,ze=!0),o=o.queue,ko(uf.bind(null,r,o,e),[e]),o.getSnapshot!==t||d||ke!==null&&ke.memoizedState.tag&1){if(r.flags|=2048,Pa(9,{destroy:void 0},of.bind(null,r,o,i,t),null),be===null)throw Error(l(349));c||(sn&127)!==0||lf(r,t,i)}return i}function lf(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ee.updateQueue,t===null?(t=hr(),ee.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function of(e,t,i,r){t.value=i,t.getSnapshot=r,cf(t)&&hf(e)}function uf(e,t,i){return i(function(){cf(t)&&hf(e)})}function cf(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!pt(e,i)}catch{return!0}}function hf(e){var t=ta(e,2);t!==null&&ft(t,e,2)}function Mo(e){var t=at();if(typeof e=="function"){var i=e;if(e=i(),ca){bn(!0);try{i()}finally{bn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:e},t}function ff(e,t,i,r){return e.baseState=i,jo(e,ye,typeof r=="function"?r:rn)}function av(e,t,i,r,o){if(yr(e))throw Error(l(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};M.T!==null?i(!0):c.isTransition=!1,r(c),i=t.pending,i===null?(c.next=t.pending=c,df(t,c)):(c.next=i.next,t.pending=i.next=c)}}function df(e,t){var i=t.action,r=t.payload,o=e.state;if(t.isTransition){var c=M.T,d={};M.T=d;try{var y=i(o,r),_=M.S;_!==null&&_(d,y),gf(e,t,y)}catch(R){Lo(e,t,R)}finally{c!==null&&d.types!==null&&(c.types=d.types),M.T=c}}else try{c=i(o,r),gf(e,t,c)}catch(R){Lo(e,t,R)}}function gf(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){mf(e,t,r)},function(r){return Lo(e,t,r)}):mf(e,t,i)}function mf(e,t,i){t.status="fulfilled",t.value=i,yf(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,df(e,i)))}function Lo(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,yf(t),t=t.next;while(t!==r)}e.action=null}function yf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function pf(e,t){return t}function vf(e,t){if(re){var i=be.formState;if(i!==null){e:{var r=ee;if(re){if(Te){t:{for(var o=Te,c=It;o.nodeType!==8;){if(!c){o=null;break t}if(o=Lt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Te=Lt(o.nextSibling),r=o.data==="F!";break e}}An(r)}r=!1}r&&(t=i[0])}}return i=at(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pf,lastRenderedState:t},i.queue=r,i=kf.bind(null,ee,r),r.dispatch=i,r=Mo(!1),c=qo.bind(null,ee,!1,r.queue),r=at(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,i=av.bind(null,ee,o,c,i),o.dispatch=i,r.memoizedState=e,[t,i,!1]}function _f(e){var t=Me();return bf(t,ye,e)}function bf(e,t,i){if(t=jo(e,t,pf)[0],e=dr(rn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Ki(t)}catch(d){throw d===qa?ar:d}else r=t;t=Me();var o=t.queue,c=o.dispatch;return i!==t.memoizedState&&(ee.flags|=2048,Pa(9,{destroy:void 0},iv.bind(null,o,i),null)),[r,c,e]}function iv(e,t){e.action=t}function Ef(e){var t=Me(),i=ye;if(i!==null)return bf(t,i,e);Me(),t=t.memoizedState,i=Me();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function Pa(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=ee.updateQueue,t===null&&(t=hr(),ee.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function Sf(){return Me().memoizedState}function gr(e,t,i,r){var o=at();ee.flags|=e,o.memoizedState=Pa(1|t,{destroy:void 0},i,r===void 0?null:r)}function mr(e,t,i,r){var o=Me();r=r===void 0?null:r;var c=o.memoizedState.inst;ye!==null&&r!==null&&xo(r,ye.memoizedState.deps)?o.memoizedState=Pa(t,c,i,r):(ee.flags|=e,o.memoizedState=Pa(1|t,c,i,r))}function wf(e,t){gr(8390656,8,e,t)}function ko(e,t){mr(2048,8,e,t)}function sv(e){ee.flags|=4;var t=ee.updateQueue;if(t===null)t=hr(),ee.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Tf(e){var t=Me().memoizedState;return sv({ref:t,nextImpl:e}),function(){if((fe&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Af(e,t){return mr(4,2,e,t)}function Of(e,t){return mr(4,4,e,t)}function xf(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nf(e,t,i){i=i!=null?i.concat([e]):null,mr(4,4,xf.bind(null,t,e),i)}function zo(){}function Rf(e,t){var i=Me();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&xo(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function Cf(e,t){var i=Me();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&xo(t,r[1]))return r[0];if(r=e(),ca){bn(!0);try{e()}finally{bn(!1)}}return i.memoizedState=[r,t],r}function Bo(e,t,i){return i===void 0||(sn&1073741824)!==0&&(ie&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Dd(),ee.lanes|=e,In|=e,i)}function Df(e,t,i,r){return pt(i,t)?i:Va.current!==null?(e=Bo(e,i,r),pt(e,t)||(ze=!0),e):(sn&42)===0||(sn&1073741824)!==0&&(ie&261930)===0?(ze=!0,e.memoizedState=i):(e=Dd(),ee.lanes|=e,In|=e,t)}function Uf(e,t,i,r,o){var c=V.p;V.p=c!==0&&8>c?c:8;var d=M.T,y={};M.T=y,qo(e,!1,t,i);try{var _=o(),R=M.S;if(R!==null&&R(y,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var j=ev(_,r);Pi(e,t,j,wt(e))}else Pi(e,t,r,wt(e))}catch(z){Pi(e,t,{then:function(){},status:"rejected",reason:z},wt())}finally{V.p=c,d!==null&&y.types!==null&&(d.types=y.types),M.T=d}}function rv(){}function Ho(e,t,i,r){if(e.tag!==5)throw Error(l(476));var o=jf(e).queue;Uf(e,o,t,Z,i===null?rv:function(){return If(e),i(r)})}function jf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:Z},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function If(e){var t=jf(e);t.next===null&&(t=e.alternate.memoizedState),Pi(e,t.next.queue,{},wt())}function Go(){return Xe(cs)}function Mf(){return Me().memoizedState}function Lf(){return Me().memoizedState}function lv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=wt();e=Nn(i);var r=Rn(t,e,i);r!==null&&(ft(r,t,i),qi(r,t,i)),t={cache:yo()},e.payload=t;return}t=t.return}}function ov(e,t,i){var r=wt();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},yr(e)?zf(t,i):(i=io(e,t,i,r),i!==null&&(ft(i,e,r),Bf(i,t,r)))}function kf(e,t,i){var r=wt();Pi(e,t,i,r)}function Pi(e,t,i,r){var o={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(yr(e))zf(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,y=c(d,i);if(o.hasEagerState=!0,o.eagerState=y,pt(y,d))return Qs(e,t,o,0),be===null&&Xs(),!1}catch{}finally{}if(i=io(e,t,o,r),i!==null)return ft(i,e,r),Bf(i,t,r),!0}return!1}function qo(e,t,i,r){if(r={lane:2,revertLane:bu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},yr(e)){if(t)throw Error(l(479))}else t=io(e,i,r,2),t!==null&&ft(t,e,2)}function yr(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function zf(e,t){Ya=ur=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Bf(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,$c(e,i)}}var Ji={readContext:Xe,use:fr,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useLayoutEffect:De,useInsertionEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useSyncExternalStore:De,useId:De,useHostTransitionStatus:De,useFormState:De,useActionState:De,useOptimistic:De,useMemoCache:De,useCacheRefresh:De};Ji.useEffectEvent=De;var Hf={readContext:Xe,use:fr,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:Xe,useEffect:wf,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,gr(4194308,4,xf.bind(null,t,e),i)},useLayoutEffect:function(e,t){return gr(4194308,4,e,t)},useInsertionEffect:function(e,t){gr(4,2,e,t)},useMemo:function(e,t){var i=at();t=t===void 0?null:t;var r=e();if(ca){bn(!0);try{e()}finally{bn(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=at();if(i!==void 0){var o=i(t);if(ca){bn(!0);try{i(t)}finally{bn(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=ov.bind(null,ee,e),[r.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:function(e){e=Mo(e);var t=e.queue,i=kf.bind(null,ee,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:zo,useDeferredValue:function(e,t){var i=at();return Bo(i,e,t)},useTransition:function(){var e=Mo(!1);return e=Uf.bind(null,ee,e.queue,!0,!1),at().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=ee,o=at();if(re){if(i===void 0)throw Error(l(407));i=i()}else{if(i=t(),be===null)throw Error(l(349));(ie&127)!==0||lf(r,t,i)}o.memoizedState=i;var c={value:i,getSnapshot:t};return o.queue=c,wf(uf.bind(null,r,c,e),[e]),r.flags|=2048,Pa(9,{destroy:void 0},of.bind(null,r,c,i,t),null),i},useId:function(){var e=at(),t=be.identifierPrefix;if(re){var i=Jt,r=Pt;i=(r&~(1<<32-yt(r)-1)).toString(32)+i,t="_"+t+"R_"+i,i=cr++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=tv++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Go,useFormState:vf,useActionState:vf,useOptimistic:function(e){var t=at();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=qo.bind(null,ee,!0,i),i.dispatch=t,[e,t]},useMemoCache:Uo,useCacheRefresh:function(){return at().memoizedState=lv.bind(null,ee)},useEffectEvent:function(e){var t=at(),i={impl:e};return t.memoizedState=i,function(){if((fe&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}},$o={readContext:Xe,use:fr,useCallback:Rf,useContext:Xe,useEffect:ko,useImperativeHandle:Nf,useInsertionEffect:Af,useLayoutEffect:Of,useMemo:Cf,useReducer:dr,useRef:Sf,useState:function(){return dr(rn)},useDebugValue:zo,useDeferredValue:function(e,t){var i=Me();return Df(i,ye.memoizedState,e,t)},useTransition:function(){var e=dr(rn)[0],t=Me().memoizedState;return[typeof e=="boolean"?e:Ki(e),t]},useSyncExternalStore:rf,useId:Mf,useHostTransitionStatus:Go,useFormState:_f,useActionState:_f,useOptimistic:function(e,t){var i=Me();return ff(i,ye,e,t)},useMemoCache:Uo,useCacheRefresh:Lf};$o.useEffectEvent=Tf;var Gf={readContext:Xe,use:fr,useCallback:Rf,useContext:Xe,useEffect:ko,useImperativeHandle:Nf,useInsertionEffect:Af,useLayoutEffect:Of,useMemo:Cf,useReducer:Io,useRef:Sf,useState:function(){return Io(rn)},useDebugValue:zo,useDeferredValue:function(e,t){var i=Me();return ye===null?Bo(i,e,t):Df(i,ye.memoizedState,e,t)},useTransition:function(){var e=Io(rn)[0],t=Me().memoizedState;return[typeof e=="boolean"?e:Ki(e),t]},useSyncExternalStore:rf,useId:Mf,useHostTransitionStatus:Go,useFormState:Ef,useActionState:Ef,useOptimistic:function(e,t){var i=Me();return ye!==null?ff(i,ye,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Uo,useCacheRefresh:Lf};Gf.useEffectEvent=Tf;function Vo(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:E({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Yo={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=wt(),o=Nn(r);o.payload=t,i!=null&&(o.callback=i),t=Rn(e,o,r),t!==null&&(ft(t,e,r),qi(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=wt(),o=Nn(r);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Rn(e,o,r),t!==null&&(ft(t,e,r),qi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=wt(),r=Nn(i);r.tag=2,t!=null&&(r.callback=t),t=Rn(e,r,i),t!==null&&(ft(t,e,i),qi(t,e,i))}};function qf(e,t,i,r,o,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,c,d):t.prototype&&t.prototype.isPureReactComponent?!Ii(i,r)||!Ii(o,c):!0}function $f(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&Yo.enqueueReplaceState(t,t.state,null)}function ha(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=E({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function Vf(e){Js(e)}function Yf(e){console.error(e)}function Kf(e){Js(e)}function pr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Pf(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ko(e,t,i){return i=Nn(i),i.tag=3,i.payload={element:null},i.callback=function(){pr(e,t)},i}function Jf(e){return e=Nn(e),e.tag=3,e}function Xf(e,t,i,r){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var c=r.value;e.payload=function(){return o(c)},e.callback=function(){Pf(t,i,r)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Pf(t,i,r),typeof o!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})})}function uv(e,t,i,r,o){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&Ba(t,i,o,!0),i=_t.current,i!==null){switch(i.tag){case 31:case 13:return Mt===null?Rr():i.alternate===null&&Ue===0&&(Ue=3),i.flags&=-257,i.flags|=65536,i.lanes=o,r===ir?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),pu(e,r,o)),!1;case 22:return i.flags|=65536,r===ir?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),pu(e,r,o)),!1}throw Error(l(435,i.tag))}return pu(e,r,o),Rr(),!1}if(re)return t=_t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==co&&(e=Error(l(422),{cause:r}),ki(Dt(e,i)))):(r!==co&&(t=Error(l(423),{cause:r}),ki(Dt(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Dt(r,i),o=Ko(e.stateNode,r,o),So(e,o),Ue!==4&&(Ue=2)),!1;var c=Error(l(520),{cause:r});if(c=Dt(c,i),ns===null?ns=[c]:ns.push(c),Ue!==4&&(Ue=2),t===null)return!0;r=Dt(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Ko(i.stateNode,r,e),So(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Mn===null||!Mn.has(c))))return i.flags|=65536,o&=-o,i.lanes|=o,o=Jf(o),Xf(o,e,i,r),So(i,o),!1}i=i.return}while(i!==null);return!1}var Po=Error(l(461)),ze=!1;function Qe(e,t,i,r){t.child=e===null?Zh(t,null,i,r):ua(t,e.child,i,r)}function Qf(e,t,i,r,o){i=i.render;var c=t.ref;if("ref"in r){var d={};for(var y in r)y!=="ref"&&(d[y]=r[y])}else d=r;return sa(t),r=No(e,t,i,d,c,o),y=Ro(),e!==null&&!ze?(Co(e,t,o),ln(e,t,o)):(re&&y&&oo(t),t.flags|=1,Qe(e,t,r,o),t.child)}function Ff(e,t,i,r,o){if(e===null){var c=i.type;return typeof c=="function"&&!so(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,Zf(e,t,c,r,o)):(e=Zs(i.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!tu(e,o)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Ii,i(d,r)&&e.ref===t.ref)return ln(e,t,o)}return t.flags|=1,e=en(c,r),e.ref=t.ref,e.return=t,t.child=e}function Zf(e,t,i,r,o){if(e!==null){var c=e.memoizedProps;if(Ii(c,r)&&e.ref===t.ref)if(ze=!1,t.pendingProps=r=c,tu(e,o))(e.flags&131072)!==0&&(ze=!0);else return t.lanes=e.lanes,ln(e,t,o)}return Jo(e,t,i,r,o)}function Wf(e,t,i,r){var o=r.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|i:i,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~c}else r=0,t.child=null;return ed(e,t,c,i,r)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&nr(t,c!==null?c.cachePool:null),c!==null?tf(t,c):To(),nf(t);else return r=t.lanes=536870912,ed(e,t,c!==null?c.baseLanes|i:i,i,r)}else c!==null?(nr(t,c.cachePool),tf(t,c),Dn(),t.memoizedState=null):(e!==null&&nr(t,null),To(),Dn());return Qe(e,t,o,i),t.child}function Xi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ed(e,t,i,r,o){var c=vo();return c=c===null?null:{parent:Le._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&nr(t,null),To(),nf(t),e!==null&&Ba(e,t,r,!0),t.childLanes=o,null}function vr(e,t){return t=br({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function td(e,t,i){return ua(t,e.child,null,i),e=vr(t,t.pendingProps),e.flags|=2,bt(t),t.memoizedState=null,e}function cv(e,t,i){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(re){if(r.mode==="hidden")return e=vr(t,r),t.lanes=536870912,Xi(null,e);if(Oo(t),(e=Te)?(e=dg(e,It),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:wn!==null?{id:Pt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},i=kh(e),i.return=t,t.child=i,Je=t,Te=null)):e=null,e===null)throw An(t);return t.lanes=536870912,null}return vr(t,r)}var c=e.memoizedState;if(c!==null){var d=c.dehydrated;if(Oo(t),o)if(t.flags&256)t.flags&=-257,t=td(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(ze||Ba(e,t,i,!1),o=(i&e.childLanes)!==0,ze||o){if(r=be,r!==null&&(d=Vc(r,i),d!==0&&d!==c.retryLane))throw c.retryLane=d,ta(e,d),ft(r,e,d),Po;Rr(),t=td(e,t,i)}else e=c.treeContext,Te=Lt(d.nextSibling),Je=t,re=!0,Tn=null,It=!1,e!==null&&Hh(t,e),t=vr(t,r),t.flags|=4096;return t}return e=en(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function _r(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Jo(e,t,i,r,o){return sa(t),i=No(e,t,i,r,void 0,o),r=Ro(),e!==null&&!ze?(Co(e,t,o),ln(e,t,o)):(re&&r&&oo(t),t.flags|=1,Qe(e,t,i,o),t.child)}function nd(e,t,i,r,o,c){return sa(t),t.updateQueue=null,i=sf(t,r,i,o),af(e),r=Ro(),e!==null&&!ze?(Co(e,t,c),ln(e,t,c)):(re&&r&&oo(t),t.flags|=1,Qe(e,t,i,c),t.child)}function ad(e,t,i,r,o){if(sa(t),t.stateNode===null){var c=Ma,d=i.contextType;typeof d=="object"&&d!==null&&(c=Xe(d)),c=new i(r,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Yo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=r,c.state=t.memoizedState,c.refs={},bo(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?Xe(d):Ma,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Vo(t,i,d,r),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&Yo.enqueueReplaceState(c,c.state,null),Vi(t,r,c,o),$i(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){c=t.stateNode;var y=t.memoizedProps,_=ha(i,y);c.props=_;var R=c.context,j=i.contextType;d=Ma,typeof j=="object"&&j!==null&&(d=Xe(j));var z=i.getDerivedStateFromProps;j=typeof z=="function"||typeof c.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,j||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(y||R!==d)&&$f(t,c,r,d),xn=!1;var C=t.memoizedState;c.state=C,Vi(t,r,c,o),$i(),R=t.memoizedState,y||C!==R||xn?(typeof z=="function"&&(Vo(t,i,z,r),R=t.memoizedState),(_=xn||qf(t,i,_,r,C,R,d))?(j||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=R),c.props=r,c.state=R,c.context=d,r=_):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,Eo(e,t),d=t.memoizedProps,j=ha(i,d),c.props=j,z=t.pendingProps,C=c.context,R=i.contextType,_=Ma,typeof R=="object"&&R!==null&&(_=Xe(R)),y=i.getDerivedStateFromProps,(R=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==z||C!==_)&&$f(t,c,r,_),xn=!1,C=t.memoizedState,c.state=C,Vi(t,r,c,o),$i();var D=t.memoizedState;d!==z||C!==D||xn||e!==null&&e.dependencies!==null&&er(e.dependencies)?(typeof y=="function"&&(Vo(t,i,y,r),D=t.memoizedState),(j=xn||qf(t,i,j,r,C,D,_)||e!==null&&e.dependencies!==null&&er(e.dependencies))?(R||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,D,_),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,D,_)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=D),c.props=r,c.state=D,c.context=_,r=j):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),r=!1)}return c=r,_r(e,t),r=(t.flags&128)!==0,c||r?(c=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&r?(t.child=ua(t,e.child,null,o),t.child=ua(t,null,i,o)):Qe(e,t,i,o),t.memoizedState=c.state,e=t.child):e=ln(e,t,o),e}function id(e,t,i,r){return aa(),t.flags|=256,Qe(e,t,i,r),t.child}var Xo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qo(e){return{baseLanes:e,cachePool:Kh()}}function Fo(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=St),e}function sd(e,t,i){var r=t.pendingProps,o=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),d&&(o=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(re){if(o?Cn(t):Dn(),(e=Te)?(e=dg(e,It),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:wn!==null?{id:Pt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},i=kh(e),i.return=t,t.child=i,Je=t,Te=null)):e=null,e===null)throw An(t);return ju(e)?t.lanes=32:t.lanes=536870912,null}var y=r.children;return r=r.fallback,o?(Dn(),o=t.mode,y=br({mode:"hidden",children:y},o),r=na(r,o,i,null),y.return=t,r.return=t,y.sibling=r,t.child=y,r=t.child,r.memoizedState=Qo(i),r.childLanes=Fo(e,d,i),t.memoizedState=Xo,Xi(null,r)):(Cn(t),Zo(t,y))}var _=e.memoizedState;if(_!==null&&(y=_.dehydrated,y!==null)){if(c)t.flags&256?(Cn(t),t.flags&=-257,t=Wo(e,t,i)):t.memoizedState!==null?(Dn(),t.child=e.child,t.flags|=128,t=null):(Dn(),y=r.fallback,o=t.mode,r=br({mode:"visible",children:r.children},o),y=na(y,o,i,null),y.flags|=2,r.return=t,y.return=t,r.sibling=y,t.child=r,ua(t,e.child,null,i),r=t.child,r.memoizedState=Qo(i),r.childLanes=Fo(e,d,i),t.memoizedState=Xo,t=Xi(null,r));else if(Cn(t),ju(y)){if(d=y.nextSibling&&y.nextSibling.dataset,d)var R=d.dgst;d=R,r=Error(l(419)),r.stack="",r.digest=d,ki({value:r,source:null,stack:null}),t=Wo(e,t,i)}else if(ze||Ba(e,t,i,!1),d=(i&e.childLanes)!==0,ze||d){if(d=be,d!==null&&(r=Vc(d,i),r!==0&&r!==_.retryLane))throw _.retryLane=r,ta(e,r),ft(d,e,r),Po;Uu(y)||Rr(),t=Wo(e,t,i)}else Uu(y)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Te=Lt(y.nextSibling),Je=t,re=!0,Tn=null,It=!1,e!==null&&Hh(t,e),t=Zo(t,r.children),t.flags|=4096);return t}return o?(Dn(),y=r.fallback,o=t.mode,_=e.child,R=_.sibling,r=en(_,{mode:"hidden",children:r.children}),r.subtreeFlags=_.subtreeFlags&65011712,R!==null?y=en(R,y):(y=na(y,o,i,null),y.flags|=2),y.return=t,r.return=t,r.sibling=y,t.child=r,Xi(null,r),r=t.child,y=e.child.memoizedState,y===null?y=Qo(i):(o=y.cachePool,o!==null?(_=Le._currentValue,o=o.parent!==_?{parent:_,pool:_}:o):o=Kh(),y={baseLanes:y.baseLanes|i,cachePool:o}),r.memoizedState=y,r.childLanes=Fo(e,d,i),t.memoizedState=Xo,Xi(e.child,r)):(Cn(t),i=e.child,e=i.sibling,i=en(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function Zo(e,t){return t=br({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function br(e,t){return e=vt(22,e,null,t),e.lanes=0,e}function Wo(e,t,i){return ua(t,e.child,null,i),e=Zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rd(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),go(e.return,t,i)}function eu(e,t,i,r,o,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o,treeForkCount:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=i,d.tailMode=o,d.treeForkCount=c)}function ld(e,t,i){var r=t.pendingProps,o=r.revealOrder,c=r.tail;r=r.children;var d=Ie.current,y=(d&2)!==0;if(y?(d=d&1|2,t.flags|=128):d&=1,de(Ie,d),Qe(e,t,r,i),r=re?Li:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rd(e,i,t);else if(e.tag===19)rd(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&or(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),eu(t,!1,o,i,c,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&or(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}eu(t,!0,i,null,c,r);break;case"together":eu(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ln(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),In|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Ba(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,i=en(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=en(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function tu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&er(e)))}function hv(e,t,i){switch(t.tag){case 3:Ds(t,t.stateNode.containerInfo),On(t,Le,e.memoizedState.cache),aa();break;case 27:case 5:Tl(t);break;case 4:Ds(t,t.stateNode.containerInfo);break;case 10:On(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Oo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Cn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?sd(e,t,i):(Cn(t),e=ln(e,t,i),e!==null?e.sibling:null);Cn(t);break;case 19:var o=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(Ba(e,t,i,!1),r=(i&t.childLanes)!==0),o){if(r)return ld(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),de(Ie,Ie.current),r)break;return null;case 22:return t.lanes=0,Wf(e,t,i,t.pendingProps);case 24:On(t,Le,e.memoizedState.cache)}return ln(e,t,i)}function od(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)ze=!0;else{if(!tu(e,i)&&(t.flags&128)===0)return ze=!1,hv(e,t,i);ze=(e.flags&131072)!==0}else ze=!1,re&&(t.flags&1048576)!==0&&Bh(t,Li,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=la(t.elementType),t.type=e,typeof e=="function")so(e)?(r=ha(e,r),t.tag=1,t=ad(null,t,e,r,i)):(t.tag=0,t=Jo(null,t,e,r,i));else{if(e!=null){var o=e.$$typeof;if(o===G){t.tag=11,t=Qf(null,t,e,r,i);break e}else if(o===$){t.tag=14,t=Ff(null,t,e,r,i);break e}}throw t=Bt(e)||e,Error(l(306,t,""))}}return t;case 0:return Jo(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,o=ha(r,t.pendingProps),ad(e,t,r,o,i);case 3:e:{if(Ds(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var c=t.memoizedState;o=c.element,Eo(e,t),Vi(t,r,null,i);var d=t.memoizedState;if(r=d.cache,On(t,Le,r),r!==c.cache&&mo(t,[Le],i,!0),$i(),r=d.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=id(e,t,r,i);break e}else if(r!==o){o=Dt(Error(l(424)),t),ki(o),t=id(e,t,r,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Te=Lt(e.firstChild),Je=t,re=!0,Tn=null,It=!0,i=Zh(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(aa(),r===o){t=ln(e,t,i);break e}Qe(e,t,r,i)}t=t.child}return t;case 26:return _r(e,t),e===null?(i=_g(t.type,null,t.pendingProps,null))?t.memoizedState=i:re||(i=t.type,e=t.pendingProps,r=Lr(_n.current).createElement(i),r[Pe]=t,r[rt]=e,Fe(r,i,e),Ye(r),t.stateNode=r):t.memoizedState=_g(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Tl(t),e===null&&re&&(r=t.stateNode=yg(t.type,t.pendingProps,_n.current),Je=t,It=!0,o=Te,Bn(t.type)?(Iu=o,Te=Lt(r.firstChild)):Te=o),Qe(e,t,t.pendingProps.children,i),_r(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&re&&((o=r=Te)&&(r=Gv(r,t.type,t.pendingProps,It),r!==null?(t.stateNode=r,Je=t,Te=Lt(r.firstChild),It=!1,o=!0):o=!1),o||An(t)),Tl(t),o=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,r=c.children,Ru(o,c)?r=null:d!==null&&Ru(o,d)&&(t.flags|=32),t.memoizedState!==null&&(o=No(e,t,nv,null,null,i),cs._currentValue=o),_r(e,t),Qe(e,t,r,i),t.child;case 6:return e===null&&re&&((e=i=Te)&&(i=qv(i,t.pendingProps,It),i!==null?(t.stateNode=i,Je=t,Te=null,e=!0):e=!1),e||An(t)),null;case 13:return sd(e,t,i);case 4:return Ds(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ua(t,null,r,i):Qe(e,t,r,i),t.child;case 11:return Qf(e,t,t.type,t.pendingProps,i);case 7:return Qe(e,t,t.pendingProps,i),t.child;case 8:return Qe(e,t,t.pendingProps.children,i),t.child;case 12:return Qe(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,On(t,t.type,r.value),Qe(e,t,r.children,i),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,sa(t),o=Xe(o),r=r(o),t.flags|=1,Qe(e,t,r,i),t.child;case 14:return Ff(e,t,t.type,t.pendingProps,i);case 15:return Zf(e,t,t.type,t.pendingProps,i);case 19:return ld(e,t,i);case 31:return cv(e,t,i);case 22:return Wf(e,t,i,t.pendingProps);case 24:return sa(t),r=Xe(Le),e===null?(o=vo(),o===null&&(o=be,c=yo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=i),o=c),t.memoizedState={parent:r,cache:o},bo(t),On(t,Le,o)):((e.lanes&i)!==0&&(Eo(e,t),Vi(t,null,null,i),$i()),o=e.memoizedState,c=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),On(t,Le,r)):(r=c.cache,On(t,Le,r),r!==o.cache&&mo(t,[Le],i,!0))),Qe(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function on(e){e.flags|=4}function nu(e,t,i,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Md())e.flags|=8192;else throw oa=ir,_o}else e.flags&=-16777217}function ud(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tg(t))if(Md())e.flags|=8192;else throw oa=ir,_o}function Er(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Gc():536870912,e.lanes|=t,Fa|=t)}function Qi(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function fv(e,t,i){var r=t.pendingProps;switch(uo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ae(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),an(Le),Ea(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(za(t)?on(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ho())),Ae(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(on(t),c!==null?(Ae(t),ud(t,c)):(Ae(t),nu(t,o,null,r,i))):c?c!==e.memoizedState?(on(t),Ae(t),ud(t,c)):(Ae(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&on(t),Ae(t),nu(t,o,e,r,i)),null;case 27:if(Us(t),i=_n.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&on(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Ae(t),null}e=Ve.current,za(t)?Gh(t):(e=yg(o,r,i),t.stateNode=e,on(t))}return Ae(t),null;case 5:if(Us(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&on(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Ae(t),null}if(c=Ve.current,za(t))Gh(t);else{var d=Lr(_n.current);switch(c){case 1:c=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=d.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof r.is=="string"?d.createElement("select",{is:r.is}):d.createElement("select"),r.multiple?c.multiple=!0:r.size&&(c.size=r.size);break;default:c=typeof r.is=="string"?d.createElement(o,{is:r.is}):d.createElement(o)}}c[Pe]=t,c[rt]=r;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)c.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=c;e:switch(Fe(c,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&on(t)}}return Ae(t),nu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&on(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=_n.current,za(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,o=Je,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Pe]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||sg(e.nodeValue,i)),e||An(t,!0)}else e=Lr(e).createTextNode(r),e[Pe]=t,t.stateNode=e}return Ae(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(r=za(t),i!==null){if(e===null){if(!r)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[Pe]=t}else aa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ae(t),e=!1}else i=ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(bt(t),t):(bt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Ae(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=za(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[Pe]=t}else aa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ae(t),o=!1}else o=ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(bt(t),t):(bt(t),null)}return bt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=r!==null,e=e!==null&&e.memoizedState!==null,i&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Er(t,t.updateQueue),Ae(t),null);case 4:return Ea(),e===null&&Tu(t.stateNode.containerInfo),Ae(t),null;case 10:return an(t.type),Ae(t),null;case 19:if(xe(Ie),r=t.memoizedState,r===null)return Ae(t),null;if(o=(t.flags&128)!==0,c=r.rendering,c===null)if(o)Qi(r,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=or(e),c!==null){for(t.flags|=128,Qi(r,!1),e=c.updateQueue,t.updateQueue=e,Er(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Lh(i,e),i=i.sibling;return de(Ie,Ie.current&1|2),re&&tn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&gt()>Or&&(t.flags|=128,o=!0,Qi(r,!1),t.lanes=4194304)}else{if(!o)if(e=or(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Er(t,e),Qi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!c.alternate&&!re)return Ae(t),null}else 2*gt()-r.renderingStartTime>Or&&i!==536870912&&(t.flags|=128,o=!0,Qi(r,!1),t.lanes=4194304);r.isBackwards?(c.sibling=t.child,t.child=c):(e=r.last,e!==null?e.sibling=c:t.child=c,r.last=c)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=gt(),e.sibling=null,i=Ie.current,de(Ie,o?i&1|2:i&1),re&&tn(t,r.treeForkCount),e):(Ae(t),null);case 22:case 23:return bt(t),Ao(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),i=t.updateQueue,i!==null&&Er(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&xe(ra),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),an(Le),Ae(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function dv(e,t){switch(uo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return an(Le),Ea(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Us(t),null;case 31:if(t.memoizedState!==null){if(bt(t),t.alternate===null)throw Error(l(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(bt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Ie),null;case 4:return Ea(),null;case 10:return an(t.type),null;case 22:case 23:return bt(t),Ao(),e!==null&&xe(ra),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return an(Le),null;case 25:return null;default:return null}}function cd(e,t){switch(uo(t),t.tag){case 3:an(Le),Ea();break;case 26:case 27:case 5:Us(t);break;case 4:Ea();break;case 31:t.memoizedState!==null&&bt(t);break;case 13:bt(t);break;case 19:xe(Ie);break;case 10:an(t.type);break;case 22:case 23:bt(t),Ao(),e!==null&&xe(ra);break;case 24:an(Le)}}function Fi(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var o=r.next;i=o;do{if((i.tag&e)===e){r=void 0;var c=i.create,d=i.inst;r=c(),d.destroy=r}i=i.next}while(i!==o)}}catch(y){me(t,t.return,y)}}function Un(e,t,i){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){var d=r.inst,y=d.destroy;if(y!==void 0){d.destroy=void 0,o=t;var _=i,R=y;try{R()}catch(j){me(o,_,j)}}}r=r.next}while(r!==c)}}catch(j){me(t,t.return,j)}}function hd(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{ef(t,i)}catch(r){me(e,e.return,r)}}}function fd(e,t,i){i.props=ha(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){me(e,t,r)}}function Zi(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(o){me(e,t,o)}}function Xt(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(o){me(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){me(e,t,o)}else i.current=null}function dd(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(o){me(e,e.return,o)}}function au(e,t,i){try{var r=e.stateNode;Mv(r,e.type,i,t),r[rt]=t}catch(o){me(e,e.return,o)}}function gd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bn(e.type)||e.tag===4}function iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function su(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Zt));else if(r!==4&&(r===27&&Bn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(su(e,t,i),e=e.sibling;e!==null;)su(e,t,i),e=e.sibling}function Sr(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&Bn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Sr(e,t,i),e=e.sibling;e!==null;)Sr(e,t,i),e=e.sibling}function md(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Fe(t,r,i),t[Pe]=e,t[rt]=i}catch(c){me(e,e.return,c)}}var un=!1,Be=!1,ru=!1,yd=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function gv(e,t){if(e=e.containerInfo,xu=$r,e=xh(e),Zl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,y=-1,_=-1,R=0,j=0,z=e,C=null;t:for(;;){for(var D;z!==i||o!==0&&z.nodeType!==3||(y=d+o),z!==c||r!==0&&z.nodeType!==3||(_=d+r),z.nodeType===3&&(d+=z.nodeValue.length),(D=z.firstChild)!==null;)C=z,z=D;for(;;){if(z===e)break t;if(C===i&&++R===o&&(y=d),C===c&&++j===r&&(_=d),(D=z.nextSibling)!==null)break;z=C,C=z.parentNode}z=D}i=y===-1||_===-1?null:{start:y,end:_}}else i=null}i=i||{start:0,end:0}}else i=null;for(Nu={focusedElem:e,selectionRange:i},$r=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){switch(t=Ke,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,o=c.memoizedProps,c=c.memoizedState,r=i.stateNode;try{var Y=ha(i.type,o);e=r.getSnapshotBeforeUpdate(Y,c),r.__reactInternalSnapshotBeforeUpdate=e}catch(X){me(i,i.return,X)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Du(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}}function pd(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:hn(e,i),r&4&&Fi(5,i);break;case 1:if(hn(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){me(i,i.return,d)}else{var o=ha(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){me(i,i.return,d)}}r&64&&hd(i),r&512&&Zi(i,i.return);break;case 3:if(hn(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{ef(e,t)}catch(d){me(i,i.return,d)}}break;case 27:t===null&&r&4&&md(i);case 26:case 5:hn(e,i),t===null&&r&4&&dd(i),r&512&&Zi(i,i.return);break;case 12:hn(e,i);break;case 31:hn(e,i),r&4&&bd(e,i);break;case 13:hn(e,i),r&4&&Ed(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=wv.bind(null,i),$v(e,i))));break;case 22:if(r=i.memoizedState!==null||un,!r){t=t!==null&&t.memoizedState!==null||Be,o=un;var c=Be;un=r,(Be=t)&&!c?fn(e,i,(i.subtreeFlags&8772)!==0):hn(e,i),un=o,Be=c}break;case 30:break;default:hn(e,i)}}function vd(e){var t=e.alternate;t!==null&&(e.alternate=null,vd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ml(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,ot=!1;function cn(e,t,i){for(i=i.child;i!==null;)_d(e,t,i),i=i.sibling}function _d(e,t,i){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Si,i)}catch{}switch(i.tag){case 26:Be||Xt(i,t),cn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Be||Xt(i,t);var r=Oe,o=ot;Bn(i.type)&&(Oe=i.stateNode,ot=!1),cn(e,t,i),ls(i.stateNode),Oe=r,ot=o;break;case 5:Be||Xt(i,t);case 6:if(r=Oe,o=ot,Oe=null,cn(e,t,i),Oe=r,ot=o,Oe!==null)if(ot)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(i.stateNode)}catch(c){me(i,t,c)}else try{Oe.removeChild(i.stateNode)}catch(c){me(i,t,c)}break;case 18:Oe!==null&&(ot?(e=Oe,hg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),si(e)):hg(Oe,i.stateNode));break;case 4:r=Oe,o=ot,Oe=i.stateNode.containerInfo,ot=!0,cn(e,t,i),Oe=r,ot=o;break;case 0:case 11:case 14:case 15:Un(2,i,t),Be||Un(4,i,t),cn(e,t,i);break;case 1:Be||(Xt(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&fd(i,t,r)),cn(e,t,i);break;case 21:cn(e,t,i);break;case 22:Be=(r=Be)||i.memoizedState!==null,cn(e,t,i),Be=r;break;default:cn(e,t,i)}}function bd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{si(e)}catch(i){me(t,t.return,i)}}}function Ed(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{si(e)}catch(i){me(t,t.return,i)}}function mv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new yd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new yd),t;default:throw Error(l(435,e.tag))}}function wr(e,t){var i=mv(e);t.forEach(function(r){if(!i.has(r)){i.add(r);var o=Tv.bind(null,e,r);r.then(o,o)}})}function ut(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r],c=e,d=t,y=d;e:for(;y!==null;){switch(y.tag){case 27:if(Bn(y.type)){Oe=y.stateNode,ot=!1;break e}break;case 5:Oe=y.stateNode,ot=!1;break e;case 3:case 4:Oe=y.stateNode.containerInfo,ot=!0;break e}y=y.return}if(Oe===null)throw Error(l(160));_d(c,d,o),Oe=null,ot=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Sd(t,e),t=t.sibling}var Gt=null;function Sd(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ut(t,e),ct(e),r&4&&(Un(3,e,e.return),Fi(3,e),Un(5,e,e.return));break;case 1:ut(t,e),ct(e),r&512&&(Be||i===null||Xt(i,i.return)),r&64&&un&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var o=Gt;if(ut(t,e),ct(e),r&512&&(Be||i===null||Xt(i,i.return)),r&4){var c=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Ai]||c[Pe]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(r),o.head.insertBefore(c,o.querySelector("head > title"))),Fe(c,r,i),c[Pe]=e,Ye(c),r=c;break e;case"link":var d=Sg("link","href",o).get(r+(i.href||""));if(d){for(var y=0;y<d.length;y++)if(c=d[y],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(y,1);break t}}c=o.createElement(r),Fe(c,r,i),o.head.appendChild(c);break;case"meta":if(d=Sg("meta","content",o).get(r+(i.content||""))){for(y=0;y<d.length;y++)if(c=d[y],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(y,1);break t}}c=o.createElement(r),Fe(c,r,i),o.head.appendChild(c);break;default:throw Error(l(468,r))}c[Pe]=e,Ye(c),r=c}e.stateNode=r}else wg(o,e.type,e.stateNode);else e.stateNode=Eg(o,r,e.memoizedProps);else c!==r?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,r===null?wg(o,e.type,e.stateNode):Eg(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&au(e,e.memoizedProps,i.memoizedProps)}break;case 27:ut(t,e),ct(e),r&512&&(Be||i===null||Xt(i,i.return)),i!==null&&r&4&&au(e,e.memoizedProps,i.memoizedProps);break;case 5:if(ut(t,e),ct(e),r&512&&(Be||i===null||Xt(i,i.return)),e.flags&32){o=e.stateNode;try{Na(o,"")}catch(Y){me(e,e.return,Y)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,au(e,o,i!==null?i.memoizedProps:o)),r&1024&&(ru=!0);break;case 6:if(ut(t,e),ct(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(Y){me(e,e.return,Y)}}break;case 3:if(Br=null,o=Gt,Gt=kr(t.containerInfo),ut(t,e),Gt=o,ct(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{si(t.containerInfo)}catch(Y){me(e,e.return,Y)}ru&&(ru=!1,wd(e));break;case 4:r=Gt,Gt=kr(e.stateNode.containerInfo),ut(t,e),ct(e),Gt=r;break;case 12:ut(t,e),ct(e);break;case 31:ut(t,e),ct(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,wr(e,r)));break;case 13:ut(t,e),ct(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ar=gt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,wr(e,r)));break;case 22:o=e.memoizedState!==null;var _=i!==null&&i.memoizedState!==null,R=un,j=Be;if(un=R||o,Be=j||_,ut(t,e),Be=j,un=R,ct(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||_||un||Be||fa(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){_=i=t;try{if(c=_.stateNode,o)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{y=_.stateNode;var z=_.memoizedProps.style,C=z!=null&&z.hasOwnProperty("display")?z.display:null;y.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(Y){me(_,_.return,Y)}}}else if(t.tag===6){if(i===null){_=t;try{_.stateNode.nodeValue=o?"":_.memoizedProps}catch(Y){me(_,_.return,Y)}}}else if(t.tag===18){if(i===null){_=t;try{var D=_.stateNode;o?fg(D,!0):fg(_.stateNode,!1)}catch(Y){me(_,_.return,Y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,wr(e,i))));break;case 19:ut(t,e),ct(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,wr(e,r)));break;case 30:break;case 21:break;default:ut(t,e),ct(e)}}function ct(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(gd(r)){i=r;break}r=r.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var o=i.stateNode,c=iu(e);Sr(e,c,o);break;case 5:var d=i.stateNode;i.flags&32&&(Na(d,""),i.flags&=-33);var y=iu(e);Sr(e,y,d);break;case 3:case 4:var _=i.stateNode.containerInfo,R=iu(e);su(e,R,_);break;default:throw Error(l(161))}}catch(j){me(e,e.return,j)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function hn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)pd(e,t.alternate,t),t=t.sibling}function fa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Un(4,t,t.return),fa(t);break;case 1:Xt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&fd(t,t.return,i),fa(t);break;case 27:ls(t.stateNode);case 26:case 5:Xt(t,t.return),fa(t);break;case 22:t.memoizedState===null&&fa(t);break;case 30:fa(t);break;default:fa(t)}e=e.sibling}}function fn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:fn(o,c,i),Fi(4,c);break;case 1:if(fn(o,c,i),r=c,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){me(r,r.return,R)}if(r=c,o=r.updateQueue,o!==null){var y=r.stateNode;try{var _=o.shared.hiddenCallbacks;if(_!==null)for(o.shared.hiddenCallbacks=null,o=0;o<_.length;o++)Wh(_[o],y)}catch(R){me(r,r.return,R)}}i&&d&64&&hd(c),Zi(c,c.return);break;case 27:md(c);case 26:case 5:fn(o,c,i),i&&r===null&&d&4&&dd(c),Zi(c,c.return);break;case 12:fn(o,c,i);break;case 31:fn(o,c,i),i&&d&4&&bd(o,c);break;case 13:fn(o,c,i),i&&d&4&&Ed(o,c);break;case 22:c.memoizedState===null&&fn(o,c,i),Zi(c,c.return);break;case 30:break;default:fn(o,c,i)}t=t.sibling}}function lu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&zi(i))}function ou(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zi(e))}function qt(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Td(e,t,i,r),t=t.sibling}function Td(e,t,i,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:qt(e,t,i,r),o&2048&&Fi(9,t);break;case 1:qt(e,t,i,r);break;case 3:qt(e,t,i,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zi(e)));break;case 12:if(o&2048){qt(e,t,i,r),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,y=c.onPostCommit;typeof y=="function"&&y(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){me(t,t.return,_)}}else qt(e,t,i,r);break;case 31:qt(e,t,i,r);break;case 13:qt(e,t,i,r);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?qt(e,t,i,r):Wi(e,t):c._visibility&2?qt(e,t,i,r):(c._visibility|=2,Ja(e,t,i,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&lu(d,t);break;case 24:qt(e,t,i,r),o&2048&&ou(t.alternate,t);break;default:qt(e,t,i,r)}}function Ja(e,t,i,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,d=t,y=i,_=r,R=d.flags;switch(d.tag){case 0:case 11:case 15:Ja(c,d,y,_,o),Fi(8,d);break;case 23:break;case 22:var j=d.stateNode;d.memoizedState!==null?j._visibility&2?Ja(c,d,y,_,o):Wi(c,d):(j._visibility|=2,Ja(c,d,y,_,o)),o&&R&2048&&lu(d.alternate,d);break;case 24:Ja(c,d,y,_,o),o&&R&2048&&ou(d.alternate,d);break;default:Ja(c,d,y,_,o)}t=t.sibling}}function Wi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,o=r.flags;switch(r.tag){case 22:Wi(i,r),o&2048&&lu(r.alternate,r);break;case 24:Wi(i,r),o&2048&&ou(r.alternate,r);break;default:Wi(i,r)}t=t.sibling}}var es=8192;function Xa(e,t,i){if(e.subtreeFlags&es)for(e=e.child;e!==null;)Ad(e,t,i),e=e.sibling}function Ad(e,t,i){switch(e.tag){case 26:Xa(e,t,i),e.flags&es&&e.memoizedState!==null&&t_(i,Gt,e.memoizedState,e.memoizedProps);break;case 5:Xa(e,t,i);break;case 3:case 4:var r=Gt;Gt=kr(e.stateNode.containerInfo),Xa(e,t,i),Gt=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=es,es=16777216,Xa(e,t,i),es=r):Xa(e,t,i));break;default:Xa(e,t,i)}}function Od(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ts(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Ke=r,Nd(r,e)}Od(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xd(e),e=e.sibling}function xd(e){switch(e.tag){case 0:case 11:case 15:ts(e),e.flags&2048&&Un(9,e,e.return);break;case 3:ts(e);break;case 12:ts(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Tr(e)):ts(e);break;default:ts(e)}}function Tr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Ke=r,Nd(r,e)}Od(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Un(8,t,t.return),Tr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Tr(t));break;default:Tr(t)}e=e.sibling}}function Nd(e,t){for(;Ke!==null;){var i=Ke;switch(i.tag){case 0:case 11:case 15:Un(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:zi(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Ke=r;else e:for(i=e;Ke!==null;){r=Ke;var o=r.sibling,c=r.return;if(vd(r),r===i){Ke=null;break e}if(o!==null){o.return=c,Ke=o;break e}Ke=c}}}var yv={getCacheForType:function(e){var t=Xe(Le),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Xe(Le).controller.signal}},pv=typeof WeakMap=="function"?WeakMap:Map,fe=0,be=null,ne=null,ie=0,ge=0,Et=null,jn=!1,Qa=!1,uu=!1,dn=0,Ue=0,In=0,da=0,cu=0,St=0,Fa=0,ns=null,ht=null,hu=!1,Ar=0,Rd=0,Or=1/0,xr=null,Mn=null,qe=0,Ln=null,Za=null,gn=0,fu=0,du=null,Cd=null,as=0,gu=null;function wt(){return(fe&2)!==0&&ie!==0?ie&-ie:M.T!==null?bu():Yc()}function Dd(){if(St===0)if((ie&536870912)===0||re){var e=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),St=e}else St=536870912;return e=_t.current,e!==null&&(e.flags|=32),St}function ft(e,t,i){(e===be&&(ge===2||ge===9)||e.cancelPendingCommit!==null)&&(Wa(e,0),kn(e,ie,St,!1)),Ti(e,i),((fe&2)===0||e!==be)&&(e===be&&((fe&2)===0&&(da|=i),Ue===4&&kn(e,ie,St,!1)),Qt(e))}function Ud(e,t,i){if((fe&6)!==0)throw Error(l(327));var r=!i&&(t&127)===0&&(t&e.expiredLanes)===0||wi(e,t),o=r?bv(e,t):yu(e,t,!0),c=r;do{if(o===0){Qa&&!r&&kn(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!vv(i)){o=yu(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var y=e;o=ns;var _=y.current.memoizedState.isDehydrated;if(_&&(Wa(y,d).flags|=256),d=yu(y,d,!1),d!==2){if(uu&&!_){y.errorRecoveryDisabledLanes|=c,da|=c,o=4;break e}c=ht,ht=o,c!==null&&(ht===null?ht=c:ht.push.apply(ht,c))}o=d}if(c=!1,o!==2)continue}}if(o===1){Wa(e,0),kn(e,t,0,!0);break}e:{switch(r=e,c=o,c){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:kn(r,t,St,!jn);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Ar+300-gt(),10<o)){if(kn(r,t,St,!jn),ks(r,0,!0)!==0)break e;gn=t,r.timeoutHandle=ug(jd.bind(null,r,i,ht,xr,hu,t,St,da,Fa,jn,c,"Throttled",-0,0),o);break e}jd(r,i,ht,xr,hu,t,St,da,Fa,jn,c,null,-0,0)}}break}while(!0);Qt(e)}function jd(e,t,i,r,o,c,d,y,_,R,j,z,C,D){if(e.timeoutHandle=-1,z=t.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zt},Ad(t,c,z);var Y=(c&62914560)===c?Ar-gt():(c&4194048)===c?Rd-gt():0;if(Y=n_(z,Y),Y!==null){gn=c,e.cancelPendingCommit=Y(Gd.bind(null,e,t,c,i,r,o,d,y,_,j,z,null,C,D)),kn(e,c,d,!R);return}}Gd(e,t,c,i,r,o,d,y,_)}function vv(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var o=i[r],c=o.getSnapshot;o=o.value;try{if(!pt(c(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t,i,r){t&=~cu,t&=~da,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var c=31-yt(o),d=1<<c;r[c]=-1,o&=~d}i!==0&&qc(e,i,t)}function Nr(){return(fe&6)===0?(is(0),!1):!0}function mu(){if(ne!==null){if(ge===0)var e=ne.return;else e=ne,nn=ia=null,Do(e),$a=null,Hi=0,e=ne;for(;e!==null;)cd(e.alternate,e),e=e.return;ne=null}}function Wa(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,zv(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),gn=0,mu(),be=e,ne=i=en(e.current,null),ie=t,ge=0,Et=null,jn=!1,Qa=wi(e,t),uu=!1,Fa=St=cu=da=In=Ue=0,ht=ns=null,hu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-yt(r),c=1<<o;t|=e[o],r&=~c}return dn=t,Xs(),i}function Id(e,t){ee=null,M.H=Ji,t===qa||t===ar?(t=Xh(),ge=3):t===_o?(t=Xh(),ge=4):ge=t===Po?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Et=t,ne===null&&(Ue=1,pr(e,Dt(t,e.current)))}function Md(){var e=_t.current;return e===null?!0:(ie&4194048)===ie?Mt===null:(ie&62914560)===ie||(ie&536870912)!==0?e===Mt:!1}function Ld(){var e=M.H;return M.H=Ji,e===null?Ji:e}function kd(){var e=M.A;return M.A=yv,e}function Rr(){Ue=4,jn||(ie&4194048)!==ie&&_t.current!==null||(Qa=!0),(In&134217727)===0&&(da&134217727)===0||be===null||kn(be,ie,St,!1)}function yu(e,t,i){var r=fe;fe|=2;var o=Ld(),c=kd();(be!==e||ie!==t)&&(xr=null,Wa(e,t)),t=!1;var d=Ue;e:do try{if(ge!==0&&ne!==null){var y=ne,_=Et;switch(ge){case 8:mu(),d=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(t=!0);var R=ge;if(ge=0,Et=null,ei(e,y,_,R),i&&Qa){d=0;break e}break;default:R=ge,ge=0,Et=null,ei(e,y,_,R)}}_v(),d=Ue;break}catch(j){Id(e,j)}while(!0);return t&&e.shellSuspendCounter++,nn=ia=null,fe=r,M.H=o,M.A=c,ne===null&&(be=null,ie=0,Xs()),d}function _v(){for(;ne!==null;)zd(ne)}function bv(e,t){var i=fe;fe|=2;var r=Ld(),o=kd();be!==e||ie!==t?(xr=null,Or=gt()+500,Wa(e,t)):Qa=wi(e,t);e:do try{if(ge!==0&&ne!==null){t=ne;var c=Et;t:switch(ge){case 1:ge=0,Et=null,ei(e,t,c,1);break;case 2:case 9:if(Ph(c)){ge=0,Et=null,Bd(t);break}t=function(){ge!==2&&ge!==9||be!==e||(ge=7),Qt(e)},c.then(t,t);break e;case 3:ge=7;break e;case 4:ge=5;break e;case 7:Ph(c)?(ge=0,Et=null,Bd(t)):(ge=0,Et=null,ei(e,t,c,7));break;case 5:var d=null;switch(ne.tag){case 26:d=ne.memoizedState;case 5:case 27:var y=ne;if(d?Tg(d):y.stateNode.complete){ge=0,Et=null;var _=y.sibling;if(_!==null)ne=_;else{var R=y.return;R!==null?(ne=R,Cr(R)):ne=null}break t}}ge=0,Et=null,ei(e,t,c,5);break;case 6:ge=0,Et=null,ei(e,t,c,6);break;case 8:mu(),Ue=6;break e;default:throw Error(l(462))}}Ev();break}catch(j){Id(e,j)}while(!0);return nn=ia=null,M.H=r,M.A=o,fe=i,ne!==null?0:(be=null,ie=0,Xs(),Ue)}function Ev(){for(;ne!==null&&!Vy();)zd(ne)}function zd(e){var t=od(e.alternate,e,dn);e.memoizedProps=e.pendingProps,t===null?Cr(e):ne=t}function Bd(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=nd(i,t,t.pendingProps,t.type,void 0,ie);break;case 11:t=nd(i,t,t.pendingProps,t.type.render,t.ref,ie);break;case 5:Do(t);default:cd(i,t),t=ne=Lh(t,dn),t=od(i,t,dn)}e.memoizedProps=e.pendingProps,t===null?Cr(e):ne=t}function ei(e,t,i,r){nn=ia=null,Do(t),$a=null,Hi=0;var o=t.return;try{if(uv(e,o,t,i,ie)){Ue=1,pr(e,Dt(i,e.current)),ne=null;return}}catch(c){if(o!==null)throw ne=o,c;Ue=1,pr(e,Dt(i,e.current)),ne=null;return}t.flags&32768?(re||r===1?e=!0:Qa||(ie&536870912)!==0?e=!1:(jn=e=!0,(r===2||r===9||r===3||r===6)&&(r=_t.current,r!==null&&r.tag===13&&(r.flags|=16384))),Hd(t,e)):Cr(t)}function Cr(e){var t=e;do{if((t.flags&32768)!==0){Hd(t,jn);return}e=t.return;var i=fv(t.alternate,t,dn);if(i!==null){ne=i;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);Ue===0&&(Ue=5)}function Hd(e,t){do{var i=dv(e.alternate,e);if(i!==null){i.flags&=32767,ne=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ne=e;return}ne=e=i}while(e!==null);Ue=6,ne=null}function Gd(e,t,i,r,o,c,d,y,_){e.cancelPendingCommit=null;do Dr();while(qe!==0);if((fe&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(c=t.lanes|t.childLanes,c|=ao,ep(e,i,c,d,y,_),e===be&&(ne=be=null,ie=0),Za=t,Ln=e,gn=i,fu=c,du=o,Cd=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Av(js,function(){return Kd(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=M.T,M.T=null,o=V.p,V.p=2,d=fe,fe|=4;try{gv(e,t,i)}finally{fe=d,V.p=o,M.T=r}}qe=1,qd(),$d(),Vd()}}function qd(){if(qe===1){qe=0;var e=Ln,t=Za,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=M.T,M.T=null;var r=V.p;V.p=2;var o=fe;fe|=4;try{Sd(t,e);var c=Nu,d=xh(e.containerInfo),y=c.focusedElem,_=c.selectionRange;if(d!==y&&y&&y.ownerDocument&&Oh(y.ownerDocument.documentElement,y)){if(_!==null&&Zl(y)){var R=_.start,j=_.end;if(j===void 0&&(j=R),"selectionStart"in y)y.selectionStart=R,y.selectionEnd=Math.min(j,y.value.length);else{var z=y.ownerDocument||document,C=z&&z.defaultView||window;if(C.getSelection){var D=C.getSelection(),Y=y.textContent.length,X=Math.min(_.start,Y),ve=_.end===void 0?X:Math.min(_.end,Y);!D.extend&&X>ve&&(d=ve,ve=X,X=d);var O=Ah(y,X),T=Ah(y,ve);if(O&&T&&(D.rangeCount!==1||D.anchorNode!==O.node||D.anchorOffset!==O.offset||D.focusNode!==T.node||D.focusOffset!==T.offset)){var N=z.createRange();N.setStart(O.node,O.offset),D.removeAllRanges(),X>ve?(D.addRange(N),D.extend(T.node,T.offset)):(N.setEnd(T.node,T.offset),D.addRange(N))}}}}for(z=[],D=y;D=D.parentNode;)D.nodeType===1&&z.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<z.length;y++){var L=z[y];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}$r=!!xu,Nu=xu=null}finally{fe=o,V.p=r,M.T=i}}e.current=t,qe=2}}function $d(){if(qe===2){qe=0;var e=Ln,t=Za,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=M.T,M.T=null;var r=V.p;V.p=2;var o=fe;fe|=4;try{pd(e,t.alternate,t)}finally{fe=o,V.p=r,M.T=i}}qe=3}}function Vd(){if(qe===4||qe===3){qe=0,Yy();var e=Ln,t=Za,i=gn,r=Cd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?qe=5:(qe=0,Za=Ln=null,Yd(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Mn=null),jl(i),t=t.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Si,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=M.T,o=V.p,V.p=2,M.T=null;try{for(var c=e.onRecoverableError,d=0;d<r.length;d++){var y=r[d];c(y.value,{componentStack:y.stack})}}finally{M.T=t,V.p=o}}(gn&3)!==0&&Dr(),Qt(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===gu?as++:(as=0,gu=e):as=0,is(0)}}function Yd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,zi(t)))}function Dr(){return qd(),$d(),Vd(),Kd()}function Kd(){if(qe!==5)return!1;var e=Ln,t=fu;fu=0;var i=jl(gn),r=M.T,o=V.p;try{V.p=32>i?32:i,M.T=null,i=du,du=null;var c=Ln,d=gn;if(qe=0,Za=Ln=null,gn=0,(fe&6)!==0)throw Error(l(331));var y=fe;if(fe|=4,xd(c.current),Td(c,c.current,d,i),fe=y,is(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Si,c)}catch{}return!0}finally{V.p=o,M.T=r,Yd(e,t)}}function Pd(e,t,i){t=Dt(i,t),t=Ko(e.stateNode,t,2),e=Rn(e,t,2),e!==null&&(Ti(e,2),Qt(e))}function me(e,t,i){if(e.tag===3)Pd(e,e,i);else for(;t!==null;){if(t.tag===3){Pd(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))){e=Dt(i,e),i=Jf(2),r=Rn(t,i,2),r!==null&&(Xf(i,r,t,e),Ti(r,2),Qt(r));break}}t=t.return}}function pu(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new pv;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(i)||(uu=!0,o.add(i),e=Sv.bind(null,e,t,i),t.then(e,e))}function Sv(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,be===e&&(ie&i)===i&&(Ue===4||Ue===3&&(ie&62914560)===ie&&300>gt()-Ar?(fe&2)===0&&Wa(e,0):cu|=i,Fa===ie&&(Fa=0)),Qt(e)}function Jd(e,t){t===0&&(t=Gc()),e=ta(e,t),e!==null&&(Ti(e,t),Qt(e))}function wv(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Jd(e,i)}function Tv(e,t){var i=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),Jd(e,i)}function Av(e,t){return Rl(e,t)}var Ur=null,ti=null,vu=!1,jr=!1,_u=!1,zn=0;function Qt(e){e!==ti&&e.next===null&&(ti===null?Ur=ti=e:ti=ti.next=e),jr=!0,vu||(vu=!0,xv())}function is(e,t){if(!_u&&jr){_u=!0;do for(var i=!1,r=Ur;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var c=0;else{var d=r.suspendedLanes,y=r.pingedLanes;c=(1<<31-yt(42|e)+1)-1,c&=o&~(d&~y),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,Zd(r,c))}else c=ie,c=ks(r,r===be?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(c&3)===0||wi(r,c)||(i=!0,Zd(r,c));r=r.next}while(i);_u=!1}}function Ov(){Xd()}function Xd(){jr=vu=!1;var e=0;zn!==0&&kv()&&(e=zn);for(var t=gt(),i=null,r=Ur;r!==null;){var o=r.next,c=Qd(r,t);c===0?(r.next=null,i===null?Ur=o:i.next=o,o===null&&(ti=i)):(i=r,(e!==0||(c&3)!==0)&&(jr=!0)),r=o}qe!==0&&qe!==5||is(e),zn!==0&&(zn=0)}function Qd(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-yt(c),y=1<<d,_=o[d];_===-1?((y&i)===0||(y&r)!==0)&&(o[d]=Wy(y,t)):_<=t&&(e.expiredLanes|=y),c&=~y}if(t=be,i=ie,i=ks(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(ge===2||ge===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Cl(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||wi(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&Cl(r),jl(i)){case 2:case 8:i=Bc;break;case 32:i=js;break;case 268435456:i=Hc;break;default:i=js}return r=Fd.bind(null,e),i=Rl(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&Cl(r),e.callbackPriority=2,e.callbackNode=null,2}function Fd(e,t){if(qe!==0&&qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Dr()&&e.callbackNode!==i)return null;var r=ie;return r=ks(e,e===be?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Ud(e,r,t),Qd(e,gt()),e.callbackNode!=null&&e.callbackNode===i?Fd.bind(null,e):null)}function Zd(e,t){if(Dr())return null;Ud(e,t,!0)}function xv(){Bv(function(){(fe&6)!==0?Rl(zc,Ov):Xd()})}function bu(){if(zn===0){var e=Ha;e===0&&(e=Is,Is<<=1,(Is&261888)===0&&(Is=256)),zn=e}return zn}function Wd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gs(""+e)}function eg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Nv(e,t,i,r,o){if(t==="submit"&&i&&i.stateNode===o){var c=Wd((o[rt]||null).action),d=r.submitter;d&&(t=(t=d[rt]||null)?Wd(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var y=new Ys("action","action",null,r,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(zn!==0){var _=d?eg(o,d):new FormData(o);Ho(i,{pending:!0,data:_,method:o.method,action:c},null,_)}}else typeof c=="function"&&(y.preventDefault(),_=d?eg(o,d):new FormData(o),Ho(i,{pending:!0,data:_,method:o.method,action:c},c,_))},currentTarget:o}]})}}for(var Eu=0;Eu<no.length;Eu++){var Su=no[Eu],Rv=Su.toLowerCase(),Cv=Su[0].toUpperCase()+Su.slice(1);Ht(Rv,"on"+Cv)}Ht(Ch,"onAnimationEnd"),Ht(Dh,"onAnimationIteration"),Ht(Uh,"onAnimationStart"),Ht("dblclick","onDoubleClick"),Ht("focusin","onFocus"),Ht("focusout","onBlur"),Ht(Kp,"onTransitionRun"),Ht(Pp,"onTransitionStart"),Ht(Jp,"onTransitionCancel"),Ht(jh,"onTransitionEnd"),Oa("onMouseEnter",["mouseout","mouseover"]),Oa("onMouseLeave",["mouseout","mouseover"]),Oa("onPointerEnter",["pointerout","pointerover"]),Oa("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ss));function tg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],o=r.event;r=r.listeners;e:{var c=void 0;if(t)for(var d=r.length-1;0<=d;d--){var y=r[d],_=y.instance,R=y.currentTarget;if(y=y.listener,_!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=R;try{c(o)}catch(j){Js(j)}o.currentTarget=null,c=_}else for(d=0;d<r.length;d++){if(y=r[d],_=y.instance,R=y.currentTarget,y=y.listener,_!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=R;try{c(o)}catch(j){Js(j)}o.currentTarget=null,c=_}}}}function ae(e,t){var i=t[Il];i===void 0&&(i=t[Il]=new Set);var r=e+"__bubble";i.has(r)||(ng(t,e,2,!1),i.add(r))}function wu(e,t,i){var r=0;t&&(r|=4),ng(i,e,r,t)}var Ir="_reactListening"+Math.random().toString(36).slice(2);function Tu(e){if(!e[Ir]){e[Ir]=!0,Jc.forEach(function(i){i!=="selectionchange"&&(Dv.has(i)||wu(i,!1,e),wu(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ir]||(t[Ir]=!0,wu("selectionchange",!1,t))}}function ng(e,t,i,r){switch(Dg(t)){case 2:var o=s_;break;case 8:o=r_;break;default:o=Bu}i=o.bind(null,t,i,e),o=void 0,!$l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function Au(e,t,i,r,o){var c=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var y=r.stateNode.containerInfo;if(y===o)break;if(d===4)for(d=r.return;d!==null;){var _=d.tag;if((_===3||_===4)&&d.stateNode.containerInfo===o)return;d=d.return}for(;y!==null;){if(d=wa(y),d===null)return;if(_=d.tag,_===5||_===6||_===26||_===27){r=c=d;continue e}y=y.parentNode}}r=r.return}rh(function(){var R=c,j=Gl(i),z=[];e:{var C=Ih.get(e);if(C!==void 0){var D=Ys,Y=e;switch(e){case"keypress":if($s(i)===0)break e;case"keydown":case"keyup":D=Tp;break;case"focusin":Y="focus",D=Pl;break;case"focusout":Y="blur",D=Pl;break;case"beforeblur":case"afterblur":D=Pl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=xp;break;case Ch:case Dh:case Uh:D=mp;break;case jh:D=Rp;break;case"scroll":case"scrollend":D=cp;break;case"wheel":D=Dp;break;case"copy":case"cut":case"paste":D=pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=hh;break;case"toggle":case"beforetoggle":D=jp}var X=(t&4)!==0,ve=!X&&(e==="scroll"||e==="scrollend"),O=X?C!==null?C+"Capture":null:C;X=[];for(var T=R,N;T!==null;){var L=T;if(N=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||N===null||O===null||(L=xi(T,O),L!=null&&X.push(rs(T,L,N))),ve)break;T=T.return}0<X.length&&(C=new D(C,Y,null,i,j),z.push({event:C,listeners:X}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",C&&i!==Hl&&(Y=i.relatedTarget||i.fromElement)&&(wa(Y)||Y[Sa]))break e;if((D||C)&&(C=j.window===j?j:(C=j.ownerDocument)?C.defaultView||C.parentWindow:window,D?(Y=i.relatedTarget||i.toElement,D=R,Y=Y?wa(Y):null,Y!==null&&(ve=h(Y),X=Y.tag,Y!==ve||X!==5&&X!==27&&X!==6)&&(Y=null)):(D=null,Y=R),D!==Y)){if(X=uh,L="onMouseLeave",O="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(X=hh,L="onPointerLeave",O="onPointerEnter",T="pointer"),ve=D==null?C:Oi(D),N=Y==null?C:Oi(Y),C=new X(L,T+"leave",D,i,j),C.target=ve,C.relatedTarget=N,L=null,wa(j)===R&&(X=new X(O,T+"enter",Y,i,j),X.target=N,X.relatedTarget=ve,L=X),ve=L,D&&Y)t:{for(X=Uv,O=D,T=Y,N=0,L=O;L;L=X(L))N++;L=0;for(var J=T;J;J=X(J))L++;for(;0<N-L;)O=X(O),N--;for(;0<L-N;)T=X(T),L--;for(;N--;){if(O===T||T!==null&&O===T.alternate){X=O;break t}O=X(O),T=X(T)}X=null}else X=null;D!==null&&ag(z,C,D,X,!1),Y!==null&&ve!==null&&ag(z,ve,Y,X,!0)}}e:{if(C=R?Oi(R):window,D=C.nodeName&&C.nodeName.toLowerCase(),D==="select"||D==="input"&&C.type==="file")var ue=_h;else if(ph(C))if(bh)ue=$p;else{ue=Gp;var K=Hp}else D=C.nodeName,!D||D.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?R&&Bl(R.elementType)&&(ue=_h):ue=qp;if(ue&&(ue=ue(e,R))){vh(z,ue,i,j);break e}K&&K(e,C,R),e==="focusout"&&R&&C.type==="number"&&R.memoizedProps.value!=null&&zl(C,"number",C.value)}switch(K=R?Oi(R):window,e){case"focusin":(ph(K)||K.contentEditable==="true")&&(Ua=K,Wl=R,Mi=null);break;case"focusout":Mi=Wl=Ua=null;break;case"mousedown":eo=!0;break;case"contextmenu":case"mouseup":case"dragend":eo=!1,Nh(z,i,j);break;case"selectionchange":if(Yp)break;case"keydown":case"keyup":Nh(z,i,j)}var te;if(Xl)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Da?mh(e,i)&&(se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(se="onCompositionStart");se&&(fh&&i.locale!=="ko"&&(Da||se!=="onCompositionStart"?se==="onCompositionEnd"&&Da&&(te=lh()):(Sn=j,Vl="value"in Sn?Sn.value:Sn.textContent,Da=!0)),K=Mr(R,se),0<K.length&&(se=new ch(se,e,null,i,j),z.push({event:se,listeners:K}),te?se.data=te:(te=yh(i),te!==null&&(se.data=te)))),(te=Mp?Lp(e,i):kp(e,i))&&(se=Mr(R,"onBeforeInput"),0<se.length&&(K=new ch("onBeforeInput","beforeinput",null,i,j),z.push({event:K,listeners:se}),K.data=te)),Nv(z,e,R,i,j)}tg(z,t)})}function rs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Mr(e,t){for(var i=t+"Capture",r=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=xi(e,i),o!=null&&r.unshift(rs(e,o,c)),o=xi(e,t),o!=null&&r.push(rs(e,o,c))),e.tag===3)return r;e=e.return}return[]}function Uv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ag(e,t,i,r,o){for(var c=t._reactName,d=[];i!==null&&i!==r;){var y=i,_=y.alternate,R=y.stateNode;if(y=y.tag,_!==null&&_===r)break;y!==5&&y!==26&&y!==27||R===null||(_=R,o?(R=xi(i,c),R!=null&&d.unshift(rs(i,R,_))):o||(R=xi(i,c),R!=null&&d.push(rs(i,R,_)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var jv=/\r\n?/g,Iv=/\u0000|\uFFFD/g;function ig(e){return(typeof e=="string"?e:""+e).replace(jv,`
`).replace(Iv,"")}function sg(e,t){return t=ig(t),ig(e)===t}function pe(e,t,i,r,o,c){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Na(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Na(e,""+r);break;case"className":Bs(e,"class",r);break;case"tabIndex":Bs(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Bs(e,i,r);break;case"style":ih(e,r,c);break;case"data":if(t!=="object"){Bs(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Gs(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&pe(e,t,"name",o.name,o,null),pe(e,t,"formEncType",o.formEncType,o,null),pe(e,t,"formMethod",o.formMethod,o,null),pe(e,t,"formTarget",o.formTarget,o,null)):(pe(e,t,"encType",o.encType,o,null),pe(e,t,"method",o.method,o,null),pe(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Gs(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=Zt);break;case"onScroll":r!=null&&ae("scroll",e);break;case"onScrollEnd":r!=null&&ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=Gs(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":ae("beforetoggle",e),ae("toggle",e),zs(e,"popover",r);break;case"xlinkActuate":Ft(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ft(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ft(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ft(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ft(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ft(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":zs(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=op.get(i)||i,zs(e,i,r))}}function Ou(e,t,i,r,o,c){switch(i){case"style":ih(e,r,c);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"children":typeof r=="string"?Na(e,r):(typeof r=="number"||typeof r=="bigint")&&Na(e,""+r);break;case"onScroll":r!=null&&ae("scroll",e);break;case"onScrollEnd":r!=null&&ae("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Zt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xc.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),c=e[rt]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof r=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,o);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):zs(e,i,r)}}}function Fe(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",e),ae("load",e);var r=!1,o=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:pe(e,t,c,d,i,null)}}o&&pe(e,t,"srcSet",i.srcSet,i,null),r&&pe(e,t,"src",i.src,i,null);return;case"input":ae("invalid",e);var y=c=d=o=null,_=null,R=null;for(r in i)if(i.hasOwnProperty(r)){var j=i[r];if(j!=null)switch(r){case"name":o=j;break;case"type":d=j;break;case"checked":_=j;break;case"defaultChecked":R=j;break;case"value":c=j;break;case"defaultValue":y=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(l(137,t));break;default:pe(e,t,r,j,i,null)}}eh(e,c,y,_,R,d,o,!1);return;case"select":ae("invalid",e),r=d=c=null;for(o in i)if(i.hasOwnProperty(o)&&(y=i[o],y!=null))switch(o){case"value":c=y;break;case"defaultValue":d=y;break;case"multiple":r=y;default:pe(e,t,o,y,i,null)}t=c,i=d,e.multiple=!!r,t!=null?xa(e,!!r,t,!1):i!=null&&xa(e,!!r,i,!0);return;case"textarea":ae("invalid",e),c=o=r=null;for(d in i)if(i.hasOwnProperty(d)&&(y=i[d],y!=null))switch(d){case"value":r=y;break;case"defaultValue":o=y;break;case"children":c=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:pe(e,t,d,y,i,null)}nh(e,r,o,c);return;case"option":for(_ in i)if(i.hasOwnProperty(_)&&(r=i[_],r!=null))switch(_){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:pe(e,t,_,r,i,null)}return;case"dialog":ae("beforetoggle",e),ae("toggle",e),ae("cancel",e),ae("close",e);break;case"iframe":case"object":ae("load",e);break;case"video":case"audio":for(r=0;r<ss.length;r++)ae(ss[r],e);break;case"image":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"embed":case"source":case"link":ae("error",e),ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in i)if(i.hasOwnProperty(R)&&(r=i[R],r!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:pe(e,t,R,r,i,null)}return;default:if(Bl(t)){for(j in i)i.hasOwnProperty(j)&&(r=i[j],r!==void 0&&Ou(e,t,j,r,i,void 0));return}}for(y in i)i.hasOwnProperty(y)&&(r=i[y],r!=null&&pe(e,t,y,r,i,null))}function Mv(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,d=null,y=null,_=null,R=null,j=null;for(D in i){var z=i[D];if(i.hasOwnProperty(D)&&z!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":_=z;default:r.hasOwnProperty(D)||pe(e,t,D,null,r,z)}}for(var C in r){var D=r[C];if(z=i[C],r.hasOwnProperty(C)&&(D!=null||z!=null))switch(C){case"type":c=D;break;case"name":o=D;break;case"checked":R=D;break;case"defaultChecked":j=D;break;case"value":d=D;break;case"defaultValue":y=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:D!==z&&pe(e,t,C,D,r,z)}}kl(e,d,y,_,R,j,c,o);return;case"select":D=d=y=C=null;for(c in i)if(_=i[c],i.hasOwnProperty(c)&&_!=null)switch(c){case"value":break;case"multiple":D=_;default:r.hasOwnProperty(c)||pe(e,t,c,null,r,_)}for(o in r)if(c=r[o],_=i[o],r.hasOwnProperty(o)&&(c!=null||_!=null))switch(o){case"value":C=c;break;case"defaultValue":y=c;break;case"multiple":d=c;default:c!==_&&pe(e,t,o,c,r,_)}t=y,i=d,r=D,C!=null?xa(e,!!i,C,!1):!!r!=!!i&&(t!=null?xa(e,!!i,t,!0):xa(e,!!i,i?[]:"",!1));return;case"textarea":D=C=null;for(y in i)if(o=i[y],i.hasOwnProperty(y)&&o!=null&&!r.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:pe(e,t,y,null,r,o)}for(d in r)if(o=r[d],c=i[d],r.hasOwnProperty(d)&&(o!=null||c!=null))switch(d){case"value":C=o;break;case"defaultValue":D=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==c&&pe(e,t,d,o,r,c)}th(e,C,D);return;case"option":for(var Y in i)if(C=i[Y],i.hasOwnProperty(Y)&&C!=null&&!r.hasOwnProperty(Y))switch(Y){case"selected":e.selected=!1;break;default:pe(e,t,Y,null,r,C)}for(_ in r)if(C=r[_],D=i[_],r.hasOwnProperty(_)&&C!==D&&(C!=null||D!=null))switch(_){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:pe(e,t,_,C,r,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var X in i)C=i[X],i.hasOwnProperty(X)&&C!=null&&!r.hasOwnProperty(X)&&pe(e,t,X,null,r,C);for(R in r)if(C=r[R],D=i[R],r.hasOwnProperty(R)&&C!==D&&(C!=null||D!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(137,t));break;default:pe(e,t,R,C,r,D)}return;default:if(Bl(t)){for(var ve in i)C=i[ve],i.hasOwnProperty(ve)&&C!==void 0&&!r.hasOwnProperty(ve)&&Ou(e,t,ve,void 0,r,C);for(j in r)C=r[j],D=i[j],!r.hasOwnProperty(j)||C===D||C===void 0&&D===void 0||Ou(e,t,j,C,r,D);return}}for(var O in i)C=i[O],i.hasOwnProperty(O)&&C!=null&&!r.hasOwnProperty(O)&&pe(e,t,O,null,r,C);for(z in r)C=r[z],D=i[z],!r.hasOwnProperty(z)||C===D||C==null&&D==null||pe(e,t,z,C,r,D)}function rg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var o=i[r],c=o.transferSize,d=o.initiatorType,y=o.duration;if(c&&y&&rg(d)){for(d=0,y=o.responseEnd,r+=1;r<i.length;r++){var _=i[r],R=_.startTime;if(R>y)break;var j=_.transferSize,z=_.initiatorType;j&&rg(z)&&(_=_.responseEnd,d+=j*(_<y?1:(y-R)/(_-R)))}if(--r,t+=8*(c+d)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xu=null,Nu=null;function Lr(e){return e.nodeType===9?e:e.ownerDocument}function lg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function og(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ru(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cu=null;function kv(){var e=window.event;return e&&e.type==="popstate"?e===Cu?!1:(Cu=e,!0):(Cu=null,!1)}var ug=typeof setTimeout=="function"?setTimeout:void 0,zv=typeof clearTimeout=="function"?clearTimeout:void 0,cg=typeof Promise=="function"?Promise:void 0,Bv=typeof queueMicrotask=="function"?queueMicrotask:typeof cg<"u"?function(e){return cg.resolve(null).then(e).catch(Hv)}:ug;function Hv(e){setTimeout(function(){throw e})}function Bn(e){return e==="head"}function hg(e,t){var i=t,r=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(r===0){e.removeChild(o),si(t);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")ls(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,ls(i);for(var c=i.firstChild;c;){var d=c.nextSibling,y=c.nodeName;c[Ai]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=d}}else i==="body"&&ls(e.ownerDocument.body);i=o}while(i);si(t)}function fg(e,t){var i=e;e=0;do{var r=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=r}while(i)}function Du(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Du(i),Ml(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Gv(e,t,i,r){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ai])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Lt(e.nextSibling),e===null)break}return null}function qv(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Lt(e.nextSibling),e===null))return null;return e}function dg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Lt(e.nextSibling),e===null))return null;return e}function Uu(e){return e.data==="$?"||e.data==="$~"}function ju(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $v(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Iu=null;function gg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Lt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function mg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function yg(e,t,i){switch(t=Lr(i),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ls(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ml(e)}var kt=new Map,pg=new Set;function kr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mn=V.d;V.d={f:Vv,r:Yv,D:Kv,C:Pv,L:Jv,m:Xv,X:Fv,S:Qv,M:Zv};function Vv(){var e=mn.f(),t=Nr();return e||t}function Yv(e){var t=Ta(e);t!==null&&t.tag===5&&t.type==="form"?If(t):mn.r(e)}var ni=typeof document>"u"?null:document;function vg(e,t,i){var r=ni;if(r&&typeof t=="string"&&t){var o=Rt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),pg.has(o)||(pg.add(o),e={rel:e,crossOrigin:i,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),Fe(t,"link",e),Ye(t),r.head.appendChild(t)))}}function Kv(e){mn.D(e),vg("dns-prefetch",e,null)}function Pv(e,t){mn.C(e,t),vg("preconnect",e,t)}function Jv(e,t,i){mn.L(e,t,i);var r=ni;if(r&&e&&t){var o='link[rel="preload"][as="'+Rt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+Rt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+Rt(i.imageSizes)+'"]')):o+='[href="'+Rt(e)+'"]';var c=o;switch(t){case"style":c=ai(e);break;case"script":c=ii(e)}kt.has(c)||(e=E({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),kt.set(c,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(os(c))||t==="script"&&r.querySelector(us(c))||(t=r.createElement("link"),Fe(t,"link",e),Ye(t),r.head.appendChild(t)))}}function Xv(e,t){mn.m(e,t);var i=ni;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Rt(r)+'"][href="'+Rt(e)+'"]',c=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=ii(e)}if(!kt.has(c)&&(e=E({rel:"modulepreload",href:e},t),kt.set(c,e),i.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(us(c)))return}r=i.createElement("link"),Fe(r,"link",e),Ye(r),i.head.appendChild(r)}}}function Qv(e,t,i){mn.S(e,t,i);var r=ni;if(r&&e){var o=Aa(r).hoistableStyles,c=ai(e);t=t||"default";var d=o.get(c);if(!d){var y={loading:0,preload:null};if(d=r.querySelector(os(c)))y.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":t},i),(i=kt.get(c))&&Mu(e,i);var _=d=r.createElement("link");Ye(_),Fe(_,"link",e),_._p=new Promise(function(R,j){_.onload=R,_.onerror=j}),_.addEventListener("load",function(){y.loading|=1}),_.addEventListener("error",function(){y.loading|=2}),y.loading|=4,zr(d,t,r)}d={type:"stylesheet",instance:d,count:1,state:y},o.set(c,d)}}}function Fv(e,t){mn.X(e,t);var i=ni;if(i&&e){var r=Aa(i).hoistableScripts,o=ii(e),c=r.get(o);c||(c=i.querySelector(us(o)),c||(e=E({src:e,async:!0},t),(t=kt.get(o))&&Lu(e,t),c=i.createElement("script"),Ye(c),Fe(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(o,c))}}function Zv(e,t){mn.M(e,t);var i=ni;if(i&&e){var r=Aa(i).hoistableScripts,o=ii(e),c=r.get(o);c||(c=i.querySelector(us(o)),c||(e=E({src:e,async:!0,type:"module"},t),(t=kt.get(o))&&Lu(e,t),c=i.createElement("script"),Ye(c),Fe(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(o,c))}}function _g(e,t,i,r){var o=(o=_n.current)?kr(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=ai(i.href),i=Aa(o).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ai(i.href);var c=Aa(o).hoistableStyles,d=c.get(e);if(d||(o=o.ownerDocument||o,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=o.querySelector(os(e)))&&!c._p&&(d.instance=c,d.state.loading=5),kt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},kt.set(e,i),c||Wv(o,e,i,d.state))),t&&r===null)throw Error(l(528,""));return d}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ii(i),i=Aa(o).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ai(e){return'href="'+Rt(e)+'"'}function os(e){return'link[rel="stylesheet"]['+e+"]"}function bg(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Wv(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Fe(t,"link",i),Ye(t),e.head.appendChild(t))}function ii(e){return'[src="'+Rt(e)+'"]'}function us(e){return"script[async]"+e}function Eg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Rt(i.href)+'"]');if(r)return t.instance=r,Ye(r),r;var o=E({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Ye(r),Fe(r,"style",o),zr(r,i.precedence,e),t.instance=r;case"stylesheet":o=ai(i.href);var c=e.querySelector(os(o));if(c)return t.state.loading|=4,t.instance=c,Ye(c),c;r=bg(i),(o=kt.get(o))&&Mu(r,o),c=(e.ownerDocument||e).createElement("link"),Ye(c);var d=c;return d._p=new Promise(function(y,_){d.onload=y,d.onerror=_}),Fe(c,"link",r),t.state.loading|=4,zr(c,i.precedence,e),t.instance=c;case"script":return c=ii(i.src),(o=e.querySelector(us(c)))?(t.instance=o,Ye(o),o):(r=i,(o=kt.get(c))&&(r=E({},i),Lu(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),Ye(o),Fe(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,zr(r,i.precedence,e));return t.instance}function zr(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,c=o,d=0;d<r.length;d++){var y=r[d];if(y.dataset.precedence===t)c=y;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Mu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Br=null;function Sg(e,t,i){if(Br===null){var r=new Map,o=Br=new Map;o.set(i,r)}else o=Br,r=o.get(i),r||(r=new Map,o.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var c=i[o];if(!(c[Ai]||c[Pe]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var y=r.get(d);y?y.push(c):r.set(d,[c])}}return r}function wg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function e_(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Tg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function t_(e,t,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=ai(r.href),c=t.querySelector(os(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Hr.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=c,Ye(c);return}c=t.ownerDocument||t,r=bg(r),(o=kt.get(o))&&Mu(r,o),c=c.createElement("link"),Ye(c);var d=c;d._p=new Promise(function(y,_){d.onload=y,d.onerror=_}),Fe(c,"link",r),i.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Hr.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var ku=0;function n_(e,t){return e.stylesheets&&e.count===0&&qr(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var r=setTimeout(function(){if(e.stylesheets&&qr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&ku===0&&(ku=62500*Lv());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&qr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>ku?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function Hr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gr=null;function qr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gr=new Map,t.forEach(a_,e),Gr=null,Hr.call(e))}function a_(e,t){if(!(t.state.loading&4)){var i=Gr.get(e);if(i)var r=i.get(null);else{i=new Map,Gr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var d=o[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),r=d)}r&&i.set(null,r)}o=t.instance,d=o.getAttribute("data-precedence"),c=i.get(d)||r,c===r&&i.set(null,o),i.set(d,o),this.count++,r=Hr.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var cs={$$typeof:I,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function i_(e,t,i,r,o,c,d,y,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.hiddenUpdates=Dl(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Ag(e,t,i,r,o,c,d,y,_,R,j,z){return e=new i_(e,t,i,d,_,R,j,z,y),t=1,c===!0&&(t|=24),c=vt(3,null,null,t),e.current=c,c.stateNode=e,t=yo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:r,isDehydrated:i,cache:t},bo(c),e}function Og(e){return e?(e=Ma,e):Ma}function xg(e,t,i,r,o,c){o=Og(o),r.context===null?r.context=o:r.pendingContext=o,r=Nn(t),r.payload={element:i},c=c===void 0?null:c,c!==null&&(r.callback=c),i=Rn(e,r,t),i!==null&&(ft(i,e,t),qi(i,e,t))}function Ng(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function zu(e,t){Ng(e,t),(e=e.alternate)&&Ng(e,t)}function Rg(e){if(e.tag===13||e.tag===31){var t=ta(e,67108864);t!==null&&ft(t,e,67108864),zu(e,67108864)}}function Cg(e){if(e.tag===13||e.tag===31){var t=wt();t=Ul(t);var i=ta(e,t);i!==null&&ft(i,e,t),zu(e,t)}}var $r=!0;function s_(e,t,i,r){var o=M.T;M.T=null;var c=V.p;try{V.p=2,Bu(e,t,i,r)}finally{V.p=c,M.T=o}}function r_(e,t,i,r){var o=M.T;M.T=null;var c=V.p;try{V.p=8,Bu(e,t,i,r)}finally{V.p=c,M.T=o}}function Bu(e,t,i,r){if($r){var o=Hu(r);if(o===null)Au(e,t,r,Vr,i),Ug(e,r);else if(o_(o,e,t,i,r))r.stopPropagation();else if(Ug(e,r),t&4&&-1<l_.indexOf(e)){for(;o!==null;){var c=Ta(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=Qn(c.pendingLanes);if(d!==0){var y=c;for(y.pendingLanes|=2,y.entangledLanes|=2;d;){var _=1<<31-yt(d);y.entanglements[1]|=_,d&=~_}Qt(c),(fe&6)===0&&(Or=gt()+500,is(0))}}break;case 31:case 13:y=ta(c,2),y!==null&&ft(y,c,2),Nr(),zu(c,2)}if(c=Hu(r),c===null&&Au(e,t,r,Vr,i),c===o)break;o=c}o!==null&&r.stopPropagation()}else Au(e,t,r,null,i)}}function Hu(e){return e=Gl(e),Gu(e)}var Vr=null;function Gu(e){if(Vr=null,e=wa(e),e!==null){var t=h(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=g(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vr=e,null}function Dg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ky()){case zc:return 2;case Bc:return 8;case js:case Py:return 32;case Hc:return 268435456;default:return 32}default:return 32}}var qu=!1,Hn=null,Gn=null,qn=null,hs=new Map,fs=new Map,$n=[],l_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ug(e,t){switch(e){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fs.delete(t.pointerId)}}function ds(e,t,i,r,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Ta(t),t!==null&&Rg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function o_(e,t,i,r,o){switch(t){case"focusin":return Hn=ds(Hn,e,t,i,r,o),!0;case"dragenter":return Gn=ds(Gn,e,t,i,r,o),!0;case"mouseover":return qn=ds(qn,e,t,i,r,o),!0;case"pointerover":var c=o.pointerId;return hs.set(c,ds(hs.get(c)||null,e,t,i,r,o)),!0;case"gotpointercapture":return c=o.pointerId,fs.set(c,ds(fs.get(c)||null,e,t,i,r,o)),!0}return!1}function jg(e){var t=wa(e.target);if(t!==null){var i=h(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,Kc(e.priority,function(){Cg(i)});return}}else if(t===31){if(t=g(i),t!==null){e.blockedOn=t,Kc(e.priority,function(){Cg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Hu(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);Hl=r,i.target.dispatchEvent(r),Hl=null}else return t=Ta(i),t!==null&&Rg(t),e.blockedOn=i,!1;t.shift()}return!0}function Ig(e,t,i){Yr(e)&&i.delete(t)}function u_(){qu=!1,Hn!==null&&Yr(Hn)&&(Hn=null),Gn!==null&&Yr(Gn)&&(Gn=null),qn!==null&&Yr(qn)&&(qn=null),hs.forEach(Ig),fs.forEach(Ig)}function Kr(e,t){e.blockedOn===t&&(e.blockedOn=null,qu||(qu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,u_)))}var Pr=null;function Mg(e){Pr!==e&&(Pr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Pr===e&&(Pr=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Gu(r||i)===null)continue;break}var c=Ta(i);c!==null&&(e.splice(t,3),t-=3,Ho(c,{pending:!0,data:o,method:i.method,action:r},r,o))}}))}function si(e){function t(_){return Kr(_,e)}Hn!==null&&Kr(Hn,e),Gn!==null&&Kr(Gn,e),qn!==null&&Kr(qn,e),hs.forEach(t),fs.forEach(t);for(var i=0;i<$n.length;i++){var r=$n[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<$n.length&&(i=$n[0],i.blockedOn===null);)jg(i),i.blockedOn===null&&$n.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],d=o[rt]||null;if(typeof c=="function")d||Mg(i);else if(d){var y=null;if(c&&c.hasAttribute("formAction")){if(o=c,d=c[rt]||null)y=d.formAction;else if(Gu(o)!==null)continue}else y=d.action;typeof y=="function"?i[r+1]=y:(i.splice(r,3),r-=3),Mg(i)}}}function Lg(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(d){return o=d})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function $u(e){this._internalRoot=e}Jr.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var i=t.current,r=wt();xg(i,r,e,t,null,null)},Jr.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xg(e.current,2,null,e,null,null),Nr(),t[Sa]=null}};function Jr(e){this._internalRoot=e}Jr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yc();e={blockedOn:null,target:e,priority:t};for(var i=0;i<$n.length&&t!==0&&t<$n[i].priority;i++);$n.splice(i,0,e),i===0&&jg(e)}};var kg=n.version;if(kg!=="19.2.3")throw Error(l(527,kg,"19.2.3"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var c_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xr.isDisabled&&Xr.supportsFiber)try{Si=Xr.inject(c_),mt=Xr}catch{}}return ms.createRoot=function(e,t){if(!u(e))throw Error(l(299));var i=!1,r="",o=Vf,c=Yf,d=Kf;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Ag(e,1,!1,null,null,i,r,null,o,c,d,Lg),e[Sa]=t.current,Tu(e),new $u(t)},ms.hydrateRoot=function(e,t,i){if(!u(e))throw Error(l(299));var r=!1,o="",c=Vf,d=Yf,y=Kf,_=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.formState!==void 0&&(_=i.formState)),t=Ag(e,1,!0,t,i??null,r,o,_,c,d,y,Lg),t.context=Og(null),i=t.current,r=wt(),r=Ul(r),o=Nn(r),o.callback=null,Rn(i,o,r),i=r,t.current.lanes=i,Ti(t,i),Qt(t),e[Sa]=t.current,Tu(e),new Jr(t)},ms.version="19.2.3",ms}var Kg;function L_(){if(Kg)return Yu.exports;Kg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Yu.exports=M_(),Yu.exports}var k_=L_();const z_=O_(k_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H_=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,l)=>l?l.toUpperCase():s.toLowerCase()),Pg=a=>{const n=H_(a);return n.charAt(0).toUpperCase()+n.slice(1)},Km=(...a)=>a.filter((n,s,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===s).join(" ").trim(),G_=a=>{for(const n in a)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=W.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:u="",children:h,iconNode:f,...g},m)=>W.createElement("svg",{ref:m,...q_,width:n,height:n,stroke:a,strokeWidth:l?Number(s)*24/Number(n):s,className:Km("lucide",u),...!h&&!G_(g)&&{"aria-hidden":"true"},...g},[...f.map(([p,b])=>W.createElement(p,b)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(a,n)=>{const s=W.forwardRef(({className:l,...u},h)=>W.createElement($_,{ref:h,iconNode:n,className:Km(`lucide-${B_(Pg(a))}`,`lucide-${a}`,l),...u}));return s.displayName=Pg(a),s};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Y_=oe("arrow-left",V_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Jg=oe("award",K_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],J_=oe("calendar",P_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Q_=oe("camera",X_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Z_=oe("chart-column",F_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],eb=oe("chart-line",W_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],nb=oe("chart-no-axes-column-increasing",tb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Xg=oe("chart-no-axes-column",ab);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sb=oe("circle-alert",ib);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lb=oe("clock",rb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Qg=oe("database",ob);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],cb=oe("droplets",ub);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],fb=oe("file-spreadsheet",hb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Pm=oe("funnel",db);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],mb=oe("git-compare",gb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],pb=oe("layers",yb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Fg=oe("list",vb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ul=oe("loader-circle",_b);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Eb=oe("lock",bb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Jm=oe("map-pin",Sb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],uc=oe("map",wb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Ab=oe("medal",Tb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zg=oe("plus",Ob);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Wg=oe("refresh-cw",xb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Rb=oe("rotate-ccw",Nb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Db=oe("save",Cb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],jb=oe("share-2",Ub);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Mb=oe("sparkles",Ib);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],e0=oe("trophy",Lb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],t0=oe("user-check",kb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bb=oe("user",zb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gb=oe("users",Hb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$b=oe("x",qb),ys={chlorine:"  (mg/L)",ec:"  (S/cm)",ph:"pH",turbidity:" (NTU)"},pn=[" "," "," "],Vb=async(a,n)=>{try{const l=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${n}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"AquaGuardApp/1.0","Accept-Language":"fa-IR,fa;q=0.9"}})).json();return l&&l.display_name?l.display_name:"  "}catch(s){return console.error("Error fetching address:",s),"   "}},Xm=(a,n,s,l)=>{const h=a*Math.PI/180,f=s*Math.PI/180,g=(s-a)*Math.PI/180,m=(l-n)*Math.PI/180,p=Math.sin(g/2)*Math.sin(g/2)+Math.cos(h)*Math.cos(f)*Math.sin(m/2)*Math.sin(m/2);return 6371e3*(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)))},Ju={chlorine:"",ec:"",ph:"",turbidity:""},Yb=({onSave:a,samples:n})=>{const[s,l]=W.useState(pn[0]),[u,h]=W.useState(Ju),[f,g]=W.useState(null),[m,p]=W.useState(!1),[b,E]=W.useState(null),[w,A]=W.useState(""),x=W.useRef(null),U=W.useMemo(()=>{const q={};return pn.forEach(H=>q[H]=0),n.forEach(H=>{q[H.samplerId]!==void 0&&q[H.samplerId]++}),q},[n]),S={" ":"bg-blue-50 text-blue-700 border-blue-200"," ":"bg-purple-50 text-purple-700 border-purple-200"," ":"bg-pink-50 text-pink-700 border-pink-200"},k=W.useCallback(async(q,H)=>{const $=await Vb(q,H);g(le=>le?{...le,address:$}:null)},[]),B=W.useCallback(q=>{const{latitude:H,longitude:$,accuracy:le}=q.coords;g(he=>((!he||!he.address||Xm(he.lat,he.lng,H,$)>50)&&(x.current&&clearTimeout(x.current),x.current=window.setTimeout(()=>{k(H,$)},1500)),{lat:H,lng:$,accuracy:le,timestamp:q.timestamp,address:(he==null?void 0:he.address)||"   ..."})),p(!1)},[k]);W.useEffect(()=>{let q;return navigator.geolocation?(p(!0),q=navigator.geolocation.watchPosition(B,H=>{p(!1),E(H.message)},{enableHighAccuracy:!0,maximumAge:1e4,timeout:2e4})):E("      ."),()=>{q&&navigator.geolocation.clearWatch(q),x.current&&clearTimeout(x.current)}},[B]);const I=(q,H)=>{h($=>({...$,[q]:H}))},G=q=>{if(q.preventDefault(),!f)return alert("     .");const H={chlorine:parseFloat(u.chlorine),ec:parseFloat(u.ec),ph:parseFloat(u.ph),turbidity:parseFloat(u.turbidity)};if(H.chlorine<0||H.chlorine>5)return alert("       .");if(H.ph<5||H.ph>9)return alert(" pH      .");if(H.turbidity<0||H.turbidity>100)return alert("       .");if(H.ec<0||H.ec>5e3)return alert("        .");const $={id:crypto.randomUUID(),samplerId:s,timestamp:Date.now(),location:f,metrics:H,notes:w};a($),h(Ju),A(""),alert("    !")};return v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100 flex flex-col gap-8",children:[v.jsxs("div",{children:[v.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2 flex items-center gap-2",children:[v.jsx("span",{className:"text-blue-600",children:""}),"   "]}),v.jsxs("form",{onSubmit:G,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 font-bold",children:" "}),v.jsx("select",{value:s,onChange:q=>l(q.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition font-medium",children:pn.map(q=>v.jsx("option",{value:q,children:q},q))})]}),v.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsxs("span",{className:"font-bold text-blue-800 flex items-center gap-2",children:[v.jsx(Jm,{className:"w-4 h-4"}),"   "]}),m&&v.jsx(ul,{className:"w-4 h-4 animate-spin text-blue-600"})]}),f?v.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[v.jsxs("p",{children:[v.jsx("strong",{children:":"})," ",f.lat.toFixed(6)," | ",v.jsx("strong",{children:":"})," ",f.lng.toFixed(6)]}),v.jsxs("p",{className:"flex items-center gap-2",children:[v.jsx("strong",{children:" GPS:"}),v.jsxs("span",{className:`${f.accuracy<20?"text-green-600":"text-amber-600"} font-bold`,children:[Math.round(f.accuracy)," "]})]}),v.jsx("p",{className:"mt-2 text-gray-500 text-xs border-t border-blue-200 pt-1 leading-relaxed",children:f.address||"   ..."})]}):v.jsxs("div",{className:"text-red-500 text-sm flex items-center gap-2",children:[v.jsx(sb,{className:"w-4 h-4"}),b?`: ${b}`:"      GPS..."]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(Qr,{label:"  (mg/L)",value:u.chlorine,onChange:q=>I("chlorine",q),min:"0",max:"5",step:"0.01",placeholder:":   "}),v.jsx(Qr,{label:"pH",value:u.ph,onChange:q=>I("ph",q),min:"5",max:"9",step:"0.1",placeholder:":   "}),v.jsx(Qr,{label:" (NTU)",value:u.turbidity,onChange:q=>I("turbidity",q),min:"0",max:"100",step:"0.1",placeholder:":   "}),v.jsx(Qr,{label:"  (S/cm)",value:u.ec,onChange:q=>I("ec",q),min:"0",max:"5000",step:"1",placeholder:":   "})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 font-bold",children:" "}),v.jsx("textarea",{value:w,onChange:q=>A(q.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 h-24 outline-none transition text-sm",placeholder:"     ..."})]}),v.jsxs("div",{className:"flex gap-3 pt-2",children:[v.jsxs("button",{type:"button",onClick:()=>{h(Ju),A("")},className:"flex-1 py-3 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition flex items-center justify-center gap-2 font-bold shadow-sm",children:[v.jsx(Rb,{className:"w-5 h-5"}),"  "]}),v.jsxs("button",{type:"submit",disabled:!f,className:`flex-1 py-3 px-4 rounded-lg text-white font-bold shadow-md transition flex items-center justify-center gap-2 ${f?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:[v.jsx(Db,{className:"w-5 h-5"}),"    "]})]})]})]}),v.jsxs("div",{className:"mt-4 pt-6 border-t border-gray-100",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4 text-gray-800 font-black text-lg",children:[v.jsx(nb,{className:"w-5 h-5 text-blue-600"}),v.jsx("h3",{children:"   "})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[v.jsxs("div",{className:"bg-blue-900 text-white p-4 rounded-xl flex flex-col items-center justify-center gap-1 shadow-md",children:[v.jsx(pb,{className:"w-6 h-6 text-cyan-400 mb-1"}),v.jsx("span",{className:"text-xs opacity-80",children:"   "}),v.jsx("span",{className:"text-3xl font-black",children:n.length})]}),pn.map(q=>v.jsxs("div",{className:`p-4 rounded-xl border flex flex-col items-center justify-center gap-1 shadow-sm transition hover:shadow-md ${S[q]||"bg-gray-50 text-gray-700"}`,children:[v.jsx(Bb,{className:"w-5 h-5 mb-1 opacity-70"}),v.jsx("span",{className:"text-xs font-bold text-center",children:q}),v.jsx("span",{className:"text-2xl font-black",children:U[q]})]},q))]})]})]})},Qr=({label:a,value:n,onChange:s,min:l,max:u,step:h,placeholder:f})=>v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 font-bold",children:a}),v.jsx("input",{type:"number",step:h,min:l,max:u,placeholder:f,value:n,onChange:g=>s(g.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition placeholder:text-gray-300 text-sm",required:!0})]});function Kb(a,n){if(a.match(/^[a-z]+:\/\//i))return a;if(a.match(/^\/\//))return window.location.protocol+a;if(a.match(/^[a-z]+:/i))return a;const s=document.implementation.createHTMLDocument(),l=s.createElement("base"),u=s.createElement("a");return s.head.appendChild(l),s.body.appendChild(u),n&&(l.href=n),u.href=a,u.href}const Pb=(()=>{let a=0;const n=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(a+=1,`u${n()}${a}`)})();function Pn(a){const n=[];for(let s=0,l=a.length;s<l;s++)n.push(a[s]);return n}let ri=null;function Qm(a={}){return ri||(a.includeStyleProperties?(ri=a.includeStyleProperties,ri):(ri=Pn(window.getComputedStyle(document.documentElement)),ri))}function cl(a,n){const l=(a.ownerDocument.defaultView||window).getComputedStyle(a).getPropertyValue(n);return l?parseFloat(l.replace("px","")):0}function Jb(a){const n=cl(a,"border-left-width"),s=cl(a,"border-right-width");return a.clientWidth+n+s}function Xb(a){const n=cl(a,"border-top-width"),s=cl(a,"border-bottom-width");return a.clientHeight+n+s}function Fm(a,n={}){const s=n.width||Jb(a),l=n.height||Xb(a);return{width:s,height:l}}function Qb(){let a,n;try{n=process}catch{}const s=n&&n.env?n.env.devicePixelRatio:null;return s&&(a=parseInt(s,10),Number.isNaN(a)&&(a=1)),a||window.devicePixelRatio||1}const Tt=16384;function Fb(a){(a.width>Tt||a.height>Tt)&&(a.width>Tt&&a.height>Tt?a.width>a.height?(a.height*=Tt/a.width,a.width=Tt):(a.width*=Tt/a.height,a.height=Tt):a.width>Tt?(a.height*=Tt/a.width,a.width=Tt):(a.width*=Tt/a.height,a.height=Tt))}function hl(a){return new Promise((n,s)=>{const l=new Image;l.onload=()=>{l.decode().then(()=>{requestAnimationFrame(()=>n(l))})},l.onerror=s,l.crossOrigin="anonymous",l.decoding="async",l.src=a})}async function Zb(a){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(a)).then(encodeURIComponent).then(n=>`data:image/svg+xml;charset=utf-8,${n}`)}async function Wb(a,n,s){const l="http://www.w3.org/2000/svg",u=document.createElementNS(l,"svg"),h=document.createElementNS(l,"foreignObject");return u.setAttribute("width",`${n}`),u.setAttribute("height",`${s}`),u.setAttribute("viewBox",`0 0 ${n} ${s}`),h.setAttribute("width","100%"),h.setAttribute("height","100%"),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("externalResourcesRequired","true"),u.appendChild(h),h.appendChild(a),Zb(u)}const dt=(a,n)=>{if(a instanceof n)return!0;const s=Object.getPrototypeOf(a);return s===null?!1:s.constructor.name===n.name||dt(s,n)};function eE(a){const n=a.getPropertyValue("content");return`${a.cssText} content: '${n.replace(/'|"/g,"")}';`}function tE(a,n){return Qm(n).map(s=>{const l=a.getPropertyValue(s),u=a.getPropertyPriority(s);return`${s}: ${l}${u?" !important":""};`}).join(" ")}function nE(a,n,s,l){const u=`.${a}:${n}`,h=s.cssText?eE(s):tE(s,l);return document.createTextNode(`${u}{${h}}`)}function n0(a,n,s,l){const u=window.getComputedStyle(a,s),h=u.getPropertyValue("content");if(h===""||h==="none")return;const f=Pb();try{n.className=`${n.className} ${f}`}catch{return}const g=document.createElement("style");g.appendChild(nE(f,s,u,l)),n.appendChild(g)}function aE(a,n,s){n0(a,n,":before",s),n0(a,n,":after",s)}const a0="application/font-woff",i0="image/jpeg",iE={woff:a0,woff2:a0,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:i0,jpeg:i0,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function sE(a){const n=/\.([^./]*?)$/g.exec(a);return n?n[1]:""}function xc(a){const n=sE(a).toLowerCase();return iE[n]||""}function rE(a){return a.split(/,/)[1]}function cc(a){return a.search(/^(data:)/)!==-1}function lE(a,n){return`data:${n};base64,${a}`}async function Zm(a,n,s){const l=await fetch(a,n);if(l.status===404)throw new Error(`Resource "${l.url}" not found`);const u=await l.blob();return new Promise((h,f)=>{const g=new FileReader;g.onerror=f,g.onloadend=()=>{try{h(s({res:l,result:g.result}))}catch(m){f(m)}},g.readAsDataURL(u)})}const Xu={};function oE(a,n,s){let l=a.replace(/\?.*/,"");return s&&(l=a),/ttf|otf|eot|woff2?/i.test(l)&&(l=l.replace(/.*\//,"")),n?`[${n}]${l}`:l}async function Nc(a,n,s){const l=oE(a,n,s.includeQueryParams);if(Xu[l]!=null)return Xu[l];s.cacheBust&&(a+=(/\?/.test(a)?"&":"?")+new Date().getTime());let u;try{const h=await Zm(a,s.fetchRequestInit,({res:f,result:g})=>(n||(n=f.headers.get("Content-Type")||""),rE(g)));u=lE(h,n)}catch(h){u=s.imagePlaceholder||"";let f=`Failed to fetch resource: ${a}`;h&&(f=typeof h=="string"?h:h.message),f&&console.warn(f)}return Xu[l]=u,u}async function uE(a){const n=a.toDataURL();return n==="data:,"?a.cloneNode(!1):hl(n)}async function cE(a,n){if(a.currentSrc){const h=document.createElement("canvas"),f=h.getContext("2d");h.width=a.clientWidth,h.height=a.clientHeight,f==null||f.drawImage(a,0,0,h.width,h.height);const g=h.toDataURL();return hl(g)}const s=a.poster,l=xc(s),u=await Nc(s,l,n);return hl(u)}async function hE(a,n){var s;try{if(!((s=a==null?void 0:a.contentDocument)===null||s===void 0)&&s.body)return await pl(a.contentDocument.body,n,!0)}catch{}return a.cloneNode(!1)}async function fE(a,n){return dt(a,HTMLCanvasElement)?uE(a):dt(a,HTMLVideoElement)?cE(a,n):dt(a,HTMLIFrameElement)?hE(a,n):a.cloneNode(Wm(a))}const dE=a=>a.tagName!=null&&a.tagName.toUpperCase()==="SLOT",Wm=a=>a.tagName!=null&&a.tagName.toUpperCase()==="SVG";async function gE(a,n,s){var l,u;if(Wm(n))return n;let h=[];return dE(a)&&a.assignedNodes?h=Pn(a.assignedNodes()):dt(a,HTMLIFrameElement)&&(!((l=a.contentDocument)===null||l===void 0)&&l.body)?h=Pn(a.contentDocument.body.childNodes):h=Pn(((u=a.shadowRoot)!==null&&u!==void 0?u:a).childNodes),h.length===0||dt(a,HTMLVideoElement)||await h.reduce((f,g)=>f.then(()=>pl(g,s)).then(m=>{m&&n.appendChild(m)}),Promise.resolve()),n}function mE(a,n,s){const l=n.style;if(!l)return;const u=window.getComputedStyle(a);u.cssText?(l.cssText=u.cssText,l.transformOrigin=u.transformOrigin):Qm(s).forEach(h=>{let f=u.getPropertyValue(h);h==="font-size"&&f.endsWith("px")&&(f=`${Math.floor(parseFloat(f.substring(0,f.length-2)))-.1}px`),dt(a,HTMLIFrameElement)&&h==="display"&&f==="inline"&&(f="block"),h==="d"&&n.getAttribute("d")&&(f=`path(${n.getAttribute("d")})`),l.setProperty(h,f,u.getPropertyPriority(h))})}function yE(a,n){dt(a,HTMLTextAreaElement)&&(n.innerHTML=a.value),dt(a,HTMLInputElement)&&n.setAttribute("value",a.value)}function pE(a,n){if(dt(a,HTMLSelectElement)){const l=Array.from(n.children).find(u=>a.value===u.getAttribute("value"));l&&l.setAttribute("selected","")}}function vE(a,n,s){return dt(n,Element)&&(mE(a,n,s),aE(a,n,s),yE(a,n),pE(a,n)),n}async function _E(a,n){const s=a.querySelectorAll?a.querySelectorAll("use"):[];if(s.length===0)return a;const l={};for(let h=0;h<s.length;h++){const g=s[h].getAttribute("xlink:href");if(g){const m=a.querySelector(g),p=document.querySelector(g);!m&&p&&!l[g]&&(l[g]=await pl(p,n,!0))}}const u=Object.values(l);if(u.length){const h="http://www.w3.org/1999/xhtml",f=document.createElementNS(h,"svg");f.setAttribute("xmlns",h),f.style.position="absolute",f.style.width="0",f.style.height="0",f.style.overflow="hidden",f.style.display="none";const g=document.createElementNS(h,"defs");f.appendChild(g);for(let m=0;m<u.length;m++)g.appendChild(u[m]);a.appendChild(f)}return a}async function pl(a,n,s){return!s&&n.filter&&!n.filter(a)?null:Promise.resolve(a).then(l=>fE(l,n)).then(l=>gE(a,l,n)).then(l=>vE(a,l,n)).then(l=>_E(l,n))}const ey=/url\((['"]?)([^'"]+?)\1\)/g,bE=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,EE=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function SE(a){const n=a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${n})(['"]?\\))`,"g")}function wE(a){const n=[];return a.replace(ey,(s,l,u)=>(n.push(u),s)),n.filter(s=>!cc(s))}async function TE(a,n,s,l,u){try{const h=s?Kb(n,s):n,f=xc(n);let g;return u||(g=await Nc(h,f,l)),a.replace(SE(n),`$1${g}$3`)}catch{}return a}function AE(a,{preferredFontFormat:n}){return n?a.replace(EE,s=>{for(;;){const[l,,u]=bE.exec(s)||[];if(!u)return"";if(u===n)return`src: ${l};`}}):a}function ty(a){return a.search(ey)!==-1}async function ny(a,n,s){if(!ty(a))return a;const l=AE(a,s);return wE(l).reduce((h,f)=>h.then(g=>TE(g,f,n,s)),Promise.resolve(l))}async function li(a,n,s){var l;const u=(l=n.style)===null||l===void 0?void 0:l.getPropertyValue(a);if(u){const h=await ny(u,null,s);return n.style.setProperty(a,h,n.style.getPropertyPriority(a)),!0}return!1}async function OE(a,n){await li("background",a,n)||await li("background-image",a,n),await li("mask",a,n)||await li("-webkit-mask",a,n)||await li("mask-image",a,n)||await li("-webkit-mask-image",a,n)}async function xE(a,n){const s=dt(a,HTMLImageElement);if(!(s&&!cc(a.src))&&!(dt(a,SVGImageElement)&&!cc(a.href.baseVal)))return;const l=s?a.src:a.href.baseVal,u=await Nc(l,xc(l),n);await new Promise((h,f)=>{a.onload=h,a.onerror=n.onImageErrorHandler?(...m)=>{try{h(n.onImageErrorHandler(...m))}catch(p){f(p)}}:f;const g=a;g.decode&&(g.decode=h),g.loading==="lazy"&&(g.loading="eager"),s?(a.srcset="",a.src=u):a.href.baseVal=u})}async function NE(a,n){const l=Pn(a.childNodes).map(u=>ay(u,n));await Promise.all(l).then(()=>a)}async function ay(a,n){dt(a,Element)&&(await OE(a,n),await xE(a,n),await NE(a,n))}function RE(a,n){const{style:s}=a;n.backgroundColor&&(s.backgroundColor=n.backgroundColor),n.width&&(s.width=`${n.width}px`),n.height&&(s.height=`${n.height}px`);const l=n.style;return l!=null&&Object.keys(l).forEach(u=>{s[u]=l[u]}),a}const s0={};async function r0(a){let n=s0[a];if(n!=null)return n;const l=await(await fetch(a)).text();return n={url:a,cssText:l},s0[a]=n,n}async function l0(a,n){let s=a.cssText;const l=/url\(["']?([^"')]+)["']?\)/g,h=(s.match(/url\([^)]+\)/g)||[]).map(async f=>{let g=f.replace(l,"$1");return g.startsWith("https://")||(g=new URL(g,a.url).href),Zm(g,n.fetchRequestInit,({result:m})=>(s=s.replace(f,`url(${m})`),[f,m]))});return Promise.all(h).then(()=>s)}function o0(a){if(a==null)return[];const n=[],s=/(\/\*[\s\S]*?\*\/)/gi;let l=a.replace(s,"");const u=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const m=u.exec(l);if(m===null)break;n.push(m[0])}l=l.replace(u,"");const h=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,f="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",g=new RegExp(f,"gi");for(;;){let m=h.exec(l);if(m===null){if(m=g.exec(l),m===null)break;h.lastIndex=g.lastIndex}else g.lastIndex=h.lastIndex;n.push(m[0])}return n}async function CE(a,n){const s=[],l=[];return a.forEach(u=>{if("cssRules"in u)try{Pn(u.cssRules||[]).forEach((h,f)=>{if(h.type===CSSRule.IMPORT_RULE){let g=f+1;const m=h.href,p=r0(m).then(b=>l0(b,n)).then(b=>o0(b).forEach(E=>{try{u.insertRule(E,E.startsWith("@import")?g+=1:u.cssRules.length)}catch(w){console.error("Error inserting rule from remote css",{rule:E,error:w})}})).catch(b=>{console.error("Error loading remote css",b.toString())});l.push(p)}})}catch(h){const f=a.find(g=>g.href==null)||document.styleSheets[0];u.href!=null&&l.push(r0(u.href).then(g=>l0(g,n)).then(g=>o0(g).forEach(m=>{f.insertRule(m,f.cssRules.length)})).catch(g=>{console.error("Error loading remote stylesheet",g)})),console.error("Error inlining remote css file",h)}}),Promise.all(l).then(()=>(a.forEach(u=>{if("cssRules"in u)try{Pn(u.cssRules||[]).forEach(h=>{s.push(h)})}catch(h){console.error(`Error while reading CSS rules from ${u.href}`,h)}}),s))}function DE(a){return a.filter(n=>n.type===CSSRule.FONT_FACE_RULE).filter(n=>ty(n.style.getPropertyValue("src")))}async function UE(a,n){if(a.ownerDocument==null)throw new Error("Provided element is not within a Document");const s=Pn(a.ownerDocument.styleSheets),l=await CE(s,n);return DE(l)}function iy(a){return a.trim().replace(/["']/g,"")}function jE(a){const n=new Set;function s(l){(l.style.fontFamily||getComputedStyle(l).fontFamily).split(",").forEach(h=>{n.add(iy(h))}),Array.from(l.children).forEach(h=>{h instanceof HTMLElement&&s(h)})}return s(a),n}async function IE(a,n){const s=await UE(a,n),l=jE(a);return(await Promise.all(s.filter(h=>l.has(iy(h.style.fontFamily))).map(h=>{const f=h.parentStyleSheet?h.parentStyleSheet.href:null;return ny(h.cssText,f,n)}))).join(`
`)}async function ME(a,n){const s=n.fontEmbedCSS!=null?n.fontEmbedCSS:n.skipFonts?null:await IE(a,n);if(s){const l=document.createElement("style"),u=document.createTextNode(s);l.appendChild(u),a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l)}}async function LE(a,n={}){const{width:s,height:l}=Fm(a,n),u=await pl(a,n,!0);return await ME(u,n),await ay(u,n),RE(u,n),await Wb(u,s,l)}async function kE(a,n={}){const{width:s,height:l}=Fm(a,n),u=await LE(a,n),h=await hl(u),f=document.createElement("canvas"),g=f.getContext("2d"),m=n.pixelRatio||Qb(),p=n.canvasWidth||s,b=n.canvasHeight||l;return f.width=p*m,f.height=b*m,n.skipAutoScale||Fb(f),f.style.width=`${p}`,f.style.height=`${b}`,n.backgroundColor&&(g.fillStyle=n.backgroundColor,g.fillRect(0,0,f.width,f.height)),g.drawImage(h,0,0,f.width,f.height),f}async function zE(a,n={}){return(await kE(a,n)).toDataURL()}delete Ym.Icon.Default.prototype._getIconUrl;Ym.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});const u0={" ":"#3b82f6"," ":"#8b5cf6"," ":"#ec4899"},BE=({samples:a})=>{const[n,s]=W.useState("standard"),[l,u]=W.useState("all"),[h,f]=W.useState(!1),g=W.useRef(null),m=W.useRef(null),p=W.useMemo(()=>l==="all"?a:a.filter(S=>S.samplerId===l),[a,l]),b=[35.6892,51.389],E=p.length>0?[p[0].location.lat,p[0].location.lng]:b,w=S=>S.metrics.turbidity>5||S.metrics.chlorine<.2?"#ef4444":S.metrics.turbidity>1||S.metrics.chlorine<.5?"#f59e0b":"#10b981",A=W.useMemo(()=>{const S=[],k={};return p.forEach(B=>{const I=new Date(B.timestamp).toLocaleDateString("en-CA");k[B.samplerId]||(k[B.samplerId]={}),k[B.samplerId][I]||(k[B.samplerId][I]=[]),k[B.samplerId][I].push(B)}),Object.entries(k).forEach(([B,I])=>{Object.entries(I).forEach(([G,q])=>{const H=[...q].sort(($,le)=>$.timestamp-le.timestamp);H.length>1&&S.push({color:u0[B]||"#cccccc",positions:H.map($=>[$.location.lat,$.location.lng]),label:`${B} - ${G}`})})}),S},[p]),x=()=>{const S=window.location.href;navigator.clipboard.writeText(S),alert("   !")},U=async()=>{if(m.current){f(!0);try{await new Promise(B=>setTimeout(B,200));const S=await zE(m.current,{cacheBust:!0,backgroundColor:"#ffffff"}),k=document.createElement("a");k.download=`aquaguard-map-${new Date().getTime()}.png`,k.href=S,k.click()}catch(S){console.error("Map capture failed:",S),alert("     .")}finally{f(!1)}}};return v.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg border border-gray-100 h-[700px] flex flex-col",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4",children:[v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[v.jsx(uc,{className:"text-blue-600 w-5 h-5"}),"    "]}),v.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg w-fit",children:[v.jsx("button",{onClick:()=>s("standard"),className:`px-4 py-1.5 text-xs font-bold rounded-md transition ${n==="standard"?"bg-white shadow text-blue-600":"text-gray-500"}`,children:" "}),v.jsx("button",{onClick:()=>s("heatmap"),className:`px-4 py-1.5 text-xs font-bold rounded-md transition ${n==="heatmap"?"bg-white shadow text-red-600":"text-gray-500"}`,children:" "})]})]}),v.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[v.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded-xl border border-gray-200",children:[v.jsx(Gb,{className:"w-4 h-4 text-gray-400"}),v.jsxs("select",{value:l,onChange:S=>u(S.target.value),className:"bg-transparent text-xs font-bold outline-none",children:[v.jsx("option",{value:"all",children:" "}),pn.map(S=>v.jsx("option",{value:S,children:S},S))]})]}),v.jsxs("div",{className:"flex gap-1 bg-gray-50 rounded-full p-1 border border-gray-100",children:[v.jsx("button",{onClick:U,disabled:h,className:`p-2.5 rounded-full transition flex items-center justify-center ${h?"text-blue-300":"text-gray-600 hover:bg-white hover:shadow-sm"}`,title:"  (PNG)",children:h?v.jsx(ul,{className:"w-5 h-5 animate-spin"}):v.jsx(Q_,{className:"w-5 h-5"})}),v.jsx("button",{onClick:x,className:"p-2.5 text-gray-600 hover:bg-white hover:shadow-sm rounded-full transition",title:"",children:v.jsx(jb,{className:"w-5 h-5"})})]})]})]}),v.jsxs("div",{ref:m,className:"flex-1 rounded-2xl overflow-hidden relative z-0 border border-gray-100 shadow-inner",children:[v.jsxs(x_,{center:E,zoom:12,scrollWheelZoom:!0,className:"h-full w-full",ref:g,children:[v.jsx(N_,{attribution:" OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",crossOrigin:"anonymous"}),n==="standard"&&A.map((S,k)=>v.jsx(R_,{positions:S.positions,pathOptions:{color:S.color,weight:4,opacity:.5,dashArray:"10, 10"},children:v.jsx(Hg,{children:S.label})},k)),p.map(S=>v.jsx(C_,{center:[S.location.lat,S.location.lng],radius:n==="heatmap"?25:8,pathOptions:n==="heatmap"?{fillColor:l==="all"?"#ef4444":u0[S.samplerId]||"#ef4444",color:"transparent",fillOpacity:.4}:{color:w(S),fillColor:w(S),fillOpacity:.8,weight:2,stroke:!0},children:v.jsx(Hg,{className:"text-right",children:v.jsxs("div",{style:{textAlign:"right",direction:"rtl"},className:"font-sans p-1",children:[v.jsx("strong",{className:"block border-b mb-2 pb-1 text-blue-900 text-sm",children:S.samplerId}),v.jsxs("div",{className:"text-[11px] space-y-1.5",children:[v.jsx("p",{className:"font-bold text-gray-600",children:new Date(S.timestamp).toLocaleString("fa-IR")}),v.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 bg-blue-50/50 p-2 rounded-lg border border-blue-100",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-[9px] text-blue-400",children:""}),v.jsx("span",{className:"font-black text-blue-700",children:S.metrics.chlorine})]}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-[9px] text-blue-400",children:"pH"}),v.jsx("span",{className:"font-black text-blue-700",children:S.metrics.ph})]}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-[9px] text-blue-400",children:""}),v.jsx("span",{className:"font-black text-blue-700",children:S.metrics.turbidity})]}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-[9px] text-blue-400",children:"EC"}),v.jsx("span",{className:"font-black text-blue-700",children:S.metrics.ec})]})]})]})]})})},S.id))]}),v.jsxs("div",{className:"absolute bottom-6 left-6 bg-white/95 backdrop-blur-md p-4 rounded-2xl shadow-2xl z-[1000] border border-gray-200 text-[10px] space-y-3 min-w-[140px]",children:[v.jsxs("div",{className:"font-black border-b border-gray-100 pb-2 mb-2 text-gray-800 flex items-center gap-2",children:[v.jsx(Pm,{className:"w-3 h-3 text-blue-500"}),"  "]}),n==="standard"?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-[#10b981]"})," ",v.jsx("span",{className:"font-bold text-gray-600",children:" "})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-[#f59e0b]"})," ",v.jsx("span",{className:"font-bold text-gray-600",children:"  "})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-[#ef4444]"})," ",v.jsx("span",{className:"font-bold text-gray-600",children:"  "})]})]}):v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-5 h-5 rounded-full bg-red-500/40 border border-red-200"})," ",v.jsx("span",{className:"font-bold text-gray-600",children:" "})]})]})]}),h&&v.jsxs("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 bg-blue-600 text-white px-6 py-3 rounded-2xl shadow-2xl z-[2000] flex items-center gap-3 font-bold text-sm animate-bounce",children:[v.jsx(ul,{className:"w-5 h-5 animate-spin"}),"     ..."]})]})},Qu=a=>{const n=a.length;if(n<2)return null;const s=[...a].sort((G,q)=>G-q),l=s[0],u=s[n-1],f=a.reduce((G,q)=>G+q,0)/n,g=Math.floor(n/2),m=n%2!==0?s[g]:(s[g-1]+s[g])/2,p=a.reduce((G,q)=>G+Math.pow(q-f,2),0)/(n-1),b=Math.sqrt(p),E=1.96*(b/Math.sqrt(n)),w=[f-E,f+E];let A=0,x=0;a.forEach(G=>{const q=G-f;A+=Math.pow(q,3),x+=Math.pow(q,4)}),A/=n,x/=n;const U=p*(n-1)/n,S=A/Math.pow(Math.sqrt(U),3),k=x/Math.pow(U,2)-3,B=n/6*(Math.pow(S,2)+.25*Math.pow(k,2)),I=B<5.99;return{mean:f,median:m,stdDev:b,min:l,max:u,confidenceInterval:w,skewness:S,kurtosis:k,jarqueBera:B,isNormal:I}};var HE={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var c0;(function(a){a.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",a.OUTCOME_OK="OUTCOME_OK",a.OUTCOME_FAILED="OUTCOME_FAILED",a.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(c0||(c0={}));var h0;(function(a){a.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",a.PYTHON="PYTHON"})(h0||(h0={}));var f0;(function(a){a.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",a.SILENT="SILENT",a.WHEN_IDLE="WHEN_IDLE",a.INTERRUPT="INTERRUPT"})(f0||(f0={}));var d0;(function(a){a.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",a.STRING="STRING",a.NUMBER="NUMBER",a.INTEGER="INTEGER",a.BOOLEAN="BOOLEAN",a.ARRAY="ARRAY",a.OBJECT="OBJECT",a.NULL="NULL"})(d0||(d0={}));var g0;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})(g0||(g0={}));var m0;(function(a){a.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",a.SIMPLE_SEARCH="SIMPLE_SEARCH",a.ELASTIC_SEARCH="ELASTIC_SEARCH"})(m0||(m0={}));var y0;(function(a){a.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",a.NO_AUTH="NO_AUTH",a.API_KEY_AUTH="API_KEY_AUTH",a.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",a.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",a.OAUTH="OAUTH",a.OIDC_AUTH="OIDC_AUTH"})(y0||(y0={}));var p0;(function(a){a.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",a.HTTP_IN_QUERY="HTTP_IN_QUERY",a.HTTP_IN_HEADER="HTTP_IN_HEADER",a.HTTP_IN_PATH="HTTP_IN_PATH",a.HTTP_IN_BODY="HTTP_IN_BODY",a.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(p0||(p0={}));var v0;(function(a){a.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",a.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",a.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",a.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(v0||(v0={}));var _0;(function(a){a.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH",a.MINIMAL="MINIMAL"})(_0||(_0={}));var b0;(function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",a.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",a.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",a.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",a.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(b0||(b0={}));var E0;(function(a){a.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",a.SEVERITY="SEVERITY",a.PROBABILITY="PROBABILITY"})(E0||(E0={}));var S0;(function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE",a.OFF="OFF"})(S0||(S0={}));var w0;(function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.OTHER="OTHER",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.IMAGE_SAFETY="IMAGE_SAFETY",a.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",a.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",a.NO_IMAGE="NO_IMAGE",a.IMAGE_RECITATION="IMAGE_RECITATION",a.IMAGE_OTHER="IMAGE_OTHER"})(w0||(w0={}));var T0;(function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"})(T0||(T0={}));var A0;(function(a){a.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",a.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",a.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",a.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",a.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(A0||(A0={}));var O0;(function(a){a.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",a.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",a.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",a.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",a.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(O0||(O0={}));var x0;(function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.IMAGE_SAFETY="IMAGE_SAFETY",a.MODEL_ARMOR="MODEL_ARMOR",a.JAILBREAK="JAILBREAK"})(x0||(x0={}));var N0;(function(a){a.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",a.ON_DEMAND="ON_DEMAND",a.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(N0||(N0={}));var R0;(function(a){a.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",a.TEXT="TEXT",a.IMAGE="IMAGE",a.AUDIO="AUDIO"})(R0||(R0={}));var C0;(function(a){a.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",a.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",a.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",a.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(C0||(C0={}));var D0;(function(a){a.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",a.TUNING_MODE_FULL="TUNING_MODE_FULL",a.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(D0||(D0={}));var U0;(function(a){a.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",a.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",a.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",a.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",a.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",a.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",a.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(U0||(U0={}));var j0;(function(a){a.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",a.JOB_STATE_QUEUED="JOB_STATE_QUEUED",a.JOB_STATE_PENDING="JOB_STATE_PENDING",a.JOB_STATE_RUNNING="JOB_STATE_RUNNING",a.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",a.JOB_STATE_FAILED="JOB_STATE_FAILED",a.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",a.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",a.JOB_STATE_PAUSED="JOB_STATE_PAUSED",a.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",a.JOB_STATE_UPDATING="JOB_STATE_UPDATING",a.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(j0||(j0={}));var I0;(function(a){a.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",a.TUNING_TASK_I2V="TUNING_TASK_I2V",a.TUNING_TASK_T2V="TUNING_TASK_T2V",a.TUNING_TASK_R2V="TUNING_TASK_R2V"})(I0||(I0={}));var M0;(function(a){a.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",a.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",a.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",a.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",a.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(M0||(M0={}));var L0;(function(a){a.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",a.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",a.BALANCED="BALANCED",a.PRIORITIZE_COST="PRIORITIZE_COST"})(L0||(L0={}));var k0;(function(a){a.UNSPECIFIED="UNSPECIFIED",a.BLOCKING="BLOCKING",a.NON_BLOCKING="NON_BLOCKING"})(k0||(k0={}));var z0;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})(z0||(z0={}));var B0;(function(a){a.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",a.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(B0||(B0={}));var H0;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE",a.VALIDATED="VALIDATED"})(H0||(H0={}));var G0;(function(a){a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"})(G0||(G0={}));var q0;(function(a){a.DONT_ALLOW="DONT_ALLOW",a.ALLOW_ADULT="ALLOW_ADULT",a.ALLOW_ALL="ALLOW_ALL"})(q0||(q0={}));var $0;(function(a){a.auto="auto",a.en="en",a.ja="ja",a.ko="ko",a.hi="hi",a.zh="zh",a.pt="pt",a.es="es"})($0||($0={}));var V0;(function(a){a.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",a.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",a.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",a.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",a.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(V0||(V0={}));var Y0;(function(a){a.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",a.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",a.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",a.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Y0||(Y0={}));var K0;(function(a){a.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",a.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",a.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",a.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(K0||(K0={}));var P0;(function(a){a.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",a.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",a.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",a.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",a.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",a.EDIT_MODE_STYLE="EDIT_MODE_STYLE",a.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",a.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(P0||(P0={}));var J0;(function(a){a.FOREGROUND="FOREGROUND",a.BACKGROUND="BACKGROUND",a.PROMPT="PROMPT",a.SEMANTIC="SEMANTIC",a.INTERACTIVE="INTERACTIVE"})(J0||(J0={}));var X0;(function(a){a.ASSET="ASSET",a.STYLE="STYLE"})(X0||(X0={}));var Q0;(function(a){a.INSERT="INSERT",a.REMOVE="REMOVE",a.REMOVE_STATIC="REMOVE_STATIC",a.OUTPAINT="OUTPAINT"})(Q0||(Q0={}));var F0;(function(a){a.OPTIMIZED="OPTIMIZED",a.LOSSLESS="LOSSLESS"})(F0||(F0={}));var Z0;(function(a){a.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",a.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Z0||(Z0={}));var W0;(function(a){a.STATE_UNSPECIFIED="STATE_UNSPECIFIED",a.STATE_PENDING="STATE_PENDING",a.STATE_ACTIVE="STATE_ACTIVE",a.STATE_FAILED="STATE_FAILED"})(W0||(W0={}));var em;(function(a){a.STATE_UNSPECIFIED="STATE_UNSPECIFIED",a.PROCESSING="PROCESSING",a.ACTIVE="ACTIVE",a.FAILED="FAILED"})(em||(em={}));var tm;(function(a){a.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",a.UPLOADED="UPLOADED",a.GENERATED="GENERATED"})(tm||(tm={}));var nm;(function(a){a.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.RESPONSE_REJECTED="RESPONSE_REJECTED",a.NEED_MORE_INPUT="NEED_MORE_INPUT"})(nm||(nm={}));var am;(function(a){a.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",a.TEXT="TEXT",a.IMAGE="IMAGE",a.VIDEO="VIDEO",a.AUDIO="AUDIO",a.DOCUMENT="DOCUMENT"})(am||(am={}));var im;(function(a){a.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",a.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",a.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(im||(im={}));var sm;(function(a){a.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",a.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",a.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(sm||(sm={}));var rm;(function(a){a.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",a.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",a.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(rm||(rm={}));var lm;(function(a){a.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",a.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",a.NO_INTERRUPTION="NO_INTERRUPTION"})(lm||(lm={}));var om;(function(a){a.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",a.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",a.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(om||(om={}));var um;(function(a){a.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",a.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",a.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",a.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",a.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",a.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",a.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",a.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",a.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",a.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",a.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",a.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",a.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(um||(um={}));var cm;(function(a){a.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",a.QUALITY="QUALITY",a.DIVERSITY="DIVERSITY",a.VOCALIZATION="VOCALIZATION"})(cm||(cm={}));var hm;(function(a){a.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",a.PLAY="PLAY",a.PAUSE="PAUSE",a.STOP="STOP",a.RESET_CONTEXT="RESET_CONTEXT"})(hm||(hm={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fm;(function(a){a.PAGED_ITEM_BATCH_JOBS="batchJobs",a.PAGED_ITEM_MODELS="models",a.PAGED_ITEM_TUNING_JOBS="tuningJobs",a.PAGED_ITEM_FILES="files",a.PAGED_ITEM_CACHED_CONTENTS="cachedContents",a.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",a.PAGED_ITEM_DOCUMENTS="documents"})(fm||(fm={}));function fl(a,n){var s={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&n.indexOf(l)<0&&(s[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(a);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(a,l[u])&&(s[l[u]]=a[l[u]]);return s}function dm(a){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&a[n],l=0;if(s)return s.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&l>=a.length&&(a=void 0),{value:a&&a[l++],done:!a}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(a){return this instanceof Ne?(this.v=a,this):new Ne(a)}function bs(a,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s.apply(a,n||[]),u,h=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",f),u[Symbol.asyncIterator]=function(){return this},u;function f(A){return function(x){return Promise.resolve(x).then(A,E)}}function g(A,x){l[A]&&(u[A]=function(U){return new Promise(function(S,k){h.push([A,U,S,k])>1||m(A,U)})},x&&(u[A]=x(u[A])))}function m(A,x){try{p(l[A](x))}catch(U){w(h[0][3],U)}}function p(A){A.value instanceof Ne?Promise.resolve(A.value.v).then(b,E):w(h[0][2],A)}function b(A){m("next",A)}function E(A){m("throw",A)}function w(A,x){A(x),h.shift(),h.length&&m(h[0][0],h[0][1])}}function bi(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=a[Symbol.asyncIterator],s;return n?n.call(a):(a=typeof dm=="function"?dm(a):a[Symbol.iterator](),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(h){s[h]=a[h]&&function(f){return new Promise(function(g,m){f=a[h](f),u(g,m,f.done,f.value)})}}function u(h,f,g,m){Promise.resolve(m).then(function(p){h({value:p,done:g})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let sy=function(){const{crypto:a}=globalThis;if(a!=null&&a.randomUUID)return sy=a.randomUUID.bind(a),a.randomUUID();const n=new Uint8Array(1),s=a?()=>a.getRandomValues(n)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(+l^s()&15>>+l/4).toString(16))};const GE=()=>sy();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hc(a){return typeof a=="object"&&a!==null&&("name"in a&&a.name==="AbortError"||"message"in a&&String(a.message).includes("FetchRequestCanceledException"))}const fc=a=>{if(a instanceof Error)return a;if(typeof a=="object"&&a!==null){try{if(Object.prototype.toString.call(a)==="[object Error]"){const n=new Error(a.message,a.cause?{cause:a.cause}:{});return a.stack&&(n.stack=a.stack),a.cause&&!n.cause&&(n.cause=a.cause),a.name&&(n.name=a.name),n}}catch{}try{return new Error(JSON.stringify(a))}catch{}}return new Error(a)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zt extends Error{}class st extends zt{constructor(n,s,l,u){super(`${st.makeMessage(n,s,l)}`),this.status=n,this.headers=u,this.error=s}static makeMessage(n,s,l){const u=s!=null&&s.message?typeof s.message=="string"?s.message:JSON.stringify(s.message):s?JSON.stringify(s):l;return n&&u?`${n} ${u}`:n?`${n} status code (no body)`:u||"(no status code or body)"}static generate(n,s,l,u){if(!n||!u)return new vl({message:l,cause:fc(s)});const h=s;return n===400?new ly(n,h,l,u):n===401?new oy(n,h,l,u):n===403?new uy(n,h,l,u):n===404?new cy(n,h,l,u):n===409?new hy(n,h,l,u):n===422?new fy(n,h,l,u):n===429?new dy(n,h,l,u):n>=500?new gy(n,h,l,u):new st(n,h,l,u)}}class dc extends st{constructor({message:n}={}){super(void 0,void 0,n||"Request was aborted.",void 0)}}class vl extends st{constructor({message:n,cause:s}){super(void 0,void 0,n||"Connection error.",void 0),s&&(this.cause=s)}}class ry extends vl{constructor({message:n}={}){super({message:n??"Request timed out."})}}class ly extends st{}class oy extends st{}class uy extends st{}class cy extends st{}class hy extends st{}class fy extends st{}class dy extends st{}class gy extends st{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qE=/^[a-z][a-z0-9+.-]*:/i,$E=a=>qE.test(a);let gc=a=>(gc=Array.isArray,gc(a));const VE=gc;let YE=VE;const gm=YE;function KE(a){if(!a)return!0;for(const n in a)return!1;return!0}function PE(a,n){return Object.prototype.hasOwnProperty.call(a,n)}const JE=(a,n)=>{if(typeof n!="number"||!Number.isInteger(n))throw new zt(`${a} must be an integer`);if(n<0)throw new zt(`${a} must be a positive integer`);return n},XE=a=>{try{return JSON.parse(a)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QE=a=>new Promise(n=>setTimeout(n,a));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gi="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FE(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const ZE=()=>{var a,n,s,l,u;const h=FE();if(h==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gi,"X-Stainless-OS":ym(Deno.build.os),"X-Stainless-Arch":mm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(n=(a=Deno.version)===null||a===void 0?void 0:a.deno)!==null&&n!==void 0?n:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(h==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gi,"X-Stainless-OS":ym((s=globalThis.process.platform)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Arch":mm((l=globalThis.process.arch)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(u=globalThis.process.version)!==null&&u!==void 0?u:"unknown"};const f=WE();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function WE(){if(typeof navigator>"u"||!navigator)return null;const a=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:n,pattern:s}of a){const l=s.exec(navigator.userAgent);if(l){const u=l[1]||0,h=l[2]||0,f=l[3]||0;return{browser:n,version:`${u}.${h}.${f}`}}}return null}const mm=a=>a==="x32"?"x32":a==="x86_64"||a==="x64"?"x64":a==="arm"?"arm":a==="aarch64"||a==="arm64"?"arm64":a?`other:${a}`:"unknown",ym=a=>(a=a.toLowerCase(),a.includes("ios")?"iOS":a==="android"?"Android":a==="darwin"?"MacOS":a==="win32"?"Windows":a==="freebsd"?"FreeBSD":a==="openbsd"?"OpenBSD":a==="linux"?"Linux":a?`Other:${a}`:"Unknown");let Fr;const eS=()=>Fr??(Fr=ZE());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tS(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function my(...a){const n=globalThis.ReadableStream;if(typeof n>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new n(...a)}function nS(a){let n=Symbol.asyncIterator in a?a[Symbol.asyncIterator]():a[Symbol.iterator]();return my({start(){},async pull(s){const{done:l,value:u}=await n.next();l?s.close():s.enqueue(u)},async cancel(){var s;await((s=n.return)===null||s===void 0?void 0:s.call(n))}})}function yy(a){if(a[Symbol.asyncIterator])return a;const n=a.getReader();return{async next(){try{const s=await n.read();return s!=null&&s.done&&n.releaseLock(),s}catch(s){throw n.releaseLock(),s}},async return(){const s=n.cancel();return n.releaseLock(),await s,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function aS(a){var n,s;if(a===null||typeof a!="object")return;if(a[Symbol.asyncIterator]){await((s=(n=a[Symbol.asyncIterator]()).return)===null||s===void 0?void 0:s.call(n));return}const l=a.getReader(),u=l.cancel();l.releaseLock(),await u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iS=({headers:a,body:n})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const py=()=>{var a;if(typeof File>"u"){const{process:n}=globalThis,s=typeof((a=n==null?void 0:n.versions)===null||a===void 0?void 0:a.node)=="string"&&parseInt(n.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(s?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Fu(a,n,s){return py(),new File(a,n??"unknown_file",s)}function sS(a){return(typeof a=="object"&&a!==null&&("name"in a&&a.name&&String(a.name)||"url"in a&&a.url&&String(a.url)||"filename"in a&&a.filename&&String(a.filename)||"path"in a&&a.path&&String(a.path))||"").split(/[\\/]/).pop()||void 0}const rS=a=>a!=null&&typeof a=="object"&&typeof a[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vy=a=>a!=null&&typeof a=="object"&&typeof a.size=="number"&&typeof a.type=="string"&&typeof a.text=="function"&&typeof a.slice=="function"&&typeof a.arrayBuffer=="function",lS=a=>a!=null&&typeof a=="object"&&typeof a.name=="string"&&typeof a.lastModified=="number"&&vy(a),oS=a=>a!=null&&typeof a=="object"&&typeof a.url=="string"&&typeof a.blob=="function";async function uS(a,n,s){if(py(),a=await a,lS(a))return a instanceof File?a:Fu([await a.arrayBuffer()],a.name);if(oS(a)){const u=await a.blob();return n||(n=new URL(a.url).pathname.split(/[\\/]/).pop()),Fu(await mc(u),n,s)}const l=await mc(a);if(n||(n=sS(a)),!(s!=null&&s.type)){const u=l.find(h=>typeof h=="object"&&"type"in h&&h.type);typeof u=="string"&&(s=Object.assign(Object.assign({},s),{type:u}))}return Fu(l,n,s)}async function mc(a){var n,s,l,u,h;let f=[];if(typeof a=="string"||ArrayBuffer.isView(a)||a instanceof ArrayBuffer)f.push(a);else if(vy(a))f.push(a instanceof Blob?a:await a.arrayBuffer());else if(rS(a))try{for(var g=!0,m=bi(a),p;p=await m.next(),n=p.done,!n;g=!0){u=p.value,g=!1;const b=u;f.push(...await mc(b))}}catch(b){s={error:b}}finally{try{!g&&!n&&(l=m.return)&&await l.call(m)}finally{if(s)throw s.error}}else{const b=(h=a==null?void 0:a.constructor)===null||h===void 0?void 0:h.name;throw new Error(`Unexpected data type: ${typeof a}${b?`; constructor: ${b}`:""}${cS(a)}`)}return f}function cS(a){return typeof a!="object"||a===null?"":`; props: [${Object.getOwnPropertyNames(a).map(s=>`"${s}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _y{constructor(n){this._client=n}}_y._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function by(a){return a.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const pm=Object.freeze(Object.create(null)),hS=(a=by)=>(function(s,...l){if(s.length===1)return s[0];let u=!1;const h=[],f=s.reduce((b,E,w)=>{var A,x,U;/[?#]/.test(E)&&(u=!0);const S=l[w];let k=(u?encodeURIComponent:a)(""+S);return w!==l.length&&(S==null||typeof S=="object"&&S.toString===((U=Object.getPrototypeOf((x=Object.getPrototypeOf((A=S.hasOwnProperty)!==null&&A!==void 0?A:pm))!==null&&x!==void 0?x:pm))===null||U===void 0?void 0:U.toString))&&(k=S+"",h.push({start:b.length+E.length,length:k.length,error:`Value of type ${Object.prototype.toString.call(S).slice(8,-1)} is not a valid path parameter`})),b+E+(w===l.length?"":k)},""),g=f.split(/[?#]/,1)[0],m=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=m.exec(g))!==null;)h.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(h.sort((b,E)=>b.start-E.start),h.length>0){let b=0;const E=h.reduce((w,A)=>{const x=" ".repeat(A.start-b),U="^".repeat(A.length);return b=A.start+A.length,w+x+U},"");throw new zt(`Path parameters result in path with invalid segments:
${h.map(w=>w.error).join(`
`)}
${f}
${E}`)}return f}),Zr=hS(by);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ey extends _y{create(n,s){var l;const{api_version:u=this._client.apiVersion}=n,h=fl(n,["api_version"]);if("model"in h&&"agent_config"in h)throw new zt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in h&&"generation_config"in h)throw new zt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Zr`/${u}/interactions`,Object.assign(Object.assign({body:h},s),{stream:(l=n.stream)!==null&&l!==void 0?l:!1}))}delete(n,s={},l){const{api_version:u=this._client.apiVersion}=s??{};return this._client.delete(Zr`/${u}/interactions/${n}`,l)}cancel(n,s={},l){const{api_version:u=this._client.apiVersion}=s??{};return this._client.post(Zr`/${u}/interactions/${n}/cancel`,l)}get(n,s={},l){var u;const h=s??{},{api_version:f=this._client.apiVersion}=h,g=fl(h,["api_version"]);return this._client.get(Zr`/${f}/interactions/${n}`,Object.assign(Object.assign({query:g},l),{stream:(u=s==null?void 0:s.stream)!==null&&u!==void 0?u:!1}))}}Ey._key=Object.freeze(["interactions"]);class Sy extends Ey{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fS(a){let n=0;for(const u of a)n+=u.length;const s=new Uint8Array(n);let l=0;for(const u of a)s.set(u,l),l+=u.length;return s}let Wr;function Rc(a){let n;return(Wr??(n=new globalThis.TextEncoder,Wr=n.encode.bind(n)))(a)}let el;function vm(a){let n;return(el??(n=new globalThis.TextDecoder,el=n.decode.bind(n)))(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _l{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(n){if(n==null)return[];const s=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Rc(n):n;this.buffer=fS([this.buffer,s]);const l=[];let u;for(;(u=dS(this.buffer,this.carriageReturnIndex))!=null;){if(u.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=u.index;continue}if(this.carriageReturnIndex!=null&&(u.index!==this.carriageReturnIndex+1||u.carriage)){l.push(vm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const h=this.carriageReturnIndex!==null?u.preceding-1:u.preceding,f=vm(this.buffer.subarray(0,h));l.push(f),this.buffer=this.buffer.subarray(u.index),this.carriageReturnIndex=null}return l}flush(){return this.buffer.length?this.decode(`
`):[]}}_l.NEWLINE_CHARS=new Set([`
`,"\r"]);_l.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function dS(a,n){for(let u=n??0;u<a.length;u++){if(a[u]===10)return{preceding:u,index:u+1,carriage:!1};if(a[u]===13)return{preceding:u,index:u+1,carriage:!0}}return null}function gS(a){for(let l=0;l<a.length-1;l++){if(a[l]===10&&a[l+1]===10||a[l]===13&&a[l+1]===13)return l+2;if(a[l]===13&&a[l+1]===10&&l+3<a.length&&a[l+2]===13&&a[l+3]===10)return l+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dl={off:0,error:200,warn:300,info:400,debug:500},_m=(a,n,s)=>{if(a){if(PE(dl,a))return a;it(s).warn(`${n} was set to ${JSON.stringify(a)}, expected one of ${JSON.stringify(Object.keys(dl))}`)}};function vs(){}function tl(a,n,s){return!n||dl[a]>dl[s]?vs:n[a].bind(n)}const mS={error:vs,warn:vs,info:vs,debug:vs};let bm=new WeakMap;function it(a){var n;const s=a.logger,l=(n=a.logLevel)!==null&&n!==void 0?n:"off";if(!s)return mS;const u=bm.get(s);if(u&&u[0]===l)return u[1];const h={error:tl("error",s,l),warn:tl("warn",s,l),info:tl("info",s,l),debug:tl("debug",s,l)};return bm.set(s,[l,h]),h}const ya=a=>(a.options&&(a.options=Object.assign({},a.options),delete a.options.headers),a.headers&&(a.headers=Object.fromEntries((a.headers instanceof Headers?[...a.headers]:Object.entries(a.headers)).map(([n,s])=>[n,n.toLowerCase()==="x-goog-api-key"||n.toLowerCase()==="authorization"||n.toLowerCase()==="cookie"||n.toLowerCase()==="set-cookie"?"***":s]))),"retryOfRequestLogID"in a&&(a.retryOfRequestLogID&&(a.retryOf=a.retryOfRequestLogID),delete a.retryOfRequestLogID),a);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vi{constructor(n,s,l){this.iterator=n,this.controller=s,this.client=l}static fromSSEResponse(n,s,l){let u=!1;const h=l?it(l):console;function f(){return bs(this,arguments,function*(){var m,p,b,E;if(u)throw new zt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");u=!0;let w=!1;try{try{for(var A=!0,x=bi(yS(n,s)),U;U=yield Ne(x.next()),m=U.done,!m;A=!0){E=U.value,A=!1;const S=E;if(!w)if(S.data.startsWith("[DONE]")){w=!0;continue}else try{yield yield Ne(JSON.parse(S.data))}catch(k){throw h.error("Could not parse message into JSON:",S.data),h.error("From chunk:",S.raw),k}}}catch(S){p={error:S}}finally{try{!A&&!m&&(b=x.return)&&(yield Ne(b.call(x)))}finally{if(p)throw p.error}}w=!0}catch(S){if(hc(S))return yield Ne(void 0);throw S}finally{w||s.abort()}})}return new vi(f,s,l)}static fromReadableStream(n,s,l){let u=!1;function h(){return bs(this,arguments,function*(){var m,p,b,E;const w=new _l,A=yy(n);try{for(var x=!0,U=bi(A),S;S=yield Ne(U.next()),m=S.done,!m;x=!0){E=S.value,x=!1;const k=E;for(const B of w.decode(k))yield yield Ne(B)}}catch(k){p={error:k}}finally{try{!x&&!m&&(b=U.return)&&(yield Ne(b.call(U)))}finally{if(p)throw p.error}}for(const k of w.flush())yield yield Ne(k)})}function f(){return bs(this,arguments,function*(){var m,p,b,E;if(u)throw new zt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");u=!0;let w=!1;try{try{for(var A=!0,x=bi(h()),U;U=yield Ne(x.next()),m=U.done,!m;A=!0){E=U.value,A=!1;const S=E;w||S&&(yield yield Ne(JSON.parse(S)))}}catch(S){p={error:S}}finally{try{!A&&!m&&(b=x.return)&&(yield Ne(b.call(x)))}finally{if(p)throw p.error}}w=!0}catch(S){if(hc(S))return yield Ne(void 0);throw S}finally{w||s.abort()}})}return new vi(f,s,l)}[Symbol.asyncIterator](){return this.iterator()}tee(){const n=[],s=[],l=this.iterator(),u=h=>({next:()=>{if(h.length===0){const f=l.next();n.push(f),s.push(f)}return h.shift()}});return[new vi(()=>u(n),this.controller,this.client),new vi(()=>u(s),this.controller,this.client)]}toReadableStream(){const n=this;let s;return my({async start(){s=n[Symbol.asyncIterator]()},async pull(l){try{const{value:u,done:h}=await s.next();if(h)return l.close();const f=Rc(JSON.stringify(u)+`
`);l.enqueue(f)}catch(u){l.error(u)}},async cancel(){var l;await((l=s.return)===null||l===void 0?void 0:l.call(s))}})}}function yS(a,n){return bs(this,arguments,function*(){var l,u,h,f;if(!a.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new zt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new zt("Attempted to iterate over a response with no body");const g=new vS,m=new _l,p=yy(a.body);try{for(var b=!0,E=bi(pS(p)),w;w=yield Ne(E.next()),l=w.done,!l;b=!0){f=w.value,b=!1;const A=f;for(const x of m.decode(A)){const U=g.decode(x);U&&(yield yield Ne(U))}}}catch(A){u={error:A}}finally{try{!b&&!l&&(h=E.return)&&(yield Ne(h.call(E)))}finally{if(u)throw u.error}}for(const A of m.flush()){const x=g.decode(A);x&&(yield yield Ne(x))}})}function pS(a){return bs(this,arguments,function*(){var s,l,u,h;let f=new Uint8Array;try{for(var g=!0,m=bi(a),p;p=yield Ne(m.next()),s=p.done,!s;g=!0){h=p.value,g=!1;const b=h;if(b==null)continue;const E=b instanceof ArrayBuffer?new Uint8Array(b):typeof b=="string"?Rc(b):b;let w=new Uint8Array(f.length+E.length);w.set(f),w.set(E,f.length),f=w;let A;for(;(A=gS(f))!==-1;)yield yield Ne(f.slice(0,A)),f=f.slice(A)}}catch(b){l={error:b}}finally{try{!g&&!s&&(u=m.return)&&(yield Ne(u.call(m)))}finally{if(l)throw l.error}}f.length>0&&(yield yield Ne(f))})}class vS{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(n){if(n.endsWith("\r")&&(n=n.substring(0,n.length-1)),!n){if(!this.event&&!this.data.length)return null;const h={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],h}if(this.chunks.push(n),n.startsWith(":"))return null;let[s,l,u]=_S(n,":");return u.startsWith(" ")&&(u=u.substring(1)),s==="event"?this.event=u:s==="data"&&this.data.push(u),null}}function _S(a,n){const s=a.indexOf(n);return s!==-1?[a.substring(0,s),n,a.substring(s+n.length)]:[a,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bS(a,n){const{response:s,requestLogID:l,retryOfRequestLogID:u,startTime:h}=n,f=await(async()=>{var g;if(n.options.stream)return it(a).debug("response",s.status,s.url,s.headers,s.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(s,n.controller,a):vi.fromSSEResponse(s,n.controller,a);if(s.status===204)return null;if(n.options.__binaryResponse)return s;const m=s.headers.get("content-type"),p=(g=m==null?void 0:m.split(";")[0])===null||g===void 0?void 0:g.trim();return(p==null?void 0:p.includes("application/json"))||(p==null?void 0:p.endsWith("+json"))?await s.json():await s.text()})();return it(a).debug(`[${l}] response parsed`,ya({retryOfRequestLogID:u,url:s.url,status:s.status,body:f,durationMs:Date.now()-h})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cc extends Promise{constructor(n,s,l=bS){super(u=>{u(null)}),this.responsePromise=s,this.parseResponse=l,this.client=n}_thenUnwrap(n){return new Cc(this.client,this.responsePromise,async(s,l)=>n(await this.parseResponse(s,l),l))}asResponse(){return this.responsePromise.then(n=>n.response)}async withResponse(){const[n,s]=await Promise.all([this.parse(),this.asResponse()]);return{data:n,response:s}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(n=>this.parseResponse(this.client,n))),this.parsedPromise}then(n,s){return this.parse().then(n,s)}catch(n){return this.parse().catch(n)}finally(n){return this.parse().finally(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wy=Symbol("brand.privateNullableHeaders");function*ES(a){if(!a)return;if(wy in a){const{values:l,nulls:u}=a;yield*l.entries();for(const h of u)yield[h,null];return}let n=!1,s;a instanceof Headers?s=a.entries():gm(a)?s=a:(n=!0,s=Object.entries(a??{}));for(let l of s){const u=l[0];if(typeof u!="string")throw new TypeError("expected header name to be a string");const h=gm(l[1])?l[1]:[l[1]];let f=!1;for(const g of h)g!==void 0&&(n&&!f&&(f=!0,yield[u,null]),yield[u,g])}}const ps=a=>{const n=new Headers,s=new Set;for(const l of a){const u=new Set;for(const[h,f]of ES(l)){const g=h.toLowerCase();u.has(g)||(n.delete(h),u.add(g)),f===null?(n.delete(h),s.add(g)):(n.append(h,f),s.delete(g))}}return{[wy]:!0,values:n,nulls:s}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zu=a=>{var n,s,l,u,h,f;if(typeof globalThis.process<"u")return(l=(s=(n=HE)===null||n===void 0?void 0:n[a])===null||s===void 0?void 0:s.trim())!==null&&l!==void 0?l:void 0;if(typeof globalThis.Deno<"u")return(f=(h=(u=globalThis.Deno.env)===null||u===void 0?void 0:u.get)===null||h===void 0?void 0:h.call(u,a))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ty;class bl{constructor(n){var s,l,u,h,f,g,m,{baseURL:p=Zu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:b=(s=Zu("GEMINI_API_KEY"))!==null&&s!==void 0?s:null,apiVersion:E="v1beta"}=n,w=fl(n,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:b,apiVersion:E},w),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(l=A.timeout)!==null&&l!==void 0?l:bl.DEFAULT_TIMEOUT,this.logger=(u=A.logger)!==null&&u!==void 0?u:console;const x="warn";this.logLevel=x,this.logLevel=(f=(h=_m(A.logLevel,"ClientOptions.logLevel",this))!==null&&h!==void 0?h:_m(Zu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:x,this.fetchOptions=A.fetchOptions,this.maxRetries=(g=A.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(m=A.fetch)!==null&&m!==void 0?m:tS(),this.encoder=iS,this._options=A,this.apiKey=b,this.apiVersion=E,this.clientAdapter=A.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:s}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!s.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){const s=ps([n.headers]);if(!(s.values.has("authorization")||s.values.has("x-goog-api-key"))){if(this.apiKey)return ps([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ps([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([s,l])=>typeof l<"u").map(([s,l])=>{if(typeof l=="string"||typeof l=="number"||typeof l=="boolean")return`${encodeURIComponent(s)}=${encodeURIComponent(l)}`;if(l===null)return`${encodeURIComponent(s)}=`;throw new zt(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${gi}`}defaultIdempotencyKey(){return`stainless-node-retry-${GE()}`}makeStatusError(n,s,l,u){return st.generate(n,s,l,u)}buildURL(n,s,l){const u=!this.baseURLOverridden()&&l||this.baseURL,h=$E(n)?new URL(n):new URL(u+(u.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),f=this.defaultQuery();return KE(f)||(s=Object.assign(Object.assign({},f),s)),typeof s=="object"&&s&&!Array.isArray(s)&&(h.search=this.stringifyQuery(s)),h.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){const s=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${s}`}}async prepareRequest(n,{url:s,options:l}){}get(n,s){return this.methodRequest("get",n,s)}post(n,s){return this.methodRequest("post",n,s)}patch(n,s){return this.methodRequest("patch",n,s)}put(n,s){return this.methodRequest("put",n,s)}delete(n,s){return this.methodRequest("delete",n,s)}methodRequest(n,s,l){return this.request(Promise.resolve(l).then(u=>Object.assign({method:n,path:s},u)))}request(n,s=null){return new Cc(this,this.makeRequest(n,s,void 0))}async makeRequest(n,s,l){var u,h,f;const g=await n,m=(u=g.maxRetries)!==null&&u!==void 0?u:this.maxRetries;s==null&&(s=m),await this.prepareOptions(g);const{req:p,url:b,timeout:E}=await this.buildRequest(g,{retryCount:m-s});await this.prepareRequest(p,{url:b,options:g});const w="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=l===void 0?"":`, retryOf: ${l}`,x=Date.now();if(it(this).debug(`[${w}] sending request`,ya({retryOfRequestLogID:l,method:g.method,url:b,options:g,headers:p.headers})),!((h=g.signal)===null||h===void 0)&&h.aborted)throw new dc;const U=new AbortController,S=await this.fetchWithTimeout(b,p,E,U).catch(fc),k=Date.now();if(S instanceof globalThis.Error){const I=`retrying, ${s} attempts remaining`;if(!((f=g.signal)===null||f===void 0)&&f.aborted)throw new dc;const G=hc(S)||/timed? ?out/i.test(String(S)+("cause"in S?String(S.cause):""));if(s)return it(this).info(`[${w}] connection ${G?"timed out":"failed"} - ${I}`),it(this).debug(`[${w}] connection ${G?"timed out":"failed"} (${I})`,ya({retryOfRequestLogID:l,url:b,durationMs:k-x,message:S.message})),this.retryRequest(g,s,l??w);throw it(this).info(`[${w}] connection ${G?"timed out":"failed"} - error; no more retries left`),it(this).debug(`[${w}] connection ${G?"timed out":"failed"} (error; no more retries left)`,ya({retryOfRequestLogID:l,url:b,durationMs:k-x,message:S.message})),G?new ry:new vl({cause:S})}const B=`[${w}${A}] ${p.method} ${b} ${S.ok?"succeeded":"failed"} with status ${S.status} in ${k-x}ms`;if(!S.ok){const I=await this.shouldRetry(S);if(s&&I){const he=`retrying, ${s} attempts remaining`;return await aS(S.body),it(this).info(`${B} - ${he}`),it(this).debug(`[${w}] response error (${he})`,ya({retryOfRequestLogID:l,url:S.url,status:S.status,headers:S.headers,durationMs:k-x})),this.retryRequest(g,s,l??w,S.headers)}const G=I?"error; no more retries left":"error; not retryable";it(this).info(`${B} - ${G}`);const q=await S.text().catch(he=>fc(he).message),H=XE(q),$=H?void 0:q;throw it(this).debug(`[${w}] response error (${G})`,ya({retryOfRequestLogID:l,url:S.url,status:S.status,headers:S.headers,message:$,durationMs:Date.now()-x})),this.makeStatusError(S.status,H,$,S.headers)}return it(this).info(B),it(this).debug(`[${w}] response start`,ya({retryOfRequestLogID:l,url:S.url,status:S.status,headers:S.headers,durationMs:k-x})),{response:S,options:g,controller:U,requestLogID:w,retryOfRequestLogID:l,startTime:x}}async fetchWithTimeout(n,s,l,u){const h=s||{},{signal:f,method:g}=h,m=fl(h,["signal","method"]);f&&f.addEventListener("abort",()=>u.abort());const p=setTimeout(()=>u.abort(),l),b=globalThis.ReadableStream&&m.body instanceof globalThis.ReadableStream||typeof m.body=="object"&&m.body!==null&&Symbol.asyncIterator in m.body,E=Object.assign(Object.assign(Object.assign({signal:u.signal},b?{duplex:"half"}:{}),{method:"GET"}),m);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,n,E)}finally{clearTimeout(p)}}async shouldRetry(n){const s=n.headers.get("x-should-retry");return s==="true"?!0:s==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,s,l,u){var h;let f;const g=u==null?void 0:u.get("retry-after-ms");if(g){const p=parseFloat(g);Number.isNaN(p)||(f=p)}const m=u==null?void 0:u.get("retry-after");if(m&&!f){const p=parseFloat(m);Number.isNaN(p)?f=Date.parse(m)-Date.now():f=p*1e3}if(!(f&&0<=f&&f<60*1e3)){const p=(h=n.maxRetries)!==null&&h!==void 0?h:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(s,p)}return await QE(f),this.makeRequest(n,s-1,l)}calculateDefaultRetryTimeoutMillis(n,s){const h=s-n,f=Math.min(.5*Math.pow(2,h),8),g=1-Math.random()*.25;return f*g*1e3}async buildRequest(n,{retryCount:s=0}={}){var l,u,h;const f=Object.assign({},n),{method:g,path:m,query:p,defaultBaseURL:b}=f,E=this.buildURL(m,p,b);"timeout"in f&&JE("timeout",f.timeout),f.timeout=(l=f.timeout)!==null&&l!==void 0?l:this.timeout;const{bodyHeaders:w,body:A}=this.buildBody({options:f}),x=await this.buildHeaders({options:n,method:g,bodyHeaders:w,retryCount:s});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:x},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(u=this.fetchOptions)!==null&&u!==void 0?u:{}),(h=f.fetchOptions)!==null&&h!==void 0?h:{}),url:E,timeout:f.timeout}}async buildHeaders({options:n,method:s,bodyHeaders:l,retryCount:u}){let h={};this.idempotencyHeader&&s!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),h[this.idempotencyHeader]=n.idempotencyKey);const f=await this.authHeaders(n);let g=ps([h,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(u)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),eS()),this._options.defaultHeaders,l,n.headers,f]);return this.validateHeaders(g),g.values}buildBody({options:{body:n,headers:s}}){if(!n)return{bodyHeaders:void 0,body:void 0};const l=ps([s]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&l.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:nS(n)}:this.encoder({body:n,headers:l})}}bl.DEFAULT_TIMEOUT=6e4;class et extends bl{constructor(){super(...arguments),this.interactions=new Sy(this)}}Ty=et;et.GeminiNextGenAPIClient=Ty;et.GeminiNextGenAPIClientError=zt;et.APIError=st;et.APIConnectionError=vl;et.APIConnectionTimeoutError=ry;et.APIUserAbortError=dc;et.NotFoundError=cy;et.ConflictError=hy;et.RateLimitError=dy;et.BadRequestError=ly;et.AuthenticationError=oy;et.InternalServerError=gy;et.PermissionDeniedError=uy;et.UnprocessableEntityError=fy;et.toFile=uS;et.Interactions=Sy;const SS=({samples:a})=>{const[n,s]=W.useState("integrity"),[l,u]=W.useState("chlorine"),[h,f]=W.useState(null),[g,m]=W.useState(!1),p=W.useMemo(()=>a.map(S=>S.metrics[l]),[a,l]),b=W.useMemo(()=>Qu(p),[p]),E=W.useMemo(()=>{if(p.length===0||!b)return[];const S=b.min,B=b.max-S,I=8,G=B/I,q=Array(I).fill(0).map((H,$)=>({range:G===0?S.toFixed(2):`${(S+$*G).toFixed(2)}`,count:0}));return p.forEach(H=>{let $=G===0?0:Math.floor((H-S)/G);$>=I&&($=I-1),$<0&&($=0),q[$].count++}),q},[p,b]),w=W.useMemo(()=>{const S=Object.keys(ys);return pn.map(B=>{const I=a.filter(Ce=>Ce.samplerId===B).sort((Ce,_e)=>Ce.timestamp-_e.timestamp);if(I.length===0)return{samplerId:B,globalScore:0,totalSamples:0,flags:[],avgTime:0,avgDist:0};let G=0;const q=[],H=[];S.forEach(Ce=>{let _e=0;const tt=Qu(a.map(M=>M.metrics[Ce])),Bt=I.map(M=>M.metrics[Ce]),Ge=Qu(Bt);Ge&&tt&&tt.stdDev>0&&(Ge.stdDev/tt.stdDev<.25&&I.length>4&&(_e+=20),Math.abs(Ge.mean-tt.mean)/(tt.mean||1)>.4&&I.length>5&&(_e+=15),!Ge.isNormal&&tt.isNormal&&(_e+=10)),G+=Math.max(0,100-_e)});let $=0;for(let Ce=1;Ce<I.length;Ce++){const _e=I[Ce-1],tt=I[Ce],Bt=Xm(_e.location.lat,_e.location.lng,tt.location.lat,tt.location.lng),Ge=(tt.timestamp-_e.timestamp)/(1e3*60);if(Ge<=20&&Bt<=1e3&&H.push({time:Ge,dist:Bt}),Ge>0&&Bt/1e3/(Ge/60)>130){q.push(" "),$=25;break}}const le=H.length>0?H.reduce((Ce,_e)=>Ce+_e.time,0)/H.length:0,he=H.length>0?H.reduce((Ce,_e)=>Ce+_e.dist,0)/H.length:0,Jn=Math.max(0,G/S.length-$);return{samplerId:B,globalScore:Jn,totalSamples:I.length,flags:q,avgTime:le,avgDist:he}}).sort((B,I)=>I.globalScore-B.globalScore)},[a]),A=async()=>{{f(":  API  .");return}},x={" ":"#3b82f6"," ":"#8b5cf6"," ":"#ec4899"},U=W.useMemo(()=>Object.keys(ys).map(k=>{const B={subject:ys[k]};return pn.forEach(I=>{const G=a.filter($=>$.samplerId===I).map($=>$.metrics[k]),q=G.length>0?G.reduce(($,le)=>$+le,0)/G.length:0,H=a.map($=>$.metrics[k]).reduce(($,le)=>$+le,0)/(a.length||1);B[I]=H===0?0:q/H*100}),B}),[a]);return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-xl w-full sm:w-max overflow-x-auto no-scrollbar",children:[v.jsxs("button",{onClick:()=>s("integrity"),className:`flex-none px-6 py-2 rounded-lg text-sm font-bold transition flex items-center gap-2 ${n==="integrity"?"bg-white shadow text-red-600":"text-gray-500"}`,children:[v.jsx(e0,{className:"w-4 h-4"})," "]}),v.jsxs("button",{onClick:()=>s("comparative"),className:`flex-none px-6 py-2 rounded-lg text-sm font-bold transition flex items-center gap-2 ${n==="comparative"?"bg-white shadow text-indigo-600":"text-gray-500"}`,children:[v.jsx(mb,{className:"w-4 h-4"}),"  "]}),v.jsxs("button",{onClick:()=>s("stats"),className:`flex-none px-6 py-2 rounded-lg text-sm font-bold transition flex items-center gap-2 ${n==="stats"?"bg-white shadow text-blue-600":"text-gray-500"}`,children:[v.jsx(Z_,{className:"w-4 h-4"}),"  "]}),v.jsxs("button",{onClick:()=>s("performance"),className:`flex-none px-6 py-2 rounded-lg text-sm font-bold transition flex items-center gap-2 ${n==="performance"?"bg-white shadow text-purple-600":"text-gray-500"}`,children:[v.jsx(t0,{className:"w-4 h-4"}),"  "]})]}),v.jsxs("div",{className:"bg-white p-4 rounded-xl shadow border border-gray-100 flex items-center justify-between flex-wrap gap-4",children:[v.jsx("h2",{className:"text-xl font-bold flex items-center gap-2",children:n==="integrity"?v.jsxs(v.Fragment,{children:[v.jsx(Jg,{className:"text-red-600 w-5 h-5"}),"   "]}):v.jsxs(v.Fragment,{children:[v.jsx(eb,{className:"text-blue-600 w-5 h-5"}),"  "]})}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("button",{onClick:A,disabled:g,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50 text-xs font-bold shadow-sm",children:[g?v.jsx(ul,{className:"w-3 h-3 animate-spin"}):v.jsx(Mb,{className:"w-3 h-3"}),"  "]}),v.jsx("select",{value:l,onChange:S=>u(S.target.value),className:"p-2 border rounded-lg bg-gray-50 text-xs font-bold outline-none",children:Object.keys(ys).map(S=>v.jsx("option",{value:S,children:ys[S]},S))})]})]}),h&&v.jsx("div",{className:"bg-red-50 border-r-4 border-red-600 p-4 rounded-lg",children:v.jsx("p",{className:"text-sm leading-relaxed text-red-900 font-medium",children:h})}),n==="integrity"&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end pt-10",children:[v.jsx(Wu,{rank:2,data:w[1],color:"border-gray-200 bg-gray-50/30",icon:v.jsx(Ab,{className:"w-10 h-10 text-gray-400"}),badgeColor:"bg-gray-400"}),v.jsx("div",{className:"relative -top-6",children:v.jsx(Wu,{rank:1,data:w[0],color:"border-yellow-400 ring-8 ring-yellow-50 bg-yellow-50/20",icon:v.jsx(e0,{className:"w-16 h-16 text-yellow-500"}),badgeColor:"bg-yellow-500",isWinner:!0})}),v.jsx(Wu,{rank:3,data:w[2],color:"border-orange-100 bg-orange-50/10",icon:v.jsx(Jg,{className:"w-10 h-10 text-orange-400"}),badgeColor:"bg-orange-600"})]}),n==="performance"&&v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:w.map(S=>v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col items-center",children:[v.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mb-4",children:v.jsx(t0,{className:"w-8 h-8 text-blue-600"})}),v.jsx("h4",{className:"font-black text-gray-800 mb-4",children:S.samplerId}),v.jsxs("div",{className:"w-full bg-gray-50 p-4 rounded-xl space-y-2 text-[10px]",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-500",children:" :"}),v.jsxs("span",{className:"font-bold text-green-600",children:[S.globalScore.toFixed(1),"%"]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-500",children:"  ():"}),v.jsx("span",{className:"font-bold",children:S.avgTime.toFixed(1)})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-500",children:"  ():"}),v.jsx("span",{className:"font-bold",children:Math.round(S.avgDist)})]}),v.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[v.jsx("span",{className:"text-gray-500",children:" :"}),v.jsx("span",{className:"font-bold",children:S.totalSamples})]})]})]},S.samplerId))}),n==="comparative"&&v.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 h-96",children:v.jsx(zg,{width:"100%",height:"100%",children:v.jsxs(f_,{data:U,children:[v.jsx(d_,{stroke:"#e2e8f0"}),v.jsx(g_,{dataKey:"subject",fontSize:10}),v.jsx(m_,{angle:30,domain:[0,150],hide:!0}),pn.map(S=>v.jsx(y_,{name:S,dataKey:S,stroke:x[S],fill:x[S],fillOpacity:.2},S)),v.jsx(p_,{}),v.jsx(Bg,{})]})})}),n==="stats"&&v.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 h-80",children:v.jsx(zg,{width:"100%",height:"100%",children:v.jsxs(v_,{data:E,children:[v.jsx(__,{strokeDasharray:"3 3",vertical:!1}),v.jsx(b_,{dataKey:"range",fontSize:10}),v.jsx(E_,{hide:!0}),v.jsx(Bg,{}),v.jsx(S_,{dataKey:"count",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]})},Wu=({rank:a,data:n,color:s,icon:l,badgeColor:u,isWinner:h})=>{var f,g;return v.jsxs("div",{className:`relative p-8 rounded-[2.5rem] shadow-2xl border-4 flex flex-col items-center transition-all duration-300 ${s}`,children:[v.jsx("div",{className:`absolute -top-6 left-1/2 -translate-x-1/2 w-12 h-12 rounded-full flex items-center justify-center text-white font-black text-xl shadow-xl ring-4 ring-white ${u}`,children:a}),v.jsx("div",{className:"mb-6",children:l}),v.jsx("h3",{className:"text-xl font-black text-gray-800 mb-2",children:(n==null?void 0:n.samplerId)||" "}),v.jsxs("div",{className:"grid grid-cols-2 gap-2 w-full mb-6",children:[v.jsxs("div",{className:"bg-white/50 p-2 rounded-xl flex flex-col items-center",children:[v.jsx(lb,{className:"w-3 h-3 text-blue-500"}),v.jsx("span",{className:"text-[8px] text-gray-400",children:""}),v.jsxs("span",{className:"text-xs font-black",children:[((f=n==null?void 0:n.avgTime)==null?void 0:f.toFixed(1))||"0","m"]})]}),v.jsxs("div",{className:"bg-white/50 p-2 rounded-xl flex flex-col items-center",children:[v.jsx(Jm,{className:"w-3 h-3 text-red-500"}),v.jsx("span",{className:"text-[8px] text-gray-400",children:""}),v.jsxs("span",{className:"text-xs font-black",children:[Math.round((n==null?void 0:n.avgDist)||0),"m"]})]})]}),v.jsxs("div",{className:`text-4xl font-black ${h?"text-yellow-600":"text-gray-700"}`,children:[((g=n==null?void 0:n.globalScore)==null?void 0:g.toFixed(1))||"0.0","%"]})]})},wS=({samples:a})=>{const[n,s]=W.useState("all"),[l,u]=W.useState(""),[h,f]=W.useState(""),g=a.filter(E=>{if(n!=="all"&&E.samplerId!==n)return!1;const w=new Date(E.timestamp);if(l){const A=l.split("-"),x=new Date(parseInt(A[0]),parseInt(A[1])-1,parseInt(A[2]));if(x.setHours(0,0,0,0),w<x)return!1}if(h){const A=h.split("-"),x=new Date(parseInt(A[0]),parseInt(A[1])-1,parseInt(A[2]));if(x.setHours(23,59,59,999),w>x)return!1}return!0}),m=()=>{const E=["","","  "," "," ","","  (mg/L)","  (S/cm)","pH"," (NTU)",""].join(","),w=g.map(B=>{const I=new Date(B.timestamp).toLocaleString("fa-IR").replace(/,/g,"");return[`"${B.id}"`,`"${B.samplerId}"`,`"${I}"`,`"${B.location.lat}"`,`"${B.location.lng}"`,`"${(B.location.address||"").replace(/"/g,'""')}"`,`"${B.metrics.chlorine}"`,`"${B.metrics.ec}"`,`"${B.metrics.ph}"`,`"${B.metrics.turbidity}"`,`"${(B.notes||"").replace(/"/g,'""').replace(/\n/g," ")}"`].join(",")}),A=[E,...w].join(`\r
`),x=new Uint8Array([239,187,191]),U=new Blob([x,A],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(U),k=document.createElement("a");k.setAttribute("href",S),k.setAttribute("download",`aquaguard_export_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(S)},p=()=>{s("all"),u(""),f("")},b=n!=="all"||l!==""||h!=="";return v.jsxs("div",{className:"bg-white rounded-xl shadow border border-gray-100 overflow-hidden",children:[v.jsxs("div",{className:"p-4 border-b bg-gray-50 flex flex-col md:flex-row gap-4 justify-between items-center",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full md:w-auto",children:[v.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-lg border border-gray-200 shadow-sm w-full sm:w-auto",children:[v.jsx(Pm,{className:"text-gray-400 w-4 h-4"}),v.jsxs("select",{value:n,onChange:E=>s(E.target.value),className:"bg-transparent text-sm outline-none w-full",children:[v.jsx("option",{value:"all",children:" "}),pn.map(E=>v.jsx("option",{value:E,children:E},E))]})]}),v.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-lg border border-gray-200 shadow-sm w-full sm:w-auto",children:[v.jsx(J_,{className:"text-gray-400 w-4 h-4 shrink-0"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"date",value:l,onChange:E=>u(E.target.value),className:"text-sm outline-none bg-transparent w-full sm:w-32",title:" "}),v.jsx("span",{className:"text-gray-400",children:""}),v.jsx("input",{type:"date",value:h,onChange:E=>f(E.target.value),className:"text-sm outline-none bg-transparent w-full sm:w-32",title:" "})]})]}),b&&v.jsx("button",{onClick:p,className:"p-2 text-red-500 hover:bg-red-50 rounded-full transition",title:" ",children:v.jsx($b,{className:"w-4 h-4"})})]}),v.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition text-sm font-bold w-full md:w-auto justify-center shadow-sm",children:[v.jsx(fb,{className:"w-4 h-4"}),"  /CSV"]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm text-right",children:[v.jsx("thead",{className:"bg-gray-100 text-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:""}),v.jsx("th",{className:"p-3",children:""}),v.jsx("th",{className:"p-3",children:" (mg/L)"}),v.jsx("th",{className:"p-3",children:"pH"}),v.jsx("th",{className:"p-3",children:""})]})}),v.jsx("tbody",{className:"divide-y divide-gray-100",children:g.length===0?v.jsx("tr",{children:v.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:a.length===0?"  .":"      ."})}):g.map(E=>v.jsxs("tr",{className:"hover:bg-blue-50 transition",children:[v.jsx("td",{className:"p-3 whitespace-nowrap",children:new Date(E.timestamp).toLocaleString("fa-IR")}),v.jsx("td",{className:"p-3 font-medium",children:E.samplerId}),v.jsx("td",{className:"p-3 text-blue-600 font-bold",children:E.metrics.chlorine}),v.jsx("td",{className:"p-3",children:E.metrics.ph}),v.jsx("td",{className:"p-3 truncate max-w-[200px]",title:E.location.address,children:E.location.address||`${E.location.lat.toFixed(4)}, ${E.location.lng.toFixed(4)}`})]},E.id))})]})}),v.jsxs("div",{className:"bg-gray-50 p-2 text-xs text-gray-500 text-center border-t",children:[" : ",g.length]})]})};function El(a,n){var s={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&n.indexOf(l)<0&&(s[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(a);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(a,l[u])&&(s[l[u]]=a[l[u]]);return s}function TS(a,n,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function g(b){try{p(l.next(b))}catch(E){f(E)}}function m(b){try{p(l.throw(b))}catch(E){f(E)}}function p(b){b.done?h(b.value):u(b.value).then(g,m)}p((l=l.apply(a,n||[])).next())})}const AS=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);class Dc extends Error{constructor(n,s="FunctionsError",l){super(n),this.name=s,this.context=l}}class OS extends Dc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Em extends Dc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Sm extends Dc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var yc;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(yc||(yc={}));class xS{constructor(n,{headers:s={},customFetch:l,region:u=yc.Any}={}){this.url=n,this.headers=s,this.region=u,this.fetch=AS(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return TS(this,arguments,void 0,function*(s,l={}){var u;let h,f;try{const{headers:g,method:m,body:p,signal:b,timeout:E}=l;let w={},{region:A}=l;A||(A=this.region);const x=new URL(`${this.url}/${s}`);A&&A!=="any"&&(w["x-region"]=A,x.searchParams.set("forceFunctionRegion",A));let U;p&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",U=p):typeof p=="string"?(w["Content-Type"]="text/plain",U=p):typeof FormData<"u"&&p instanceof FormData?U=p:(w["Content-Type"]="application/json",U=JSON.stringify(p)):U=p;let S=b;E&&(f=new AbortController,h=setTimeout(()=>f.abort(),E),b?(S=f.signal,b.addEventListener("abort",()=>f.abort())):S=f.signal);const k=yield this.fetch(x.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),g),body:U,signal:S}).catch(q=>{throw new OS(q)}),B=k.headers.get("x-relay-error");if(B&&B==="true")throw new Em(k);if(!k.ok)throw new Sm(k);let I=((u=k.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),G;return I==="application/json"?G=yield k.json():I==="application/octet-stream"||I==="application/pdf"?G=yield k.blob():I==="text/event-stream"?G=k:I==="multipart/form-data"?G=yield k.formData():G=yield k.text(),{data:G,error:null,response:k}}catch(g){return{data:null,error:g,response:g instanceof Sm||g instanceof Em?g.context:void 0}}finally{h&&clearTimeout(h)}})}}var NS=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},RS=class{constructor(a){var n,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(n=a.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=a.signal,this.isMaybeSingle=(s=a.isMaybeSingle)!==null&&s!==void 0?s:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,n){return this.headers=new Headers(this.headers),this.headers.set(a,n),this}then(a,n){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,g=null,m=null,p=h.status,b=h.statusText;if(h.ok){var E,w;if(s.method!=="HEAD"){var A;const k=await h.text();k===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((A=s.headers.get("Accept"))===null||A===void 0)&&A.includes("application/vnd.pgrst.plan+text"))?g=k:g=JSON.parse(k))}const U=(E=s.headers.get("Prefer"))===null||E===void 0?void 0:E.match(/count=(exact|planned|estimated)/),S=(w=h.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");U&&S&&S.length>1&&(m=parseInt(S[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,p=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var x;const U=await h.text();try{f=JSON.parse(U),Array.isArray(f)&&h.status===404&&(g=[],f=null,p=200,b="OK")}catch{h.status===404&&U===""?(p=204,b="No Content"):f={message:U}}if(f&&s.isMaybeSingle&&(!(f==null||(x=f.details)===null||x===void 0)&&x.includes("0 rows"))&&(f=null,p=200,b="OK"),f&&s.shouldThrowOnError)throw new NS(f)}return{error:f,data:g,count:m,status:p,statusText:b}});return this.shouldThrowOnError||(u=u.catch(h=>{var f;let g="";const m=h==null?void 0:h.cause;if(m){var p,b,E,w;const x=(p=m==null?void 0:m.message)!==null&&p!==void 0?p:"",U=(b=m==null?void 0:m.code)!==null&&b!==void 0?b:"";g=`${(E=h==null?void 0:h.name)!==null&&E!==void 0?E:"FetchError"}: ${h==null?void 0:h.message}`,g+=`

Caused by: ${(w=m==null?void 0:m.name)!==null&&w!==void 0?w:"Error"}: ${x}`,U&&(g+=` (${U})`),m!=null&&m.stack&&(g+=`
${m.stack}`)}else{var A;g=(A=h==null?void 0:h.stack)!==null&&A!==void 0?A:""}return{error:{message:`${(f=h==null?void 0:h.name)!==null&&f!==void 0?f:"FetchError"}: ${h==null?void 0:h.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(a,n)}returns(){return this}overrideTypes(){return this}},CS=class extends RS{select(a){let n=!1;const s=(a??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:n=!0,nullsFirst:s,foreignTable:l,referencedTable:u=l}={}){const h=u?`${u}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${a}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:n,referencedTable:s=n}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,n,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${a}`),this.url.searchParams.set(h,`${n-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:n=!1,settings:s=!1,buffers:l=!1,wal:u=!1,format:h="text"}={}){var f;const g=[a?"analyze":null,n?"verbose":null,s?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${m}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const wm=new RegExp("[,()]");var mi=class extends CS{eq(a,n){return this.url.searchParams.append(a,`eq.${n}`),this}neq(a,n){return this.url.searchParams.append(a,`neq.${n}`),this}gt(a,n){return this.url.searchParams.append(a,`gt.${n}`),this}gte(a,n){return this.url.searchParams.append(a,`gte.${n}`),this}lt(a,n){return this.url.searchParams.append(a,`lt.${n}`),this}lte(a,n){return this.url.searchParams.append(a,`lte.${n}`),this}like(a,n){return this.url.searchParams.append(a,`like.${n}`),this}likeAllOf(a,n){return this.url.searchParams.append(a,`like(all).{${n.join(",")}}`),this}likeAnyOf(a,n){return this.url.searchParams.append(a,`like(any).{${n.join(",")}}`),this}ilike(a,n){return this.url.searchParams.append(a,`ilike.${n}`),this}ilikeAllOf(a,n){return this.url.searchParams.append(a,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(a,n){return this.url.searchParams.append(a,`ilike(any).{${n.join(",")}}`),this}regexMatch(a,n){return this.url.searchParams.append(a,`match.${n}`),this}regexIMatch(a,n){return this.url.searchParams.append(a,`imatch.${n}`),this}is(a,n){return this.url.searchParams.append(a,`is.${n}`),this}isDistinct(a,n){return this.url.searchParams.append(a,`isdistinct.${n}`),this}in(a,n){const s=Array.from(new Set(n)).map(l=>typeof l=="string"&&wm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}notIn(a,n){const s=Array.from(new Set(n)).map(l=>typeof l=="string"&&wm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`not.in.(${s})`),this}contains(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cs.{${n.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(n)}`),this}containedBy(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cd.{${n.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(n)}`),this}rangeGt(a,n){return this.url.searchParams.append(a,`sr.${n}`),this}rangeGte(a,n){return this.url.searchParams.append(a,`nxl.${n}`),this}rangeLt(a,n){return this.url.searchParams.append(a,`sl.${n}`),this}rangeLte(a,n){return this.url.searchParams.append(a,`nxr.${n}`),this}rangeAdjacent(a,n){return this.url.searchParams.append(a,`adj.${n}`),this}overlaps(a,n){return typeof n=="string"?this.url.searchParams.append(a,`ov.${n}`):this.url.searchParams.append(a,`ov.{${n.join(",")}}`),this}textSearch(a,n,{config:s,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const h=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${u}fts${h}.${n}`),this}match(a){return Object.entries(a).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(a,n,s){return this.url.searchParams.append(a,`not.${n}.${s}`),this}or(a,{foreignTable:n,referencedTable:s=n}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,n,s){return this.url.searchParams.append(a,`${n}.${s}`),this}},DS=class{constructor(a,{headers:n={},schema:s,fetch:l}){this.url=a,this.headers=new Headers(n),this.schema=s,this.fetch=l}select(a,n){const{head:s=!1,count:l}=n??{},u=s?"HEAD":"GET";let h=!1;const f=(a??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new mi({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:n,defaultToNull:s=!0}={}){var l;const u="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(h.length>0){const f=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",f.join(","))}}return new mi({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:n,ignoreDuplicates:s=!1,count:l,defaultToNull:u=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(g.length>0){const m=[...new Set(g)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new mi({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(a,{count:n}={}){var s;const l="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new mi({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var n;const s="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new mi({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},US=class Ay{constructor(n,{headers:s={},schema:l,fetch:u}={}){this.url=n,this.headers=new Headers(s),this.schemaName=l,this.fetch=u}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new DS(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new Ay(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,s={},{head:l=!1,get:u=!1,count:h}={}){var f;let g;const m=new URL(`${this.url}/rpc/${n}`);let p;l||u?(g=l?"HEAD":"GET",Object.entries(s).filter(([E,w])=>w!==void 0).map(([E,w])=>[E,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([E,w])=>{m.searchParams.append(E,w)})):(g="POST",p=s);const b=new Headers(this.headers);return h&&b.set("Prefer",`count=${h}`),new mi({method:g,url:m,headers:b,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class jS{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const l=s.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const l=this.getWebSocketConstructor();return new l(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const IS="2.88.0",MS=`realtime-js/${IS}`,Oy="1.0.0",LS="2.0.0",Tm=Oy,pc=1e4,kS=1e3,zS=100;var Yn;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Yn||(Yn={}));var $e;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})($e||($e={}));var Yt;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Yt||(Yt={}));var vc;(function(a){a.websocket="websocket"})(vc||(vc={}));var va;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(va||(va={}));class BS{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,l;const u=(l=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var s,l;const u=(l=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,s,l){var u,h;const f=n.topic,g=(u=n.ref)!==null&&u!==void 0?u:"",m=(h=n.join_ref)!==null&&h!==void 0?h:"",p=n.payload.event,b=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},E=Object.keys(b).length===0?"":JSON.stringify(b);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(E.length>255)throw new Error(`metadata length ${E.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+g.length+f.length+p.length+E.length,A=new ArrayBuffer(this.HEADER_LENGTH+w);let x=new DataView(A),U=0;x.setUint8(U++,this.KINDS.userBroadcastPush),x.setUint8(U++,m.length),x.setUint8(U++,g.length),x.setUint8(U++,f.length),x.setUint8(U++,p.length),x.setUint8(U++,E.length),x.setUint8(U++,s),Array.from(m,k=>x.setUint8(U++,k.charCodeAt(0))),Array.from(g,k=>x.setUint8(U++,k.charCodeAt(0))),Array.from(f,k=>x.setUint8(U++,k.charCodeAt(0))),Array.from(p,k=>x.setUint8(U++,k.charCodeAt(0))),Array.from(E,k=>x.setUint8(U++,k.charCodeAt(0)));var S=new Uint8Array(A.byteLength+l.byteLength);return S.set(new Uint8Array(A),0),S.set(new Uint8Array(l),A.byteLength),S.buffer}decode(n,s){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return s(l)}if(typeof n=="string"){const l=JSON.parse(n),[u,h,f,g,m]=l;return s({join_ref:u,ref:h,topic:f,event:g,payload:m})}return s({})}_binaryDecode(n){const s=new DataView(n),l=s.getUint8(0),u=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,u)}}_decodeUserBroadcast(n,s,l){const u=s.getUint8(1),h=s.getUint8(2),f=s.getUint8(3),g=s.getUint8(4);let m=this.HEADER_LENGTH+4;const p=l.decode(n.slice(m,m+u));m=m+u;const b=l.decode(n.slice(m,m+h));m=m+h;const E=l.decode(n.slice(m,m+f));m=m+f;const w=n.slice(m,n.byteLength),A=g===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,x={type:this.BROADCAST_EVENT,event:b,payload:A};return f>0&&(x.meta=JSON.parse(E)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n==null?void 0:n.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>s.includes(l)))}}class xy{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Ee||(Ee={}));const Am=(a,n,s={})=>{var l;const u=(l=s.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((h,f)=>(h[f]=HS(f,a,n,u),h),{}):{}},HS=(a,n,s,l)=>{const u=n.find(g=>g.name===a),h=u==null?void 0:u.type,f=s[a];return h&&!l.includes(h)?Ny(h,f):_c(f)},Ny=(a,n)=>{if(a.charAt(0)==="_"){const s=a.slice(1,a.length);return VS(n,s)}switch(a){case Ee.bool:return GS(n);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return qS(n);case Ee.json:case Ee.jsonb:return $S(n);case Ee.timestamp:return YS(n);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return _c(n);default:return _c(n)}},_c=a=>a,GS=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},qS=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},$S=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},VS=(a,n)=>{if(typeof a!="string")return a;const s=a.length-1,l=a[s];if(a[0]==="{"&&l==="}"){let h;const f=a.slice(1,s);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(g=>Ny(n,g))}return a},YS=a=>typeof a=="string"?a.replace(" ","T"):a,Ry=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class ec{constructor(n,s,l={},u=pc){this.channel=n,this.event=s,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var l;return this._hasReceived(n)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Om;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Om||(Om={}));class Es{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Es.syncState(this.state,u,h,f),this.pendingDiffs.forEach(m=>{this.state=Es.syncDiff(this.state,m,h,f)}),this.pendingDiffs=[],g()}),this.channel._on(l.diff,{},u=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Es.syncDiff(this.state,u,h,f),g())}),this.onJoin((u,h,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:f})}),this.onLeave((u,h,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,l,u){const h=this.cloneDeep(n),f=this.transformState(s),g={},m={};return this.map(h,(p,b)=>{f[p]||(m[p]=b)}),this.map(f,(p,b)=>{const E=h[p];if(E){const w=b.map(S=>S.presence_ref),A=E.map(S=>S.presence_ref),x=b.filter(S=>A.indexOf(S.presence_ref)<0),U=E.filter(S=>w.indexOf(S.presence_ref)<0);x.length>0&&(g[p]=x),U.length>0&&(m[p]=U)}else g[p]=b}),this.syncDiff(h,{joins:g,leaves:m},l,u)}static syncDiff(n,s,l,u){const{joins:h,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(h,(g,m)=>{var p;const b=(p=n[g])!==null&&p!==void 0?p:[];if(n[g]=this.cloneDeep(m),b.length>0){const E=n[g].map(A=>A.presence_ref),w=b.filter(A=>E.indexOf(A.presence_ref)<0);n[g].unshift(...w)}l(g,b,m)}),this.map(f,(g,m)=>{let p=n[g];if(!p)return;const b=m.map(E=>E.presence_ref);p=p.filter(E=>b.indexOf(E.presence_ref)<0),n[g]=p,u(g,p,m),p.length===0&&delete n[g]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(l=>s(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,l)=>{const u=n[l];return"metas"in u?s[l]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):s[l]=u,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xm;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(xm||(xm={}));var Ss;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Ss||(Ss={}));var yn;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(yn||(yn={}));class _i{constructor(n,s={config:{}},l){var u,h;if(this.topic=n,this.params=s,this.socket=l,this.bindings={},this.state=$e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ec(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new xy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$e.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new Es(this),this.broadcastEndpointURL=Ry(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var l,u,h;if(this.socket.isConnected()||this.socket.connect(),this.state==$e.closed){const{config:{broadcast:f,presence:g,private:m}}=this.params,p=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(A=>A.filter))!==null&&u!==void 0?u:[],b=!!this.bindings[Ss.PRESENCE]&&this.bindings[Ss.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,E={},w={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:b}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(A=>n==null?void 0:n(yn.CHANNEL_ERROR,A)),this._onClose(()=>n==null?void 0:n(yn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},E)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:A})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),A===void 0){n==null||n(yn.SUBSCRIBED);return}else{const U=this.bindings.postgres_changes,S=(x=U==null?void 0:U.length)!==null&&x!==void 0?x:0,k=[];for(let B=0;B<S;B++){const I=U[B],{filter:{event:G,schema:q,table:H,filter:$}}=I,le=A&&A[B];if(le&&le.event===G&&_i.isFilterValueEqual(le.schema,q)&&_i.isFilterValueEqual(le.table,H)&&_i.isFilterValueEqual(le.filter,$))k.push(Object.assign(Object.assign({},I),{id:le.id}));else{this.unsubscribe(),this.state=$e.errored,n==null||n(yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,n&&n(yn.SUBSCRIBED);return}}).receive("error",A=>{this.state=$e.errored,n==null||n(yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,l){return this.state===$e.joined&&n===Ss.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,s,l)}async httpSend(n,s,l={}){var u;if(s==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const p=await g.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(n,s={}){var l,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=n,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=p.body)===null||u===void 0?void 0:u.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,g,m;const p=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&h("ok"),p.receive("ok",()=>h("ok")),p.receive("error",()=>h("error")),p.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=$e.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new ec(this,Yt.leave,{},n),l.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$e.closed,this.bindings={}}async _fetchWithTimeout(n,s,l){const u=new AbortController,h=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(h),f}_push(n,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new ec(this,n,s,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>zS){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,l){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,l){var u,h;const f=n.toLocaleLowerCase(),{close:g,error:m,leave:p,join:b}=Yt;if(l&&[g,m,p,b].indexOf(f)>=0&&l!==this._joinRef())return;let w=this._onMessage(f,s,l);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(A=>{var x,U,S;return((x=A.filter)===null||x===void 0?void 0:x.event)==="*"||((S=(U=A.filter)===null||U===void 0?void 0:U.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===f}).map(A=>A.callback(w,l)):(h=this.bindings[f])===null||h===void 0||h.filter(A=>{var x,U,S,k,B,I;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in A){const G=A.id,q=(x=A.filter)===null||x===void 0?void 0:x.event;return G&&((U=s.ids)===null||U===void 0?void 0:U.includes(G))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((S=s.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const G=(B=(k=A==null?void 0:A.filter)===null||k===void 0?void 0:k.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return G==="*"||G===((I=s==null?void 0:s.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===f}).map(A=>{if(typeof w=="object"&&"ids"in w){const x=w.data,{schema:U,table:S,commit_timestamp:k,type:B,errors:I}=x;w=Object.assign(Object.assign({},{schema:U,table:S,commit_timestamp:k,eventType:B,new:{},old:{},errors:I}),this._getPayloadRecords(x))}A.callback(w,l)})}_isClosed(){return this.state===$e.closed}_isJoined(){return this.state===$e.joined}_isJoining(){return this.state===$e.joining}_isLeaving(){return this.state===$e.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,l){const u=n.toLocaleLowerCase(),h={type:u,filter:s,callback:l};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(n,s){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&_i.isEqual(u.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const l in n)if(n[l]!==s[l])return!1;return!0}static isFilterValueEqual(n,s){return(n??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Yt.close,{},n)}_onError(n){this._on(Yt.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$e.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=Am(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=Am(n.columns,n.old_record)),s}}const tc=()=>{},nl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},KS=[1e3,2e3,5e3,1e4],PS=1e4,JS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XS{constructor(n,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pc,this.transport=null,this.heartbeatIntervalMs=nl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tc,this.ref=0,this.reconnectTimer=null,this.vsn=Tm,this.logger=tc,this.conn=null,this.sendBuffer=[],this.serializer=new BS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...h)=>u(...h):(...h)=>fetch(...h),!(!((l=s==null?void 0:s.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${vc.websocket}`,this.httpEndpoint=Ry(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jS.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,l){this.logger(n,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Yn.connecting:return va.Connecting;case Yn.open:return va.Open;case Yn.closing:return va.Closing;default:return va.Closed}}isConnected(){return this.connectionState()===va.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const l=`realtime:${n}`,u=this.getChannels().find(h=>h.topic===l);if(u)return u;{const h=new _i(`realtime:${n}`,s,this);return this.channels.push(h),h}}push(n){const{topic:s,event:l,payload:u,ref:h}=n,f=()=>{this.encode(n,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${s} ${l} (${h})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(kS,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},nl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:h,ref:f}=s,g=f?`(${f})`:"",m=h.status||"";this.log("receive",`${m} ${l} ${u} ${g}`.trim(),h),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(u,h,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Yn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Yn.open||this.conn.readyState===Yn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Yt.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const l=n.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${n}${l}${u}`}_workerObjectUrl(n){let s;if(n)s=n;else{const l=new Blob([JS],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s,l=!1;if(n)s=n,l=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),s=this.accessTokenValue}else s=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(u=>{const h={access_token:s,version:MS};s&&u.updateJoinPayload(h),u.joinedOnce&&u._isJoined()&&u._push(Yt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(s)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new xy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,l,u,h,f,g,m,p,b,E,w,A;switch(this.transport=(s=n==null?void 0:n.transport)!==null&&s!==void 0?s:null,this.timeout=(l=n==null?void 0:n.timeout)!==null&&l!==void 0?l:pc,this.heartbeatIntervalMs=(u=n==null?void 0:n.heartbeatIntervalMs)!==null&&u!==void 0?u:nl.HEARTBEAT_INTERVAL,this.worker=(h=n==null?void 0:n.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=n==null?void 0:n.heartbeatCallback)!==null&&g!==void 0?g:tc,this.vsn=(m=n==null?void 0:n.vsn)!==null&&m!==void 0?m:Tm,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n==null?void 0:n.reconnectAfterMs)!==null&&p!==void 0?p:(x=>KS[x-1]||PS),this.vsn){case Oy:this.encode=(b=n==null?void 0:n.encode)!==null&&b!==void 0?b:((x,U)=>U(JSON.stringify(x))),this.decode=(E=n==null?void 0:n.decode)!==null&&E!==void 0?E:((x,U)=>U(JSON.parse(x)));break;case LS:this.encode=(w=n==null?void 0:n.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(A=n==null?void 0:n.decode)!==null&&A!==void 0?A:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var ws=class extends Error{constructor(a,n){var s;super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((s=n.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function QS(a,n,s){const l=new URL(n,a);if(s)for(const[u,h]of Object.entries(s))h!==void 0&&l.searchParams.set(u,h);return l.toString()}async function FS(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function ZS(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:s,path:l,query:u,body:h,headers:f}){const g=QS(a.baseUrl,l,u),m=await FS(a.auth),p=await n(g,{method:s,headers:{...h?{"Content-Type":"application/json"}:{},...m,...f},body:h?JSON.stringify(h):void 0}),b=await p.text(),E=(p.headers.get("content-type")||"").includes("application/json"),w=E&&b?JSON.parse(b):b;if(!p.ok){const A=E?w:void 0,x=A==null?void 0:A.error;throw new ws((x==null?void 0:x.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:A})}return{status:p.status,headers:p.headers,data:w}}}}function al(a){return a.join("")}var WS=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:al(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(a,n){const s={namespace:a.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${al(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${al(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${al(a.namespace)}`}),!0}catch(n){if(n instanceof ws&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(s){if(s instanceof ws&&s.status===409)return;throw s}}};function oi(a){return a.join("")}var ew=class{constructor(a,n="",s){this.client=a,this.prefix=n,this.accessDelegation=s}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${oi(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${oi(a.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(a,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${oi(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${oi(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${oi(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${oi(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(s){if(s instanceof ws&&s.status===404)return!1;throw s}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(s){if(s instanceof ws&&s.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw s}}},tw=class{constructor(a){var l;let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const s=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=ZS({baseUrl:s,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=(l=a.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new WS(this.client,n),this.tableOps=new ew(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}},Sl=class extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}};function Re(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var nw=class extends Sl{constructor(a,n,s){super(a),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bc=class extends Sl{constructor(a,n){super(a),this.name="StorageUnknownError",this.originalError=n}};const Uc=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),aw=()=>Response,Ec=a=>{if(Array.isArray(a))return a.map(s=>Ec(s));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([s,l])=>{const u=s.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[u]=Ec(l)}),n},iw=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},sw=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function Ts(a){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ts(a)}function rw(a,n){if(Ts(a)!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var l=s.call(a,n);if(Ts(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function lw(a){var n=rw(a,"string");return Ts(n)=="symbol"?n:n+""}function ow(a,n,s){return(n=lw(n))in a?Object.defineProperty(a,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[n]=s,a}function Nm(a,n){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable})),s.push.apply(s,l)}return s}function F(a){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Nm(Object(s),!0).forEach(function(l){ow(a,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Nm(Object(s)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(s,l))})}return a}const nc=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},uw=async(a,n,s)=>{a instanceof await aw()&&!(s!=null&&s.noResolveJson)?a.json().then(l=>{const u=a.status||500,h=(l==null?void 0:l.statusCode)||u+"";n(new nw(nc(l),u,h))}).catch(l=>{n(new bc(nc(l),l))}):n(new bc(nc(a),a))},cw=(a,n,s,l)=>{const u={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"||!l?u:(iw(l)?(u.headers=F({"Content-Type":"application/json"},n==null?void 0:n.headers),u.body=JSON.stringify(l)):u.body=l,n!=null&&n.duplex&&(u.duplex=n.duplex),F(F({},u),s))};async function Rs(a,n,s,l,u,h){return new Promise((f,g)=>{a(s,cw(n,l,u,h)).then(m=>{if(!m.ok)throw m;return l!=null&&l.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>uw(m,g,l))})}async function As(a,n,s,l){return Rs(a,"GET",n,s,l)}async function Vt(a,n,s,l,u){return Rs(a,"POST",n,l,u,s)}async function Sc(a,n,s,l,u){return Rs(a,"PUT",n,l,u,s)}async function hw(a,n,s,l){return Rs(a,"HEAD",n,F(F({},s),{},{noResolveJson:!0}),l)}async function jc(a,n,s,l,u){return Rs(a,"DELETE",n,l,u,s)}var fw=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n}then(a,n){return this.execute().then(a,n)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}}};let Cy;Cy=Symbol.toStringTag;var dw=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n,this[Cy]="BlobDownloadBuilder",this.promise=null}asStream(){return new fw(this.downloadFn,this.shouldThrowOnError)}then(a,n){return this.getPromise().then(a,n)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}}};const gw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var mw=class{constructor(a,n={},s,l){this.shouldThrowOnError=!1,this.url=a,this.headers=n,this.bucketId=s,this.fetch=Uc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(a,n,s,l){var u=this;try{let h;const f=F(F({},Rm),l);let g=F(F({},u.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),m&&h.append("metadata",u.encodeMetadata(m)),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),m&&!h.has("metadata")&&h.append("metadata",u.encodeMetadata(m))):(h=s,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,m&&(g["x-metadata"]=u.toBase64(u.encodeMetadata(m))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),l!=null&&l.headers&&(g=F(F({},g),l.headers));const p=u._removeEmptyFolders(n),b=u._getFinalPath(p),E=await(a=="PUT"?Sc:Vt)(u.fetch,`${u.url}/object/${b}`,h,F({headers:g},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:E.Id,fullPath:E.Key},error:null}}catch(h){if(u.shouldThrowOnError)throw h;if(Re(h))return{data:null,error:h};throw h}}async upload(a,n,s){return this.uploadOrUpdate("POST",a,n,s)}async uploadToSignedUrl(a,n,s,l){var u=this;const h=u._removeEmptyFolders(a),f=u._getFinalPath(h),g=new URL(u.url+`/object/upload/sign/${f}`);g.searchParams.set("token",n);try{let m;const p=F({upsert:Rm.upsert},l),b=F(F({},u.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",p.cacheControl)):(m=s,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType),{data:{path:h,fullPath:(await Sc(u.fetch,g.toString(),m,{headers:b})).Key},error:null}}catch(m){if(u.shouldThrowOnError)throw m;if(Re(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(a,n){var s=this;try{let l=s._getFinalPath(a);const u=F({},s.headers);n!=null&&n.upsert&&(u["x-upsert"]="true");const h=await Vt(s.fetch,`${s.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(s.url+h.url),g=f.searchParams.get("token");if(!g)throw new Sl("No token returned by API");return{data:{signedUrl:f.toString(),path:a,token:g},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Re(l))return{data:null,error:l};throw l}}async update(a,n,s){return this.uploadOrUpdate("PUT",a,n,s)}async move(a,n,s){var l=this;try{return{data:await Vt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:a,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:l.headers}),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Re(u))return{data:null,error:u};throw u}}async copy(a,n,s){var l=this;try{return{data:{path:(await Vt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:a,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:l.headers})).Key},error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Re(u))return{data:null,error:u};throw u}}async createSignedUrl(a,n,s){var l=this;try{let u=l._getFinalPath(a),h=await Vt(l.fetch,`${l.url}/object/sign/${u}`,F({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:l.headers});const f=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return h={signedUrl:encodeURI(`${l.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Re(u))return{data:null,error:u};throw u}}async createSignedUrls(a,n,s){var l=this;try{const u=await Vt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:a},{headers:l.headers}),h=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:u.map(f=>F(F({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${h}`):null})),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Re(u))return{data:null,error:u};throw u}}download(a,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=l?`?${l}`:"",h=this._getFinalPath(a),f=()=>As(this.fetch,`${this.url}/${s}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new dw(f,this.shouldThrowOnError)}async info(a){var n=this;const s=n._getFinalPath(a);try{return{data:Ec(await As(n.fetch,`${n.url}/object/info/${s}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Re(l))return{data:null,error:l};throw l}}async exists(a){var n=this;const s=n._getFinalPath(a);try{return await hw(n.fetch,`${n.url}/object/${s}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Re(l)&&l instanceof bc){const u=l.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:l}}throw l}}getPublicUrl(a,n){const s=this._getFinalPath(a),l=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&l.push(f);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${g}`)}}}async remove(a){var n=this;try{return{data:await jc(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:a},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}}async list(a,n,s){var l=this;try{const u=F(F(F({},gw),n),{},{prefix:a||""});return{data:await Vt(l.fetch,`${l.url}/object/list/${l.bucketId}`,u,{headers:l.headers},s),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Re(u))return{data:null,error:u};throw u}}async listV2(a,n){var s=this;try{const l=F({},a);return{data:await Vt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,l,{headers:s.headers},n),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Re(l))return{data:null,error:l};throw l}}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const n=[];return a.width&&n.push(`width=${a.width}`),a.height&&n.push(`height=${a.height}`),a.resize&&n.push(`resize=${a.resize}`),a.format&&n.push(`format=${a.format}`),a.quality&&n.push(`quality=${a.quality}`),n.join("&")}};const Dy="2.88.0",Uy={"X-Client-Info":`storage-js/${Dy}`};var yw=class{constructor(a,n={},s,l){this.shouldThrowOnError=!1;const u=new URL(a);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=F(F({},Uy),n),this.fetch=Uc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(a){var n=this;try{const s=n.listBucketOptionsToQueryString(a);return{data:await As(n.fetch,`${n.url}/bucket${s}`,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}}async getBucket(a){var n=this;try{return{data:await As(n.fetch,`${n.url}/bucket/${a}`,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}}async createBucket(a,n={public:!1}){var s=this;try{return{data:await Vt(s.fetch,`${s.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Re(l))return{data:null,error:l};throw l}}async updateBucket(a,n){var s=this;try{return{data:await Sc(s.fetch,`${s.url}/bucket/${a}`,{id:a,name:a,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Re(l))return{data:null,error:l};throw l}}async emptyBucket(a){var n=this;try{return{data:await Vt(n.fetch,`${n.url}/bucket/${a}/empty`,{},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}}async deleteBucket(a){var n=this;try{return{data:await jc(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(a){const n={};return a&&("limit"in a&&(n.limit=String(a.limit)),"offset"in a&&(n.offset=String(a.offset)),a.search&&(n.search=a.search),a.sortColumn&&(n.sortColumn=a.sortColumn),a.sortOrder&&(n.sortOrder=a.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},pw=class{constructor(a,n={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=F(F({},Uy),n),this.fetch=Uc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var n=this;try{return{data:await Vt(n.fetch,`${n.url}/bucket`,{name:a},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}}async listBuckets(a){var n=this;try{const s=new URLSearchParams;(a==null?void 0:a.limit)!==void 0&&s.set("limit",a.limit.toString()),(a==null?void 0:a.offset)!==void 0&&s.set("offset",a.offset.toString()),a!=null&&a.sortColumn&&s.set("sortColumn",a.sortColumn),a!=null&&a.sortOrder&&s.set("sortOrder",a.sortOrder),a!=null&&a.search&&s.set("search",a.search);const l=s.toString(),u=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await As(n.fetch,u,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}}async deleteBucket(a){var n=this;try{return{data:await jc(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}}from(a){var n=this;if(!sw(a))throw new Sl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new tw({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(s,{get(u,h){const f=u[h];return typeof f!="function"?f:async(...g)=>{try{return{data:await f.apply(u,g),error:null}}catch(m){if(l)throw m;return{data:null,error:m}}}}})}};const Ic={"X-Client-Info":`storage-js/${Dy}`,"Content-Type":"application/json"};var jy=class extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ot(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}var ac=class extends jy{constructor(a,n,s){super(a),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vw=class extends jy{constructor(a,n){super(a),this.name="StorageVectorsUnknownError",this.originalError=n}};const Mc=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),_w=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Cm=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),bw=async(a,n,s)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!(s!=null&&s.noResolveJson)){const l=a.status||500,u=a;if(typeof u.json=="function")u.json().then(h=>{const f=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||l+"";n(new ac(Cm(h),l,f))}).catch(()=>{const h=l+"";n(new ac(u.statusText||`HTTP ${l} error`,l,h))});else{const h=l+"";n(new ac(u.statusText||`HTTP ${l} error`,l,h))}}else n(new vw(Cm(a),a))},Ew=(a,n,s,l)=>{const u={method:a,headers:(n==null?void 0:n.headers)||{}};return l?(_w(l)?(u.headers=F({"Content-Type":"application/json"},n==null?void 0:n.headers),u.body=JSON.stringify(l)):u.body=l,F(F({},u),s)):u};async function Sw(a,n,s,l,u,h){return new Promise((f,g)=>{a(s,Ew(n,l,u,h)).then(m=>{if(!m.ok)throw m;if(l!=null&&l.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>f(m)).catch(m=>bw(m,g,l))})}async function xt(a,n,s,l,u){return Sw(a,"POST",n,l,u,s)}var ww=class{constructor(a,n={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=F(F({},Ic),n),this.fetch=Mc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(a){var n=this;try{return{data:await xt(n.fetch,`${n.url}/CreateIndex`,a,{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async getIndex(a,n){var s=this;try{return{data:await xt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:a,indexName:n},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}}async listIndexes(a){var n=this;try{return{data:await xt(n.fetch,`${n.url}/ListIndexes`,a,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async deleteIndex(a,n){var s=this;try{return{data:await xt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:a,indexName:n},{headers:s.headers})||{},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}}},Tw=class{constructor(a,n={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=F(F({},Ic),n),this.fetch=Mc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(a){var n=this;try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await xt(n.fetch,`${n.url}/PutVectors`,a,{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async getVectors(a){var n=this;try{return{data:await xt(n.fetch,`${n.url}/GetVectors`,a,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async listVectors(a){var n=this;try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:await xt(n.fetch,`${n.url}/ListVectors`,a,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async queryVectors(a){var n=this;try{return{data:await xt(n.fetch,`${n.url}/QueryVectors`,a,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async deleteVectors(a){var n=this;try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await xt(n.fetch,`${n.url}/DeleteVectors`,a,{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}},Aw=class{constructor(a,n={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=F(F({},Ic),n),this.fetch=Mc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var n=this;try{return{data:await xt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async getBucket(a){var n=this;try{return{data:await xt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:a},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async listBuckets(a={}){var n=this;try{return{data:await xt(n.fetch,`${n.url}/ListVectorBuckets`,a,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}async deleteBucket(a){var n=this;try{return{data:await xt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}}},Ow=class extends Aw{constructor(a,n={}){super(a,n.headers||{},n.fetch)}from(a){return new xw(this.url,this.headers,a,this.fetch)}async createBucket(a){var n=()=>super.createBucket,s=this;return n().call(s,a)}async getBucket(a){var n=()=>super.getBucket,s=this;return n().call(s,a)}async listBuckets(a={}){var n=()=>super.listBuckets,s=this;return n().call(s,a)}async deleteBucket(a){var n=()=>super.deleteBucket,s=this;return n().call(s,a)}},xw=class extends ww{constructor(a,n,s,l){super(a,n,l),this.vectorBucketName=s}async createIndex(a){var n=()=>super.createIndex,s=this;return n().call(s,F(F({},a),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(a={}){var n=()=>super.listIndexes,s=this;return n().call(s,F(F({},a),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(a){var n=()=>super.getIndex,s=this;return n().call(s,s.vectorBucketName,a)}async deleteIndex(a){var n=()=>super.deleteIndex,s=this;return n().call(s,s.vectorBucketName,a)}index(a){return new Nw(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},Nw=class extends Tw{constructor(a,n,s,l,u){super(a,n,u),this.vectorBucketName=s,this.indexName=l}async putVectors(a){var n=()=>super.putVectors,s=this;return n().call(s,F(F({},a),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(a){var n=()=>super.getVectors,s=this;return n().call(s,F(F({},a),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(a={}){var n=()=>super.listVectors,s=this;return n().call(s,F(F({},a),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(a){var n=()=>super.queryVectors,s=this;return n().call(s,F(F({},a),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(a){var n=()=>super.deleteVectors,s=this;return n().call(s,F(F({},a),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Rw=class extends yw{constructor(a,n={},s,l){super(a,n,s,l)}from(a){return new mw(this.url,this.headers,a,this.fetch)}get vectors(){return new Ow(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pw(this.url+"/iceberg",this.headers,this.fetch)}};const Iy="2.88.0",yi=30*1e3,wc=3,ic=wc*yi,Cw="http://localhost:9999",Dw="supabase.auth.token",Uw={"X-Client-Info":`gotrue-js/${Iy}`},Tc="X-Supabase-Api-Version",My={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Iw=600*1e3;class Os extends Error{constructor(n,s,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function P(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class Mw extends Os{constructor(n,s,l){super(n,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function Lw(a){return P(a)&&a.name==="AuthApiError"}class _a extends Os{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class vn extends Os{constructor(n,s,l,u){super(n,l,u),this.name=s,this.status=l}}class At extends vn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kw(a){return P(a)&&a.name==="AuthSessionMissingError"}class ui extends vn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class il extends vn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class sl extends vn{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zw(a){return P(a)&&a.name==="AuthImplicitGrantRedirectError"}class Dm extends vn{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bw extends vn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ac extends vn{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function sc(a){return P(a)&&a.name==="AuthRetryableFetchError"}class Um extends vn{constructor(n,s,l){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class Oc extends vn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const gl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jm=` 	
\r=`.split(""),Hw=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<jm.length;n+=1)a[jm[n].charCodeAt(0)]=-2;for(let n=0;n<gl.length;n+=1)a[gl[n].charCodeAt(0)]=n;return a})();function Im(a,n,s){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(gl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(gl[l]),n.queuedBits-=6}}function Ly(a,n,s){const l=Hw[a];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Mm(a){const n=[],s=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=f=>{$w(f,l,s)};for(let f=0;f<a.length;f+=1)Ly(a.charCodeAt(f),u,h);return n.join("")}function Gw(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function qw(a,n){for(let s=0;s<a.length;s+=1){let l=a.charCodeAt(s);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(a.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}Gw(l,n)}}function $w(a,n,s){if(n.utf8seq===0){if(a<=127){s(a);return}for(let l=1;l<6;l+=1)if((a>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Ei(a){const n=[],s={queue:0,queuedBits:0},l=u=>{n.push(u)};for(let u=0;u<a.length;u+=1)Ly(a.charCodeAt(u),s,l);return new Uint8Array(n)}function Vw(a){const n=[];return qw(a,s=>n.push(s)),new Uint8Array(n)}function ba(a){const n=[],s={queue:0,queuedBits:0},l=u=>{n.push(u)};return a.forEach(u=>Im(u,s,l)),Im(null,s,l),n.join("")}function Yw(a){return Math.round(Date.now()/1e3)+a}function Kw(){return Symbol("auth-callback")}const We=()=>typeof window<"u"&&typeof document<"u",ga={tested:!1,writable:!1},ky=()=>{if(!We())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ga.tested)return ga.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),ga.tested=!0,ga.writable=!0}catch{ga.tested=!0,ga.writable=!1}return ga.writable};function Pw(a){const n={},s=new URL(a);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,h)=>{n[h]=u})}catch{}return s.searchParams.forEach((l,u)=>{n[u]=l}),n}const zy=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),Jw=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",pi=async(a,n,s)=>{await a.setItem(n,JSON.stringify(s))},ma=async(a,n)=>{const s=await a.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ze=async(a,n)=>{await a.removeItem(n)};class wl{constructor(){this.promise=new wl.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}wl.promiseConstructor=Promise;function rc(a){const n=a.split(".");if(n.length!==3)throw new Oc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!jw.test(n[l]))throw new Oc("JWT not in base64url format");return{header:JSON.parse(Mm(n[0])),payload:JSON.parse(Mm(n[1])),signature:Ei(n[2]),raw:{header:n[0],payload:n[1]}}}async function Xw(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function Qw(a,n){return new Promise((l,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await a(h);if(!n(h,null,f)){l(f);return}}catch(f){if(!n(h,f)){u(f);return}}})()})}function Fw(a){return("0"+a.toString(16)).substr(-2)}function Zw(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let u="";for(let h=0;h<56;h++)u+=s.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(n),Array.from(n,Fw).join("")}async function Ww(a){const s=new TextEncoder().encode(a),l=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(l);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function eT(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const s=await Ww(a);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ci(a,n,s=!1){const l=Zw();let u=l;s&&(u+="/PASSWORD_RECOVERY"),await pi(a,`${n}-code-verifier`,u);const h=await eT(l);return[h,l===h?"plain":"s256"]}const tT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nT(a){const n=a.headers.get(Tc);if(!n||!n.match(tT))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function aT(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function iT(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hi(a){if(!sT.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lc(){const a={};return new Proxy(a,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rT(a,n){return new Proxy(a,{get:(s,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const h=l.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,l,u)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,l,u)}})}function Lm(a){return JSON.parse(JSON.stringify(a))}const pa=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),lT=[502,503,504];async function km(a){var n;if(!Jw(a))throw new Ac(pa(a),0);if(lT.includes(a.status))throw new Ac(pa(a),a.status);let s;try{s=await a.json()}catch(h){throw new _a(pa(h),h)}let l;const u=nT(a);if(u&&u.getTime()>=My["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new Um(pa(s),a.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new At}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new Um(pa(s),a.status,s.weak_password.reasons);throw new Mw(pa(s),a.status||500,l)}const oT=(a,n,s,l)=>{const u={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),s))};async function Q(a,n,s,l){var u;const h=Object.assign({},l==null?void 0:l.headers);h[Tc]||(h[Tc]=My["2024-01-01"].name),l!=null&&l.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const f=(u=l==null?void 0:l.query)!==null&&u!==void 0?u:{};l!=null&&l.redirectTo&&(f.redirect_to=l.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await uT(a,n,s+g,{headers:h,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(m):{data:Object.assign({},m),error:null}}async function uT(a,n,s,l,u,h){const f=oT(n,l,u,h);let g;try{g=await a(s,Object.assign({},f))}catch(m){throw console.error(m),new Ac(pa(m),0)}if(g.ok||await km(g),l!=null&&l.noResolveJson)return g;try{return await g.json()}catch(m){await km(m)}}function $t(a){var n;let s=null;fT(a)&&(s=Object.assign({},a),a.expires_at||(s.expires_at=Yw(a.expires_in)));const l=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:s,user:l},error:null}}function zm(a){const n=$t(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(n.data.weak_password=a.weak_password),n}function Kn(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function cT(a){return{data:a,error:null}}function hT(a){const{action_link:n,email_otp:s,hashed_token:l,redirect_to:u,verification_type:h}=a,f=El(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:s,hashed_token:l,redirect_to:u,verification_type:h},m=Object.assign({},f);return{data:{properties:g,user:m},error:null}}function Bm(a){return a}function fT(a){return a.access_token&&a.refresh_token&&a.expires_in}const oc=["global","local","others"];class dT{constructor({url:n="",headers:s={},fetch:l}){this.url=n,this.headers=s,this.fetch=zy(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=oc[0]){if(oc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${oc.join(", ")}`);try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(P(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,s={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Kn})}catch(l){if(P(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:s}=n,l=El(n,["options"]),u=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(u.new_email=l==null?void 0:l.newEmail,delete u.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:hT,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(P(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Kn})}catch(s){if(P(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,l,u,h,f,g,m;try{const p={nextPage:null,lastPage:0,total:0},b=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=n==null?void 0:n.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:Bm});if(b.error)throw b.error;const E=await b.json(),w=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,A=(m=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return A.length>0&&(A.forEach(x=>{const U=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);p[`${S}Page`]=U}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},E),p),error:null}}catch(p){if(P(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){hi(n);try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Kn})}catch(s){if(P(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){hi(n);try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:Kn})}catch(l){if(P(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,s=!1){hi(n);try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:Kn})}catch(l){if(P(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){hi(n.userId);try{const{data:s,error:l}=await Q(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:l}}catch(s){if(P(s))return{data:null,error:s};throw s}}async _deleteFactor(n){hi(n.userId),hi(n.id);try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(P(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,l,u,h,f,g,m;try{const p={nextPage:null,lastPage:0,total:0},b=await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=n==null?void 0:n.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:Bm});if(b.error)throw b.error;const E=await b.json(),w=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,A=(m=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return A.length>0&&(A.forEach(x=>{const U=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);p[`${S}Page`]=U}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},E),p),error:null}}catch(p){if(P(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(P(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(P(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await Q(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(P(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(P(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(P(s))return{data:null,error:s};throw s}}}function Hm(a={}){return{getItem:n=>a[n]||null,setItem:(n,s)=>{a[n]=s},removeItem:n=>{delete a[n]}}}const fi={debug:!!(globalThis&&ky()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class By extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class gT extends By{}async function mT(a,n,s){fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),fi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,u.name);try{return await s()}finally{fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,u.name)}}else{if(n===0)throw fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new gT(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(fi.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function yT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Hy(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function pT(a){return parseInt(a,16)}function vT(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function _T(a){var n;const{chainId:s,domain:l,expirationTime:u,issuedAt:h=new Date,nonce:f,notBefore:g,requestId:m,resources:p,scheme:b,uri:E,version:w}=a;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const A=Hy(a.address),x=b?`${b}://${l}`:l,U=a.statement?`${a.statement}
`:"",S=`${x} wants you to sign in with your Ethereum account:
${A}

${U}`;let k=`URI: ${E}
Version: ${w}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(u&&(k+=`
Expiration Time: ${u.toISOString()}`),g&&(k+=`
Not Before: ${g.toISOString()}`),m&&(k+=`
Request ID: ${m}`),p){let B=`
Resources:`;for(const I of p){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);B+=`
- ${I}`}k+=B}return`${S}
${k}`}class He extends Error{constructor({message:n,code:s,cause:l,name:u}){var h;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(h=u??(l instanceof Error?l.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=s}}class ml extends He{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function bT({error:a,options:n}){var s,l,u;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new He({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((s=h.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new He({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((l=h.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new He({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((u=h.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new He({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new He({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new He({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return h.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new He({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new He({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const f=window.location.hostname;if(Gy(f)){if(h.rp.id!==f)return new He({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new He({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new He({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new He({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new He({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function ET({error:a,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new He({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new He({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const l=window.location.hostname;if(Gy(l)){if(s.rpId!==l)return new He({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new He({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new He({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new He({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class ST{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const wT=new ST;function TT(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:s,excludeCredentials:l}=a,u=El(a,["challenge","user","excludeCredentials"]),h=Ei(n).buffer,f=Object.assign(Object.assign({},s),{id:Ei(s.id).buffer}),g=Object.assign(Object.assign({},u),{challenge:h,user:f});if(l&&l.length>0){g.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const p=l[m];g.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:Ei(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return g}function AT(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:s}=a,l=El(a,["challenge","allowCredentials"]),u=Ei(n).buffer,h=Object.assign(Object.assign({},l),{challenge:u});if(s&&s.length>0){h.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const g=s[f];h.allowCredentials[f]=Object.assign(Object.assign({},g),{id:Ei(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function OT(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const s=a;return{id:a.id,rawId:a.id,response:{attestationObject:ba(new Uint8Array(a.response.attestationObject)),clientDataJSON:ba(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function xT(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const s=a,l=a.getClientExtensionResults(),u=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:ba(new Uint8Array(u.authenticatorData)),clientDataJSON:ba(new Uint8Array(u.clientDataJSON)),signature:ba(new Uint8Array(u.signature)),userHandle:u.userHandle?ba(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Gy(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function Gm(){var a,n;return!!(We()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function NT(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ml("Browser returned unexpected credential type",n)}:{data:null,error:new ml("Empty credential response",n)}}catch(n){return{data:null,error:bT({error:n,options:a})}}}async function RT(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ml("Browser returned unexpected credential type",n)}:{data:null,error:new ml("Empty credential response",n)}}catch(n){return{data:null,error:ET({error:n,options:a})}}}const CT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},DT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yl(...a){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of a)if(u)for(const h in u){const f=u[h];if(f!==void 0)if(Array.isArray(f))l[h]=f;else if(s(f))l[h]=f;else if(n(f)){const g=l[h];n(g)?l[h]=yl(g,f):l[h]=yl(f)}else l[h]=f}return l}function UT(a,n){return yl(CT,a,n||{})}function jT(a,n){return yl(DT,a,n||{})}class IT{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:l,signal:u},h){try{const{data:f,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!f)return{data:null,error:g};const m=u??wT.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:p}=f.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${l}`),p.displayName||(p.displayName=p.name)}switch(f.webauthn.type){case"create":{const p=UT(f.webauthn.credential_options.publicKey,h==null?void 0:h.create),{data:b,error:E}=await NT({publicKey:p,signal:m});return b?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:E}}case"request":{const p=jT(f.webauthn.credential_options.publicKey,h==null?void 0:h.request),{data:b,error:E}=await RT(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:p,signal:m}));return b?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:E}}}}catch(f){return P(f)?{data:null,error:f}:{data:null,error:new _a("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:s,webauthn:l}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!s)return{data:null,error:new Os("rpId is required for WebAuthn authentication")};try{if(!Gm())return{data:null,error:new _a("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:l},signal:u},{request:h});if(!f)return{data:null,error:g};const{webauthn:m}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:l,credential_response:m.credential_response}})}catch(f){return P(f)?{data:null,error:f}:{data:null,error:new _a("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!s)return{data:null,error:new Os("rpId is required for WebAuthn registration")};try{if(!Gm())return{data:null,error:new _a("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(b=>{var E;return(E=b.data)===null||E===void 0?void 0:E.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:g};const{data:m,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:l},signal:u},{create:h});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(f){return P(f)?{data:null,error:f}:{data:null,error:new _a("Unexpected error in register",f)}}}}yT();const MT={url:Cw,storageKey:Dw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Uw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function qm(a,n,s){return await s()}const di={};class xs{get jwks(){var n,s;return(s=(n=di[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){di[this.storageKey]=Object.assign(Object.assign({},di[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=di[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){di[this.storageKey]=Object.assign(Object.assign({},di[this.storageKey]),{cachedAt:n})}constructor(n){var s,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},MT),n);if(this.storageKey=h.storageKey,this.instanceID=(s=xs.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,xs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&We()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new dT({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=zy(h.fetch),this.lock=h.lock||qm,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,h.lock?this.lock=h.lock:this.persistSession&&We()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=mT:this.lock=qm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new IT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:ky()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hm(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=Hm(this.memoryStorage)),We()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Iy}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},l="none";if(We()&&(s=Pw(window.location.href),this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce")),We()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:h}=await this._getSessionFromURL(s,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),zw(h)){const m=(n=h.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:f,redirectType:g}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return P(s)?this._returnResult({error:s}):this._returnResult({error:new _a("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,l,u;try{const h=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=n==null?void 0:n.options)===null||u===void 0?void 0:u.captchaToken}},xform:$t}),{data:f,error:g}=h;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const m=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(h){if(P(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var s,l,u;try{let h;if("email"in n){const{email:b,password:E,options:w}=n;let A=null,x=null;this.flowType==="pkce"&&([A,x]=await ci(this.storage,this.storageKey)),h=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:b,password:E,data:(s=w==null?void 0:w.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:A,code_challenge_method:x},xform:$t})}else if("phone"in n){const{phone:b,password:E,options:w}=n;h=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:E,data:(l=w==null?void 0:w.data)!==null&&l!==void 0?l:{},channel:(u=w==null?void 0:w.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:$t})}else throw new il("You must provide either an email or phone number and a password");const{data:f,error:g}=h;if(g||!f)return await Ze(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const m=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(h){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),P(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let s;if("email"in n){const{email:h,password:f,options:g}=n;s=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:zm})}else if("phone"in n){const{phone:h,password:f,options:g}=n;s=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:zm})}else throw new il("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new ui;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,l,u,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,l,u,h,f,g,m,p,b,E,w;let A,x;if("message"in n)A=n.message,x=n.signature;else{const{chain:U,wallet:S,statement:k,options:B}=n;let I;if(We())if(typeof S=="object")I=S;else{const he=window;if("ethereum"in he&&typeof he.ethereum=="object"&&"request"in he.ethereum&&typeof he.ethereum.request=="function")I=he.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=S}const G=new URL((s=B==null?void 0:B.url)!==null&&s!==void 0?s:window.location.href),q=await I.request({method:"eth_requestAccounts"}).then(he=>he).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=Hy(q[0]);let $=(l=B==null?void 0:B.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!$){const he=await I.request({method:"eth_chainId"});$=pT(he)}const le={domain:G.host,address:H,statement:k,uri:G.href,version:"1",chainId:$,nonce:(u=B==null?void 0:B.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(h=B==null?void 0:B.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=B==null?void 0:B.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=B==null?void 0:B.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=B==null?void 0:B.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(b=B==null?void 0:B.signInWithEthereum)===null||b===void 0?void 0:b.resources};A=_T(le),x=await I.request({method:"personal_sign",params:[vT(A),H]})}try{const{data:U,error:S}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:x},!((E=n.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:$t});if(S)throw S;if(!U||!U.session||!U.user){const k=new ui;return this._returnResult({data:{user:null,session:null},error:k})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:S})}catch(U){if(P(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async signInWithSolana(n){var s,l,u,h,f,g,m,p,b,E,w,A;let x,U;if("message"in n)x=n.message,U=n.signature;else{const{chain:S,wallet:k,statement:B,options:I}=n;let G;if(We())if(typeof k=="object")G=k;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))G=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=k}const q=new URL((s=I==null?void 0:I.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in G&&G.signIn){const H=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),B?{statement:B}:null));let $;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")$=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)$=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)x=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),U=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${q.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(u=(l=I==null?void 0:I.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=I==null?void 0:I.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((g=I==null?void 0:I.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((m=I==null?void 0:I.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((p=I==null?void 0:I.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((E=(b=I==null?void 0:I.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||E===void 0)&&E.length?["Resources",...I.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const H=await G.signMessage(new TextEncoder().encode(x),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");U=H}}try{const{data:S,error:k}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ba(U)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(A=n.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:$t});if(k)throw k;if(!S||!S.session||!S.user){const B=new ui;return this._returnResult({data:{user:null,session:null},error:B})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:k})}catch(S){if(P(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(n){const s=await ma(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(s??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Bw;const{data:h,error:f}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:$t});if(await Ze(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const g=new ui;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:f})}catch(h){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),P(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:s,provider:l,token:u,access_token:h,nonce:f}=n,g=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$t}),{data:m,error:p}=g;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const b=new ui;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,l,u,h,f;try{if("email"in n){const{email:g,options:m}=n;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await ci(this.storage,this.storageKey));const{error:E}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(l=m==null?void 0:m.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:E})}if("phone"in n){const{phone:g,options:m}=n,{data:p,error:b}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(u=m==null?void 0:m.data)!==null&&u!==void 0?u:{},create_user:(h=m==null?void 0:m.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(f=m==null?void 0:m.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:b})}throw new il("You must provide either an email or phone number.")}catch(g){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),P(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(n){var s,l;try{let u,h;"options"in n&&(u=(s=n.options)===null||s===void 0?void 0:s.redirectTo,h=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:g}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:$t});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,p=f.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(P(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var s,l,u,h,f;try{let g=null,m=null;this.flowType==="pkce"&&([g,m]=await ci(this.storage,this.storageKey));const p=await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=n==null?void 0:n.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:m}),headers:this.headers,xform:cT});return!((h=p.data)===null||h===void 0)&&h.url&&We()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(g){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),P(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;if(l)throw l;if(!s)throw new At;const{error:u}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(P(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:l,type:u,options:h}=n,{error:f}=await Q(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:u,options:h}=n,{data:f,error:g}=await Q(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g})}throw new il("You must provide either an email or phone number and a type")}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<ic:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await ma(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=lc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=rT(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Kn}):await this._useSession(async s=>{var l,u,h;const{data:f,error:g}=s;if(g)throw g;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:Kn})})}catch(s){if(P(s))return kw(s)&&(await this._removeSession(),await Ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async l=>{const{data:u,error:h}=l;if(h)throw h;if(!u.session)throw new At;const f=u.session;let g=null,m=null;this.flowType==="pkce"&&n.email!=null&&([g,m]=await ci(this.storage,this.storageKey));const{data:p,error:b}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:m}),jwt:f.access_token,xform:Kn});if(b)throw b;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),P(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new At;const s=Date.now()/1e3;let l=s,u=!0,h=null;const{payload:f}=rc(n.access_token);if(f.exp&&(l=f.exp,u=l<=s),u){const{data:g,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};h=g}else{const{data:g,error:m}=await this._getUser(n.access_token);if(m)throw m;h={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(s){if(P(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var l;if(!n){const{data:f,error:g}=s;if(g)throw g;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!(n!=null&&n.refresh_token))throw new At;const{data:u,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!We())throw new sl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new sl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Dm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Dm("No code detected.");const{data:B,error:I}=await this._exchangeCodeForSession(n.code);if(I)throw I;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:h,refresh_token:f,expires_in:g,expires_at:m,token_type:p}=n;if(!h||!g||!f||!p)throw new sl("No session defined in URL");const b=Math.round(Date.now()/1e3),E=parseInt(g);let w=b+E;m&&(w=parseInt(m));const A=w-b;A*1e3<=yi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${E}s`);const x=w-E;b-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,w,b):b-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,w,b);const{data:U,error:S}=await this._getUser(h);if(S)throw S;const k={provider_token:l,provider_refresh_token:u,access_token:h,expires_in:E,expires_at:w,refresh_token:f,token_type:p,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:n.type},error:null})}catch(l){if(P(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await ma(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:u,error:h}=s;if(h)return this._returnResult({error:h});const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:g}=await this.admin.signOut(f,n);if(g&&!(Lw(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return n!=="others"&&(await this._removeSession(),await Ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=Kw(),l={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async s=>{var l,u;try{const{data:{session:h},error:f}=s;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,s={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await ci(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(h){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),P(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:l,error:u}=await this._useSession(async h=>{var f,g,m,p,b;const{data:E,error:w}=h;if(w)throw w;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",A,{headers:this.headers,jwt:(b=(p=E.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(u)throw u;return We()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:n.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(P(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var l;try{const{error:u,data:{session:h}}=s;if(u)throw u;const{options:f,provider:g,token:m,access_token:p,nonce:b}=n,E=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=h==null?void 0:h.access_token)!==null&&l!==void 0?l:void 0,body:{provider:g,id_token:m,access_token:p,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$t}),{data:w,error:A}=E;return A?this._returnResult({data:{user:null,session:null},error:A}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new ui}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:A}))}catch(u){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),P(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var l,u;const{data:h,error:f}=s;if(f)throw f;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await Qw(async u=>(u>0&&await Xw(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:$t})),(u,h)=>{const f=200*Math.pow(2,u);return h&&sc(h)&&Date.now()+f-l<yi})}catch(l){if(this._debug(s,"error",l),P(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",l),We()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await ma(this.storage,this.storageKey);if(u&&this.userStorage){let f=await ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await pi(this.userStorage,this.storageKey+"-user",f)),u.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:lc()}else if(u&&!u.user&&!u.user){const f=await ma(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(u.user=f.user,await Ze(this.storage,this.storageKey+"-user"),await pi(this.storage,this.storageKey,u)):u.user=lc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const h=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ic;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${ic}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),sc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(u.access_token);!g&&(f!=null&&f.user)?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var s,l;if(!n)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new wl;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new At;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const g={data:h.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(h){if(this._debug(u,"error",h),P(h)){const f={data:null,error:h};return sc(h)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,s,l=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:s});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,s)}catch(m){h.push(m)}});if(await Promise.all(f),h.length>0){for(let g=0;g<h.length;g+=1)console.error(h[g]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Ze(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await pi(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const h=Lm(u);await pi(this.storage,this.storageKey,h)}else{const u=Lm(s);await pi(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ze(this.storage,this.storageKey),await Ze(this.storage,this.storageKey+"-code-verifier"),await Ze(this.storage,this.storageKey+"-user"),this.userStorage&&await Ze(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&We()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),yi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-n)/yi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${yi}ms, refresh threshold is ${wc} ticks`),u<=wc&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof By)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!We()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,l){const u=[`provider=${encodeURIComponent(s)}`];if(l!=null&&l.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,f]=await ci(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(g.toString())}if(l!=null&&l.queryParams){const h=new URLSearchParams(l.queryParams);u.push(h.toString())}return l!=null&&l.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var l;const{data:u,error:h}=s;return h?this._returnResult({data:null,error:h}):await Q(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var l,u;const{data:h,error:f}=s;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:p}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(l=h==null?void 0:h.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&m.type==="totp"&&(!((u=m==null?void 0:m.totp)===null||u===void 0)&&u.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:h}=s;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?OT(n.webauthn.credential_response):xT(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:m}=await Q(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:h}=s;if(h)return this._returnResult({data:null,error:h});const f=await Q(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:TT(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:AT(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=s==null?void 0:s.factors)!==null&&n!==void 0?n:[])u.all.push(h),h.status==="verified"&&u[h.factor_type].push(h);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var n,s;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=rc(l.access_token);let f=null;h.aal&&(f=h.aal);let g=f;((s=(n=l.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(g="aal2");const p=h.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;return u?this._returnResult({data:null,error:u}):l?await Q(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new At})})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async l=>{const{data:{session:u},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new At});const f=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&We()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(l){if(P(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,s){try{return await this._useSession(async l=>{const{data:{session:u},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new At});const f=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&We()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(l){if(P(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;return l?this._returnResult({data:null,error:l}):s?await Q(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new At})})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;return u?this._returnResult({data:null,error:u}):l?(await Q(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new At})})}catch(s){if(P(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let l=s.keys.find(g=>g.kid===n);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(g=>g.kid===n),l&&this.jwks_cached_at+Iw>u)return l;const{data:h,error:f}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,l=h.keys.find(g=>g.kid===n),!l)?null:l}async getClaims(n,s={}){try{let l=n;if(!l){const{data:A,error:x}=await this.getSession();if(x||!A.session)return this._returnResult({data:null,error:x});l=A.session.access_token}const{header:u,payload:h,signature:f,raw:{header:g,payload:m}}=rc(l);s!=null&&s.allowExpired||aT(h.exp);const p=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!p){const{error:A}=await this.getUser(l);if(A)throw A;return{data:{claims:h,header:u,signature:f},error:null}}const b=iT(u.alg),E=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,E,f,Vw(`${g}.${m}`)))throw new Oc("Invalid JWT signature");return{data:{claims:h,header:u,signature:f},error:null}}catch(l){if(P(l))return this._returnResult({data:null,error:l});throw l}}}xs.nextInstanceID={};const LT=xs,kT="2.88.0";let _s="";typeof Deno<"u"?_s="deno":typeof document<"u"?_s="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_s="react-native":_s="node";const zT={"X-Client-Info":`supabase-js-${_s}/${kT}`},BT={headers:zT},HT={schema:"public"},GT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qT={};function Ns(a){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ns(a)}function $T(a,n){if(Ns(a)!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var l=s.call(a,n);if(Ns(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function VT(a){var n=$T(a,"string");return Ns(n)=="symbol"?n:n+""}function YT(a,n,s){return(n=VT(n))in a?Object.defineProperty(a,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[n]=s,a}function $m(a,n){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable})),s.push.apply(s,l)}return s}function je(a){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?$m(Object(s),!0).forEach(function(l){YT(a,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):$m(Object(s)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(s,l))})}return a}const KT=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),PT=()=>Headers,JT=(a,n,s)=>{const l=KT(s),u=PT();return async(h,f)=>{var g;const m=(g=await n())!==null&&g!==void 0?g:a;let p=new u(f==null?void 0:f.headers);return p.has("apikey")||p.set("apikey",a),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),l(h,je(je({},f),{},{headers:p}))}};function XT(a){return a.endsWith("/")?a:a+"/"}function QT(a,n){var s,l;const{db:u,auth:h,realtime:f,global:g}=a,{db:m,auth:p,realtime:b,global:E}=n,w={db:je(je({},m),u),auth:je(je({},p),h),realtime:je(je({},b),f),storage:{},global:je(je(je({},E),g),{},{headers:je(je({},(s=E==null?void 0:E.headers)!==null&&s!==void 0?s:{}),(l=g==null?void 0:g.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return a.accessToken?w.accessToken=a.accessToken:delete w.accessToken,w}function FT(a){const n=a==null?void 0:a.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(XT(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ZT=class extends LT{constructor(a){super(a)}},WT=class{constructor(a,n,s){var l,u;this.supabaseUrl=a,this.supabaseKey=n;const h=FT(a);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:HT,realtime:qT,auth:je(je({},GT),{},{storageKey:f}),global:BT},m=QT(s??{},g);if(this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(b,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=m.auth)!==null&&p!==void 0?p:{},this.headers,m.global.fetch)}this.fetch=JT(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(je({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new US(new URL("rest/v1",h).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Rw(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new xS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,n,s)}channel(a,n={config:{}}){return this.realtime.channel(a,n)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,n,s;if(a.accessToken)return await a.accessToken();const{data:l}=await a.auth.getSession();return(n=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:n,detectSessionInUrl:s,storage:l,userStorage:u,storageKey:h,flowType:f,lock:g,debug:m,throwOnError:p},b,E){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZT({url:this.authUrl.href,headers:je(je({},w),b),storageKey:h,autoRefreshToken:a,persistSession:n,detectSessionInUrl:s,storage:l,userStorage:u,flowType:f,lock:g,debug:m,throwOnError:p,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new XS(this.realtimeUrl.href,je(je({},a),{},{params:je(je({},{apikey:this.supabaseKey}),a==null?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(a,n,s){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const e1=(a,n,s)=>new WT(a,n,s);function t1(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const n=a.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}t1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const n1="https://akfwdhsurglinczfzwqx.supabase.co",a1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFrZndkaHN1cmdsaW5jemZ6d3F4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwMjM2NDUsImV4cCI6MjA4MTU5OTY0NX0.k3Dj3YDVYGhcR9e24A7U3C532UQpK50ZBpRIfYlEsOw",rl=e1(n1,a1),Vm={async fetchSamples(){if(!rl){const s=localStorage.getItem("aquaguard_data");return s?JSON.parse(s):[]}const{data:a,error:n}=await rl.from("water_samples").select("*").order("timestamp",{ascending:!1});if(n)throw console.error("Error fetching samples:",n),n;return a.map(s=>{const l=new Date(s.timestamp).getTime();return{id:s.id,samplerId:s.sampler_id,timestamp:l,location:{lat:s.lat,lng:s.lng,accuracy:s.accuracy,address:s.address,timestamp:l},metrics:{chlorine:s.chlorine,ec:s.ec,ph:s.ph,turbidity:s.turbidity},notes:s.notes}})},async saveSample(a){if(!rl){const s=localStorage.getItem("aquaguard_data"),l=s?JSON.parse(s):[];l.push(a),localStorage.setItem("aquaguard_data",JSON.stringify(l));return}const{error:n}=await rl.from("water_samples").insert({id:a.id,sampler_id:a.samplerId,timestamp:new Date(a.timestamp).toISOString(),lat:a.location.lat,lng:a.location.lng,accuracy:a.location.accuracy,address:a.location.address,chlorine:a.metrics.chlorine,ec:a.metrics.ec,ph:a.metrics.ph,turbidity:a.metrics.turbidity,notes:a.notes});if(n)throw console.error("Error saving sample:",n),n}},i1=()=>{const[a,n]=W.useState("entry"),[s,l]=W.useState([]),[u,h]=W.useState(!0),[f,g]=W.useState(!1),[m,p]=W.useState(()=>sessionStorage.getItem("isAuth")==="true"),[b,E]=W.useState(!1),[w,A]=W.useState(null),[x,U]=W.useState(""),[S,k]=W.useState(!1),B=W.useCallback(async()=>{h(!0);try{const H=await Vm.fetchSamples();l(H)}catch(H){console.error("Failed to load data",H)}finally{h(!1)}},[]);W.useEffect(()=>{B()},[B]);const I=async H=>{g(!0);try{await Vm.saveSample(H),l($=>[H,...$])}catch{alert("   .    .")}finally{g(!1)}},G=H=>{if((H==="analytics"||H==="list")&&!m){A(H),E(!0);return}n(H)},q=H=>{H.preventDefault(),x==="abfa.100"?(p(!0),sessionStorage.setItem("isAuth","true"),E(!1),w&&(n(w),A(null)),k(!1),U("")):(k(!0),U(""))};return v.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[v.jsx("header",{className:"bg-blue-900 text-white p-4 shadow-lg sticky top-0 z-50",children:v.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"bg-white/10 p-2 rounded-lg",children:v.jsx(cb,{className:"w-6 h-6 text-cyan-300"})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-black tracking-wide",children:"AquaGuard"}),v.jsx("p",{className:"text-xs text-blue-200",children:"    "})]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:B,className:`p-2 rounded-full hover:bg-blue-800 transition ${u?"animate-spin":""}`,title:"",children:v.jsx(Wg,{className:"w-4 h-4"})}),v.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full border text-xs font-bold bg-green-900/30 border-green-500 text-green-300",children:[v.jsx(Qg,{className:"w-3 h-3"})," "]})]})]})}),b&&v.jsx("div",{className:"fixed inset-0 z-[100] bg-blue-900/40 backdrop-blur-md flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-sm w-full animate-in zoom-in-95 duration-200",children:[v.jsx("div",{className:"flex justify-center mb-6",children:v.jsx("div",{className:"bg-blue-100 p-4 rounded-full",children:v.jsx(Eb,{className:"w-10 h-10 text-blue-600"})})}),v.jsx("h2",{className:"text-xl font-black text-center mb-2 text-gray-800 font-bold",children:"   "}),v.jsx("p",{className:"text-sm text-gray-500 text-center mb-6",children:"          ."}),v.jsxs("form",{onSubmit:q,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("input",{autoFocus:!0,type:"password",value:x,onChange:H=>U(H.target.value),placeholder:" ",className:`w-full p-4 border rounded-xl text-center text-lg focus:ring-2 outline-none transition ${S?"border-red-500 ring-red-100":"border-gray-200 focus:ring-blue-500 focus:border-blue-500"}`}),S&&v.jsx("p",{className:"text-red-500 text-xs mt-2 text-center font-bold",children:"   !"})]}),v.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-black py-4 rounded-xl shadow-lg transition transform active:scale-95",children:"  "}),v.jsxs("button",{type:"button",onClick:()=>{E(!1),A(null),k(!1)},className:"w-full text-gray-400 hover:text-gray-600 text-xs font-bold py-2 flex items-center justify-center gap-1",children:[v.jsx(Y_,{className:"w-3 h-3"}),"   "]})]})]})}),v.jsxs("main",{className:"max-w-6xl mx-auto p-4 relative",children:[u&&v.jsx("div",{className:"absolute inset-0 bg-gray-50/50 z-10 flex items-center justify-center min-h-[400px]",children:v.jsxs("div",{className:"flex flex-col items-center gap-2",children:[v.jsx(Wg,{className:"w-10 h-10 text-blue-600 animate-spin"}),v.jsx("span",{className:"text-gray-600 font-bold",children:"   ..."})]})}),v.jsxs("div",{className:u?"opacity-30 pointer-events-none":"opacity-100 transition-opacity",children:[a==="entry"&&v.jsx(Yb,{onSave:I,samples:s}),a==="map"&&v.jsx(BE,{samples:s}),a==="analytics"&&v.jsx(SS,{samples:s}),a==="list"&&v.jsx(wS,{samples:s})]})]}),v.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t md:top-24 md:bottom-auto md:right-4 md:left-auto md:w-44 md:bg-transparent md:border-none md:flex md:flex-col md:gap-4 md:h-screen z-40",children:[v.jsxs("div",{className:"flex justify-around items-center p-2 md:hidden",children:[v.jsx(ll,{active:a==="entry",onClick:()=>G("entry"),icon:v.jsx(Zg,{}),label:""}),v.jsx(ll,{active:a==="map",onClick:()=>G("map"),icon:v.jsx(uc,{}),label:""}),v.jsx(ll,{active:a==="analytics",onClick:()=>G("analytics"),icon:v.jsx(Xg,{}),label:""}),v.jsx(ll,{active:a==="list",onClick:()=>G("list"),icon:v.jsx(Fg,{}),label:""})]}),v.jsxs("div",{className:"hidden md:flex flex-col gap-2 bg-white p-2 rounded-2xl shadow-xl border border-gray-100",children:[v.jsx(ol,{active:a==="entry",onClick:()=>G("entry"),icon:v.jsx(Zg,{}),label:" "}),v.jsx(ol,{active:a==="map",onClick:()=>G("map"),icon:v.jsx(uc,{}),label:""}),v.jsx(ol,{active:a==="analytics",onClick:()=>G("analytics"),icon:v.jsx(Xg,{}),label:"  "}),v.jsx(ol,{active:a==="list",onClick:()=>G("list"),icon:v.jsx(Fg,{}),label:""})]})]}),f&&v.jsxs("div",{className:"fixed bottom-20 right-4 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-xl flex items-center gap-2 animate-bounce z-50",children:[v.jsx(Qg,{className:"w-4 h-4"}),v.jsx("span",{className:"text-sm font-bold",children:"  ..."})]})]})},ll=({active:a,onClick:n,icon:s,label:l})=>v.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 p-2 rounded-lg transition w-16 ${a?"text-blue-600 bg-blue-50":"text-gray-500"}`,children:[s,v.jsx("span",{className:"text-[10px] font-bold",children:l})]}),ol=({active:a,onClick:n,icon:s,label:l})=>v.jsxs("button",{onClick:n,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition w-full text-sm font-bold ${a?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:[s,v.jsx("span",{children:l})]}),qy=document.getElementById("root");if(!qy)throw new Error("Could not find root element to mount to");const s1=z_.createRoot(qy);s1.render(v.jsx(w_.StrictMode,{children:v.jsx(i1,{})}));
